"use strict";

var assets = require("./assets.js");
var jsxRuntime = require("react/jsx-runtime");
var authRecipe = require("./authRecipe-shared.js");
var React = require("react");
var querier = require("./querier.js");
var utils$3 = require("./utils.js");
var SuperTokensBranding = require("./SuperTokensBranding.js");
var translationContext = require("./translationContext.js");
var formBase = require("./emailpassword-shared3.js");
var reactDom = require("react-dom");
require("./index.js");
var button = require("./emailpassword-shared.js");

function _interopNamespaceDefault(e) {
    var n = Object.create(null);
    if (e) {
        Object.keys(e).forEach(function (k) {
            if (k !== "default") {
                var d = Object.getOwnPropertyDescriptor(e, k);
                Object.defineProperty(
                    n,
                    k,
                    d.get
                        ? d
                        : {
                              enumerable: true,
                              get: function () {
                                  return e[k];
                              },
                          }
                );
            }
        });
    }
    n.default = e;
    return Object.freeze(n);
}

var React__namespace = /*#__PURE__*/ _interopNamespaceDefault(React);

// This file is a workaround for a bug in web browsers' "native"
// ES6 importing system which is uncapable of importing "*.json" files.
// https://github.com/catamphetamine/libphonenumber-js/issues/239
var metadata$2 = {
    version: 4,
    country_calling_codes: {
        1: [
            "US",
            "AG",
            "AI",
            "AS",
            "BB",
            "BM",
            "BS",
            "CA",
            "DM",
            "DO",
            "GD",
            "GU",
            "JM",
            "KN",
            "KY",
            "LC",
            "MP",
            "MS",
            "PR",
            "SX",
            "TC",
            "TT",
            "VC",
            "VG",
            "VI",
        ],
        7: ["RU", "KZ"],
        20: ["EG"],
        27: ["ZA"],
        30: ["GR"],
        31: ["NL"],
        32: ["BE"],
        33: ["FR"],
        34: ["ES"],
        36: ["HU"],
        39: ["IT", "VA"],
        40: ["RO"],
        41: ["CH"],
        43: ["AT"],
        44: ["GB", "GG", "IM", "JE"],
        45: ["DK"],
        46: ["SE"],
        47: ["NO", "SJ"],
        48: ["PL"],
        49: ["DE"],
        51: ["PE"],
        52: ["MX"],
        53: ["CU"],
        54: ["AR"],
        55: ["BR"],
        56: ["CL"],
        57: ["CO"],
        58: ["VE"],
        60: ["MY"],
        61: ["AU", "CC", "CX"],
        62: ["ID"],
        63: ["PH"],
        64: ["NZ"],
        65: ["SG"],
        66: ["TH"],
        81: ["JP"],
        82: ["KR"],
        84: ["VN"],
        86: ["CN"],
        90: ["TR"],
        91: ["IN"],
        92: ["PK"],
        93: ["AF"],
        94: ["LK"],
        95: ["MM"],
        98: ["IR"],
        211: ["SS"],
        212: ["MA", "EH"],
        213: ["DZ"],
        216: ["TN"],
        218: ["LY"],
        220: ["GM"],
        221: ["SN"],
        222: ["MR"],
        223: ["ML"],
        224: ["GN"],
        225: ["CI"],
        226: ["BF"],
        227: ["NE"],
        228: ["TG"],
        229: ["BJ"],
        230: ["MU"],
        231: ["LR"],
        232: ["SL"],
        233: ["GH"],
        234: ["NG"],
        235: ["TD"],
        236: ["CF"],
        237: ["CM"],
        238: ["CV"],
        239: ["ST"],
        240: ["GQ"],
        241: ["GA"],
        242: ["CG"],
        243: ["CD"],
        244: ["AO"],
        245: ["GW"],
        246: ["IO"],
        247: ["AC"],
        248: ["SC"],
        249: ["SD"],
        250: ["RW"],
        251: ["ET"],
        252: ["SO"],
        253: ["DJ"],
        254: ["KE"],
        255: ["TZ"],
        256: ["UG"],
        257: ["BI"],
        258: ["MZ"],
        260: ["ZM"],
        261: ["MG"],
        262: ["RE", "YT"],
        263: ["ZW"],
        264: ["NA"],
        265: ["MW"],
        266: ["LS"],
        267: ["BW"],
        268: ["SZ"],
        269: ["KM"],
        290: ["SH", "TA"],
        291: ["ER"],
        297: ["AW"],
        298: ["FO"],
        299: ["GL"],
        350: ["GI"],
        351: ["PT"],
        352: ["LU"],
        353: ["IE"],
        354: ["IS"],
        355: ["AL"],
        356: ["MT"],
        357: ["CY"],
        358: ["FI", "AX"],
        359: ["BG"],
        370: ["LT"],
        371: ["LV"],
        372: ["EE"],
        373: ["MD"],
        374: ["AM"],
        375: ["BY"],
        376: ["AD"],
        377: ["MC"],
        378: ["SM"],
        380: ["UA"],
        381: ["RS"],
        382: ["ME"],
        383: ["XK"],
        385: ["HR"],
        386: ["SI"],
        387: ["BA"],
        389: ["MK"],
        420: ["CZ"],
        421: ["SK"],
        423: ["LI"],
        500: ["FK"],
        501: ["BZ"],
        502: ["GT"],
        503: ["SV"],
        504: ["HN"],
        505: ["NI"],
        506: ["CR"],
        507: ["PA"],
        508: ["PM"],
        509: ["HT"],
        590: ["GP", "BL", "MF"],
        591: ["BO"],
        592: ["GY"],
        593: ["EC"],
        594: ["GF"],
        595: ["PY"],
        596: ["MQ"],
        597: ["SR"],
        598: ["UY"],
        599: ["CW", "BQ"],
        670: ["TL"],
        672: ["NF"],
        673: ["BN"],
        674: ["NR"],
        675: ["PG"],
        676: ["TO"],
        677: ["SB"],
        678: ["VU"],
        679: ["FJ"],
        680: ["PW"],
        681: ["WF"],
        682: ["CK"],
        683: ["NU"],
        685: ["WS"],
        686: ["KI"],
        687: ["NC"],
        688: ["TV"],
        689: ["PF"],
        690: ["TK"],
        691: ["FM"],
        692: ["MH"],
        850: ["KP"],
        852: ["HK"],
        853: ["MO"],
        855: ["KH"],
        856: ["LA"],
        880: ["BD"],
        886: ["TW"],
        960: ["MV"],
        961: ["LB"],
        962: ["JO"],
        963: ["SY"],
        964: ["IQ"],
        965: ["KW"],
        966: ["SA"],
        967: ["YE"],
        968: ["OM"],
        970: ["PS"],
        971: ["AE"],
        972: ["IL"],
        973: ["BH"],
        974: ["QA"],
        975: ["BT"],
        976: ["MN"],
        977: ["NP"],
        992: ["TJ"],
        993: ["TM"],
        994: ["AZ"],
        995: ["GE"],
        996: ["KG"],
        998: ["UZ"],
    },
    countries: {
        AC: ["247", "00", "(?:[01589]\\d|[46])\\d{4}", [5, 6]],
        AD: [
            "376",
            "00",
            "(?:1|6\\d)\\d{7}|[135-9]\\d{5}",
            [6, 8, 9],
            [
                ["(\\d{3})(\\d{3})", "$1 $2", ["[135-9]"]],
                ["(\\d{4})(\\d{4})", "$1 $2", ["1"]],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["6"]],
            ],
        ],
        AE: [
            "971",
            "00",
            "(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",
            [5, 6, 7, 8, 9, 10, 11, 12],
            [
                ["(\\d{3})(\\d{2,9})", "$1 $2", ["60|8"]],
                ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["[236]|[479][2-8]"], "0$1"],
                ["(\\d{3})(\\d)(\\d{5})", "$1 $2 $3", ["[479]"]],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["5"], "0$1"],
            ],
            "0",
        ],
        AF: ["93", "00", "[2-7]\\d{8}", [9], [["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[2-7]"], "0$1"]], "0"],
        AG: ["1", "011", "(?:268|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([457]\\d{6})$", "268$1", 0, "268"],
        AI: ["1", "011", "(?:264|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2457]\\d{6})$", "264$1", 0, "264"],
        AL: [
            "355",
            "00",
            "(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",
            [6, 7, 8, 9],
            [
                ["(\\d{3})(\\d{3,4})", "$1 $2", ["80|9"], "0$1"],
                ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["4[2-6]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2358][2-5]|4"], "0$1"],
                ["(\\d{3})(\\d{5})", "$1 $2", ["[23578]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["6"], "0$1"],
            ],
            "0",
        ],
        AM: [
            "374",
            "00",
            "(?:[1-489]\\d|55|60|77)\\d{6}",
            [8],
            [
                ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["[89]0"], "0 $1"],
                ["(\\d{3})(\\d{5})", "$1 $2", ["2|3[12]"], "(0$1)"],
                ["(\\d{2})(\\d{6})", "$1 $2", ["1|47"], "(0$1)"],
                ["(\\d{2})(\\d{6})", "$1 $2", ["[3-9]"], "0$1"],
            ],
            "0",
        ],
        AO: ["244", "00", "[29]\\d{8}", [9], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[29]"]]]],
        AR: [
            "54",
            "00",
            "(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",
            [10, 11],
            [
                [
                    "(\\d{4})(\\d{2})(\\d{4})",
                    "$1 $2-$3",
                    [
                        "2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])",
                        "2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)",
                        "2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]",
                        "2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]",
                    ],
                    "0$1",
                    1,
                ],
                ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2-$3", ["1"], "0$1", 1],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1-$2-$3", ["[68]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2-$3", ["[23]"], "0$1", 1],
                [
                    "(\\d)(\\d{4})(\\d{2})(\\d{4})",
                    "$2 15-$3-$4",
                    [
                        "9(?:2[2-469]|3[3-578])",
                        "9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))",
                        "9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)",
                        "9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]",
                        "9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]",
                    ],
                    "0$1",
                    0,
                    "$1 $2 $3-$4",
                ],
                ["(\\d)(\\d{2})(\\d{4})(\\d{4})", "$2 15-$3-$4", ["91"], "0$1", 0, "$1 $2 $3-$4"],
                ["(\\d{3})(\\d{3})(\\d{5})", "$1-$2-$3", ["8"], "0$1"],
                ["(\\d)(\\d{3})(\\d{3})(\\d{4})", "$2 15-$3-$4", ["9"], "0$1", 0, "$1 $2 $3-$4"],
            ],
            "0",
            0,
            "0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?",
            "9$1",
        ],
        AS: ["1", "011", "(?:[58]\\d\\d|684|900)\\d{7}", [10], 0, "1", 0, "1|([267]\\d{6})$", "684$1", 0, "684"],
        AT: [
            "43",
            "00",
            "1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",
            [4, 5, 6, 7, 8, 9, 10, 11, 12, 13],
            [
                ["(\\d)(\\d{3,12})", "$1 $2", ["1(?:11|[2-9])"], "0$1"],
                ["(\\d{3})(\\d{2})", "$1 $2", ["517"], "0$1"],
                ["(\\d{2})(\\d{3,5})", "$1 $2", ["5[079]"], "0$1"],
                ["(\\d{3})(\\d{3,10})", "$1 $2", ["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"], "0$1"],
                ["(\\d{4})(\\d{3,9})", "$1 $2", ["[2-467]|5[2-6]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["5"], "0$1"],
                ["(\\d{2})(\\d{4})(\\d{4,7})", "$1 $2 $3", ["5"], "0$1"],
            ],
            "0",
        ],
        AU: [
            "61",
            "001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011",
            "1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",
            [5, 6, 7, 8, 9, 10, 12],
            [
                ["(\\d{2})(\\d{3,4})", "$1 $2", ["16"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{2,4})", "$1 $2 $3", ["16"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["14|4"], "0$1"],
                ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["[2378]"], "(0$1)"],
                ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1(?:30|[89])"]],
            ],
            "0",
            0,
            "0|(183[12])",
            0,
            0,
            0,
            [
                [
                    "(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8]))\\d{3}|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4]))|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",
                    [9],
                ],
                [
                    "4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",
                    [9],
                ],
                ["180(?:0\\d{3}|2)\\d{3}", [7, 10]],
                ["190[0-26]\\d{6}", [10]],
                0,
                0,
                0,
                ["163\\d{2,6}", [5, 6, 7, 8, 9]],
                ["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}", [9]],
                ["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}", [6, 8, 10, 12]],
            ],
            "0011",
        ],
        AW: ["297", "00", "(?:[25-79]\\d\\d|800)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[25-9]"]]]],
        AX: [
            "358",
            "00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))",
            "2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",
            [5, 6, 7, 8, 9, 10, 11, 12],
            0,
            "0",
            0,
            0,
            0,
            0,
            "18",
            0,
            "00",
        ],
        AZ: [
            "994",
            "00",
            "365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",
            [9],
            [
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["90"], "0$1"],
                [
                    "(\\d{2})(\\d{3})(\\d{2})(\\d{2})",
                    "$1 $2 $3 $4",
                    ["1[28]|2|365|46", "1[28]|2|365[45]|46", "1[28]|2|365(?:4|5[02])|46"],
                    "(0$1)",
                ],
                ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[13-9]"], "0$1"],
            ],
            "0",
        ],
        BA: [
            "387",
            "00",
            "6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",
            [8, 9],
            [
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["6[1-3]|[7-9]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2-$3", ["[3-5]|6[56]"], "0$1"],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3 $4", ["6"], "0$1"],
            ],
            "0",
        ],
        BB: ["1", "011", "(?:246|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-9]\\d{6})$", "246$1", 0, "246"],
        BD: [
            "880",
            "00",
            "[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",
            [6, 7, 8, 9, 10],
            [
                ["(\\d{2})(\\d{4,6})", "$1-$2", ["31[5-8]|[459]1"], "0$1"],
                [
                    "(\\d{3})(\\d{3,7})",
                    "$1-$2",
                    [
                        "3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:28|4[14]|5)|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]",
                    ],
                    "0$1",
                ],
                ["(\\d{4})(\\d{3,6})", "$1-$2", ["[13-9]|22"], "0$1"],
                ["(\\d)(\\d{7,8})", "$1-$2", ["2"], "0$1"],
            ],
            "0",
        ],
        BE: [
            "32",
            "00",
            "4\\d{8}|[1-9]\\d{7}",
            [8, 9],
            [
                ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["(?:80|9)0"], "0$1"],
                ["(\\d)(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[239]|4[23]"], "0$1"],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[15-8]"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["4"], "0$1"],
            ],
            "0",
        ],
        BF: ["226", "00", "[025-7]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[025-7]"]]]],
        BG: [
            "359",
            "00",
            "[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",
            [6, 7, 8, 9],
            [
                ["(\\d)(\\d)(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["2"], "0$1"],
                ["(\\d{3})(\\d{4})", "$1 $2", ["43[1-6]|70[1-9]"], "0$1"],
                ["(\\d)(\\d{3})(\\d{3,4})", "$1 $2 $3", ["2"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{2,3})", "$1 $2 $3", ["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["(?:70|8)0"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{2})", "$1 $2 $3", ["43[1-7]|7"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[48]|9[08]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["9"], "0$1"],
            ],
            "0",
        ],
        BH: ["973", "00", "[136-9]\\d{7}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[13679]|8[047]"]]]],
        BI: [
            "257",
            "00",
            "(?:[267]\\d|31)\\d{6}",
            [8],
            [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2367]"]]],
        ],
        BJ: ["229", "00", "[25689]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[25689]"]]]],
        BL: [
            "590",
            "00",
            "(?:590|(?:69|80)\\d|976)\\d{6}",
            [9],
            0,
            "0",
            0,
            0,
            0,
            0,
            0,
            [
                ["590(?:2[7-9]|5[12]|87)\\d{4}"],
                ["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],
                ["80[0-5]\\d{6}"],
                0,
                0,
                0,
                0,
                0,
                ["976[01]\\d{5}"],
            ],
        ],
        BM: ["1", "011", "(?:441|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-8]\\d{6})$", "441$1", 0, "441"],
        BN: ["673", "00", "[2-578]\\d{6}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[2-578]"]]]],
        BO: [
            "591",
            "00(?:1\\d)?",
            "(?:[2-467]\\d\\d|8001)\\d{5}",
            [8, 9],
            [
                ["(\\d)(\\d{7})", "$1 $2", ["[23]|4[46]"]],
                ["(\\d{8})", "$1", ["[67]"]],
                ["(\\d{3})(\\d{2})(\\d{4})", "$1 $2 $3", ["8"]],
            ],
            "0",
            0,
            "0(1\\d)?",
        ],
        BQ: ["599", "00", "(?:[34]1|7\\d)\\d{5}", [7], 0, 0, 0, 0, 0, 0, "[347]"],
        BR: [
            "55",
            "00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)",
            "(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-24679]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",
            [8, 9, 10, 11],
            [
                ["(\\d{4})(\\d{4})", "$1-$2", ["300|4(?:0[02]|37)", "4(?:02|37)0|[34]00"]],
                ["(\\d{3})(\\d{2,3})(\\d{4})", "$1 $2 $3", ["(?:[358]|90)0"], "0$1"],
                [
                    "(\\d{2})(\\d{4})(\\d{4})",
                    "$1 $2-$3",
                    ["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],
                    "($1)",
                ],
                ["(\\d{2})(\\d{5})(\\d{4})", "$1 $2-$3", ["[16][1-9]|[2-57-9]"], "($1)"],
            ],
            "0",
            0,
            "(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?",
            "$2",
        ],
        BS: ["1", "011", "(?:242|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([3-8]\\d{6})$", "242$1", 0, "242"],
        BT: [
            "975",
            "00",
            "[17]\\d{7}|[2-8]\\d{6}",
            [7, 8],
            [
                ["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-68]|7[246]"]],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["1[67]|7"]],
            ],
        ],
        BW: [
            "267",
            "00",
            "(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",
            [7, 8, 10],
            [
                ["(\\d{2})(\\d{5})", "$1 $2", ["90"]],
                ["(\\d{3})(\\d{4})", "$1 $2", ["[24-6]|3[15-79]"]],
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[37]"]],
                ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["0"]],
                ["(\\d{3})(\\d{4})(\\d{3})", "$1 $2 $3", ["8"]],
            ],
        ],
        BY: [
            "375",
            "810",
            "(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",
            [6, 7, 8, 9, 10, 11],
            [
                ["(\\d{3})(\\d{3})", "$1 $2", ["800"], "8 $1"],
                ["(\\d{3})(\\d{2})(\\d{2,4})", "$1 $2 $3", ["800"], "8 $1"],
                [
                    "(\\d{4})(\\d{2})(\\d{3})",
                    "$1 $2-$3",
                    [
                        "1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])",
                        "1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])",
                    ],
                    "8 0$1",
                ],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["1(?:[56]|7[467])|2[1-3]"], "8 0$1"],
                ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["[1-4]"], "8 0$1"],
                ["(\\d{3})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["[89]"], "8 $1"],
            ],
            "8",
            0,
            "0|80?",
            0,
            0,
            0,
            0,
            "8~10",
        ],
        BZ: [
            "501",
            "00",
            "(?:0800\\d|[2-8])\\d{6}",
            [7, 11],
            [
                ["(\\d{3})(\\d{4})", "$1-$2", ["[2-8]"]],
                ["(\\d)(\\d{3})(\\d{4})(\\d{3})", "$1-$2-$3-$4", ["0"]],
            ],
        ],
        CA: [
            "1",
            "011",
            "(?:[2-8]\\d|90)\\d{8}",
            [10],
            0,
            "1",
            0,
            0,
            0,
            0,
            0,
            [
                [
                    "(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|6[578])|4(?:03|1[68]|3[178]|50|74)|5(?:06|1[49]|48|79|8[17])|6(?:04|13|39|47|72)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",
                ],
                [""],
                ["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],
                ["900[2-9]\\d{6}"],
                [
                    "52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:00|2[12]|33|44|66|77|88)|622)[2-9]\\d{6}",
                ],
                0,
                0,
                0,
                ["600[2-9]\\d{6}"],
            ],
        ],
        CC: [
            "61",
            "001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011",
            "1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",
            [6, 7, 8, 9, 10, 12],
            0,
            "0",
            0,
            "0|([59]\\d{7})$",
            "8$1",
            0,
            0,
            [
                [
                    "8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",
                    [9],
                ],
                [
                    "4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",
                    [9],
                ],
                ["180(?:0\\d{3}|2)\\d{3}", [7, 10]],
                ["190[0-26]\\d{6}", [10]],
                0,
                0,
                0,
                0,
                ["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}", [9]],
                ["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}", [6, 8, 10, 12]],
            ],
            "0011",
        ],
        CD: [
            "243",
            "00",
            "[189]\\d{8}|[1-68]\\d{6}",
            [7, 9],
            [
                ["(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3", ["88"], "0$1"],
                ["(\\d{2})(\\d{5})", "$1 $2", ["[1-6]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[89]"], "0$1"],
            ],
            "0",
        ],
        CF: [
            "236",
            "00",
            "(?:[27]\\d{3}|8776)\\d{4}",
            [8],
            [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[278]"]]],
        ],
        CG: [
            "242",
            "00",
            "(?:0\\d\\d|222|800)\\d{6}",
            [9],
            [
                ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["8"]],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[02]"]],
            ],
        ],
        CH: [
            "41",
            "00",
            "8\\d{11}|[2-9]\\d{8}",
            [9],
            [
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8[047]|90"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-79]|81"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4 $5", ["8"], "0$1"],
            ],
            "0",
        ],
        CI: [
            "225",
            "00",
            "[02]\\d{9}",
            [10],
            [
                ["(\\d{2})(\\d{2})(\\d)(\\d{5})", "$1 $2 $3 $4", ["2"]],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3 $4", ["0"]],
            ],
        ],
        CK: ["682", "00", "[2-578]\\d{4}", [5], [["(\\d{2})(\\d{3})", "$1 $2", ["[2-578]"]]]],
        CL: [
            "56",
            "(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0",
            "12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",
            [9, 10, 11],
            [
                ["(\\d{5})(\\d{4})", "$1 $2", ["219", "2196"], "($1)"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["44"]],
                ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["2[1-3]"], "($1)"],
                ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["9[2-9]"]],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"], "($1)"],
                ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["60|8"]],
                ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"]],
                ["(\\d{3})(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3 $4", ["60"]],
            ],
        ],
        CM: [
            "237",
            "00",
            "[26]\\d{8}|88\\d{6,7}",
            [8, 9],
            [
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["88"]],
                ["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4 $5", ["[26]|88"]],
            ],
        ],
        CN: [
            "86",
            "00|1(?:[12]\\d|79)\\d\\d00",
            "1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",
            [7, 8, 9, 10, 11, 12],
            [
                [
                    "(\\d{2})(\\d{5,6})",
                    "$1 $2",
                    ["(?:10|2[0-57-9])[19]", "(?:10|2[0-57-9])(?:10|9[56])", "(?:10|2[0-57-9])(?:100|9[56])"],
                    "0$1",
                ],
                [
                    "(\\d{3})(\\d{5,6})",
                    "$1 $2",
                    [
                        "3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]",
                        "(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]",
                        "85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])",
                        "85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])",
                    ],
                    "0$1",
                ],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["(?:4|80)0"]],
                [
                    "(\\d{2})(\\d{4})(\\d{4})",
                    "$1 $2 $3",
                    [
                        "10|2(?:[02-57-9]|1[1-9])",
                        "10|2(?:[02-57-9]|1[1-9])",
                        "10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])",
                    ],
                    "0$1",
                    1,
                ],
                [
                    "(\\d{3})(\\d{3})(\\d{4})",
                    "$1 $2 $3",
                    [
                        "3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]",
                    ],
                    "0$1",
                    1,
                ],
                ["(\\d{3})(\\d{7,8})", "$1 $2", ["9"]],
                ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["80"], "0$1", 1],
                ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["[3-578]"], "0$1", 1],
                ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["1[3-9]"]],
                ["(\\d{2})(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3 $4", ["[12]"], "0$1", 1],
            ],
            "0",
            0,
            "0|(1(?:[12]\\d|79)\\d\\d)",
            0,
            0,
            0,
            0,
            "00",
        ],
        CO: [
            "57",
            "00(?:4(?:[14]4|56)|[579])",
            "(?:(?:1\\d|[36])\\d{3}|9101)\\d{6}|[124-8]\\d{7}",
            [8, 10, 11],
            [
                ["(\\d)(\\d{7})", "$1 $2", ["[146][2-9]|[2578]"], "($1)"],
                ["(\\d{3})(\\d{7})", "$1 $2", ["6"], "($1)"],
                ["(\\d{3})(\\d{7})", "$1 $2", ["[39]"]],
                ["(\\d)(\\d{3})(\\d{7})", "$1-$2-$3", ["1"], "0$1", 0, "$1 $2 $3"],
            ],
            "0",
            0,
            "0([3579]|4(?:[14]4|56))?",
        ],
        CR: [
            "506",
            "00",
            "(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",
            [8, 10],
            [
                ["(\\d{4})(\\d{4})", "$1 $2", ["[2-7]|8[3-9]"]],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1-$2-$3", ["[89]"]],
            ],
            0,
            0,
            "(19(?:0[0-2468]|1[09]|20|66|77|99))",
        ],
        CU: [
            "53",
            "119",
            "[27]\\d{6,7}|[34]\\d{5,7}|(?:5|8\\d\\d)\\d{7}",
            [6, 7, 8, 10],
            [
                ["(\\d{2})(\\d{4,6})", "$1 $2", ["2[1-4]|[34]"], "(0$1)"],
                ["(\\d)(\\d{6,7})", "$1 $2", ["7"], "(0$1)"],
                ["(\\d)(\\d{7})", "$1 $2", ["5"], "0$1"],
                ["(\\d{3})(\\d{7})", "$1 $2", ["8"], "0$1"],
            ],
            "0",
        ],
        CV: ["238", "0", "(?:[2-59]\\d\\d|800)\\d{4}", [7], [["(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3", ["[2-589]"]]]],
        CW: [
            "599",
            "00",
            "(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",
            [7, 8],
            [
                ["(\\d{3})(\\d{4})", "$1 $2", ["[3467]"]],
                ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["9[4-8]"]],
            ],
            0,
            0,
            0,
            0,
            0,
            "[69]",
        ],
        CX: [
            "61",
            "001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011",
            "1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",
            [6, 7, 8, 9, 10, 12],
            0,
            "0",
            0,
            "0|([59]\\d{7})$",
            "8$1",
            0,
            0,
            [
                [
                    "8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",
                    [9],
                ],
                [
                    "4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",
                    [9],
                ],
                ["180(?:0\\d{3}|2)\\d{3}", [7, 10]],
                ["190[0-26]\\d{6}", [10]],
                0,
                0,
                0,
                0,
                ["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}", [9]],
                ["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}", [6, 8, 10, 12]],
            ],
            "0011",
        ],
        CY: ["357", "00", "(?:[279]\\d|[58]0)\\d{6}", [8], [["(\\d{2})(\\d{6})", "$1 $2", ["[257-9]"]]]],
        CZ: [
            "420",
            "00",
            "(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",
            [9],
            [
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-8]|9[015-7]"]],
                ["(\\d{2})(\\d{3})(\\d{3})(\\d{2})", "$1 $2 $3 $4", ["96"]],
                ["(\\d{2})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["9"]],
                ["(\\d{3})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["9"]],
            ],
        ],
        DE: [
            "49",
            "00",
            "[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:1\\d|2[02-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[05]\\d|[23]1|[46][1-8])\\d{1,9}",
            [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],
            [
                ["(\\d{2})(\\d{3,13})", "$1 $2", ["3[02]|40|[68]9"], "0$1"],
                [
                    "(\\d{3})(\\d{3,12})",
                    "$1 $2",
                    [
                        "2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1",
                        "2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1",
                    ],
                    "0$1",
                ],
                [
                    "(\\d{4})(\\d{2,11})",
                    "$1 $2",
                    [
                        "[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]",
                        "[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]",
                    ],
                    "0$1",
                ],
                ["(\\d{3})(\\d{4})", "$1 $2", ["138"], "0$1"],
                ["(\\d{5})(\\d{2,10})", "$1 $2", ["3"], "0$1"],
                ["(\\d{3})(\\d{5,11})", "$1 $2", ["181"], "0$1"],
                ["(\\d{3})(\\d)(\\d{4,10})", "$1 $2 $3", ["1(?:3|80)|9"], "0$1"],
                ["(\\d{3})(\\d{7,8})", "$1 $2", ["1[67]"], "0$1"],
                ["(\\d{3})(\\d{7,12})", "$1 $2", ["8"], "0$1"],
                ["(\\d{5})(\\d{6})", "$1 $2", ["185", "1850", "18500"], "0$1"],
                ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["7"], "0$1"],
                ["(\\d{4})(\\d{7})", "$1 $2", ["18[68]"], "0$1"],
                ["(\\d{5})(\\d{6})", "$1 $2", ["15[0568]"], "0$1"],
                ["(\\d{4})(\\d{7})", "$1 $2", ["15[1279]"], "0$1"],
                ["(\\d{3})(\\d{8})", "$1 $2", ["18"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{7,8})", "$1 $2 $3", ["1(?:6[023]|7)"], "0$1"],
                ["(\\d{4})(\\d{2})(\\d{7})", "$1 $2 $3", ["15[279]"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{8})", "$1 $2 $3", ["15"], "0$1"],
            ],
            "0",
        ],
        DJ: ["253", "00", "(?:2\\d|77)\\d{6}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[27]"]]]],
        DK: ["45", "00", "[2-9]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-9]"]]]],
        DM: ["1", "011", "(?:[58]\\d\\d|767|900)\\d{7}", [10], 0, "1", 0, "1|([2-7]\\d{6})$", "767$1", 0, "767"],
        DO: ["1", "011", "(?:[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, 0, 0, 0, "8001|8[024]9"],
        DZ: [
            "213",
            "00",
            "(?:[1-4]|[5-79]\\d|80)\\d{7}",
            [8, 9],
            [
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[1-4]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["9"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[5-8]"], "0$1"],
            ],
            "0",
        ],
        EC: [
            "593",
            "00",
            "1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",
            [8, 9, 10, 11],
            [
                ["(\\d)(\\d{3})(\\d{4})", "$1 $2-$3", ["[2-7]"], "(0$1)", 0, "$1-$2-$3"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["9"], "0$1"],
                ["(\\d{4})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["1"]],
            ],
            "0",
        ],
        EE: [
            "372",
            "00",
            "8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",
            [7, 8, 10],
            [
                [
                    "(\\d{3})(\\d{4})",
                    "$1 $2",
                    [
                        "[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88",
                        "[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88",
                    ],
                ],
                ["(\\d{4})(\\d{3,4})", "$1 $2", ["[45]|8(?:00|[1-49])", "[45]|8(?:00[1-9]|[1-49])"]],
                ["(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3", ["7"]],
                ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"]],
            ],
        ],
        EG: [
            "20",
            "00",
            "[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",
            [8, 9, 10],
            [
                ["(\\d)(\\d{7,8})", "$1 $2", ["[23]"], "0$1"],
                ["(\\d{2})(\\d{6,7})", "$1 $2", ["1[35]|[4-6]|8[2468]|9[235-7]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[189]"], "0$1"],
            ],
            "0",
        ],
        EH: ["212", "00", "[5-8]\\d{8}", [9], 0, "0", 0, 0, 0, 0, "528[89]"],
        ER: ["291", "00", "[178]\\d{6}", [7], [["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[178]"], "0$1"]], "0"],
        ES: [
            "34",
            "00",
            "[5-9]\\d{8}",
            [9],
            [
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[89]00"]],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[5-9]"]],
            ],
        ],
        ET: [
            "251",
            "00",
            "(?:11|[2-59]\\d)\\d{7}",
            [9],
            [["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[1-59]"], "0$1"]],
            "0",
        ],
        FI: [
            "358",
            "00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))",
            "[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",
            [5, 6, 7, 8, 9, 10, 11, 12],
            [
                ["(\\d)(\\d{4,9})", "$1 $2", ["[2568][1-8]|3(?:0[1-9]|[1-9])|9"], "0$1"],
                ["(\\d{3})(\\d{3,7})", "$1 $2", ["[12]00|[368]|70[07-9]"], "0$1"],
                ["(\\d{2})(\\d{4,8})", "$1 $2", ["[1245]|7[135]"], "0$1"],
                ["(\\d{2})(\\d{6,10})", "$1 $2", ["7"], "0$1"],
            ],
            "0",
            0,
            0,
            0,
            0,
            "1[03-79]|[2-9]",
            0,
            "00",
        ],
        FJ: [
            "679",
            "0(?:0|52)",
            "45\\d{5}|(?:0800\\d|[235-9])\\d{6}",
            [7, 11],
            [
                ["(\\d{3})(\\d{4})", "$1 $2", ["[235-9]|45"]],
                ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["0"]],
            ],
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            "00",
        ],
        FK: ["500", "00", "[2-7]\\d{4}", [5]],
        FM: ["691", "00", "(?:[39]\\d\\d|820)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[389]"]]]],
        FO: ["298", "00", "[2-9]\\d{5}", [6], [["(\\d{6})", "$1", ["[2-9]"]]], 0, 0, "(10(?:01|[12]0|88))"],
        FR: [
            "33",
            "00",
            "[1-9]\\d{8}",
            [9],
            [
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0 $1"],
                ["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4 $5", ["[1-79]"], "0$1"],
            ],
            "0",
        ],
        GA: [
            "241",
            "00",
            "(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",
            [7, 8],
            [
                ["(\\d)(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-7]"], "0$1"],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["11|[67]"], "0$1"],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["0"]],
            ],
            0,
            0,
            "0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[47]\\d{6}|76\\d{6})",
            "$1",
        ],
        GB: [
            "44",
            "00",
            "[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",
            [7, 9, 10],
            [
                ["(\\d{3})(\\d{4})", "$1 $2", ["800", "8001", "80011", "800111", "8001111"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3", ["845", "8454", "84546", "845464"], "0$1"],
                ["(\\d{3})(\\d{6})", "$1 $2", ["800"], "0$1"],
                [
                    "(\\d{5})(\\d{4,5})",
                    "$1 $2",
                    [
                        "1(?:38|5[23]|69|76|94)",
                        "1(?:(?:38|69)7|5(?:24|39)|768|946)",
                        "1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)",
                    ],
                    "0$1",
                ],
                ["(\\d{4})(\\d{5,6})", "$1 $2", ["1(?:[2-69][02-9]|[78])"], "0$1"],
                [
                    "(\\d{2})(\\d{4})(\\d{4})",
                    "$1 $2 $3",
                    ["[25]|7(?:0|6[02-9])", "[25]|7(?:0|6(?:[03-9]|2[356]))"],
                    "0$1",
                ],
                ["(\\d{4})(\\d{6})", "$1 $2", ["7"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[1389]"], "0$1"],
            ],
            "0",
            0,
            0,
            0,
            0,
            0,
            [
                [
                    "(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0235])|4(?:[0-5]\\d\\d|69[7-9]|70[0359])|(?:5[0-26-9]|[78][0-49])\\d\\d|6(?:[0-4]\\d\\d|50[0-24-69]))|2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d\\d|1(?:[0-7]\\d\\d|8(?:[02]\\d|1[0-278])))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",
                    [9, 10],
                ],
                [
                    "7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",
                    [10],
                ],
                ["80[08]\\d{7}|800\\d{6}|8001111"],
                ["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d", [7, 10]],
                ["70\\d{8}", [10]],
                0,
                ["(?:3[0347]|55)\\d{8}", [10]],
                ["76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}", [10]],
                ["56\\d{8}", [10]],
            ],
            0,
            " x",
        ],
        GD: ["1", "011", "(?:473|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-9]\\d{6})$", "473$1", 0, "473"],
        GE: [
            "995",
            "00",
            "(?:[3-57]\\d\\d|800)\\d{6}",
            [9],
            [
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["70"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["32"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[57]"]],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[348]"], "0$1"],
            ],
            "0",
        ],
        GF: [
            "594",
            "00",
            "(?:[56]94|80\\d|976)\\d{6}",
            [9],
            [
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[569]"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0$1"],
            ],
            "0",
        ],
        GG: [
            "44",
            "00",
            "(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",
            [7, 9, 10],
            0,
            "0",
            0,
            "0|([25-9]\\d{5})$",
            "1481$1",
            0,
            0,
            [
                ["1481[25-9]\\d{5}", [10]],
                ["7(?:(?:781|839)\\d|911[17])\\d{5}", [10]],
                ["80[08]\\d{7}|800\\d{6}|8001111"],
                ["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d", [7, 10]],
                ["70\\d{8}", [10]],
                0,
                ["(?:3[0347]|55)\\d{8}", [10]],
                ["76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}", [10]],
                ["56\\d{8}", [10]],
            ],
        ],
        GH: [
            "233",
            "00",
            "(?:[235]\\d{3}|800)\\d{5}",
            [8, 9],
            [
                ["(\\d{3})(\\d{5})", "$1 $2", ["8"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[235]"], "0$1"],
            ],
            "0",
        ],
        GI: ["350", "00", "(?:[25]\\d\\d|606)\\d{5}", [8], [["(\\d{3})(\\d{5})", "$1 $2", ["2"]]]],
        GL: ["299", "00", "(?:19|[2-689]\\d|70)\\d{4}", [6], [["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["19|[2-9]"]]]],
        GM: ["220", "00", "[2-9]\\d{6}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[2-9]"]]]],
        GN: [
            "224",
            "00",
            "722\\d{6}|(?:3|6\\d)\\d{7}",
            [8, 9],
            [
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["3"]],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[67]"]],
            ],
        ],
        GP: [
            "590",
            "00",
            "(?:590|(?:69|80)\\d|976)\\d{6}",
            [9],
            [
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[569]"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0$1"],
            ],
            "0",
            0,
            0,
            0,
            0,
            0,
            [
                ["590(?:0[1-68]|1[0-2]|2[0-68]|3[1289]|4[0-24-9]|5[3-579]|6[0189]|7[08]|8[0-689]|9\\d)\\d{4}"],
                ["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],
                ["80[0-5]\\d{6}"],
                0,
                0,
                0,
                0,
                0,
                ["976[01]\\d{5}"],
            ],
        ],
        GQ: [
            "240",
            "00",
            "222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",
            [9],
            [
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[235]"]],
                ["(\\d{3})(\\d{6})", "$1 $2", ["[89]"]],
            ],
        ],
        GR: [
            "30",
            "00",
            "5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",
            [10, 11, 12],
            [
                ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["21|7"]],
                ["(\\d{4})(\\d{6})", "$1 $2", ["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[2689]"]],
                ["(\\d{3})(\\d{3,4})(\\d{5})", "$1 $2 $3", ["8"]],
            ],
        ],
        GT: [
            "502",
            "00",
            "(?:1\\d{3}|[2-7])\\d{7}",
            [8, 11],
            [
                ["(\\d{4})(\\d{4})", "$1 $2", ["[2-7]"]],
                ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"]],
            ],
        ],
        GU: ["1", "011", "(?:[58]\\d\\d|671|900)\\d{7}", [10], 0, "1", 0, "1|([3-9]\\d{6})$", "671$1", 0, "671"],
        GW: [
            "245",
            "00",
            "[49]\\d{8}|4\\d{6}",
            [7, 9],
            [
                ["(\\d{3})(\\d{4})", "$1 $2", ["40"]],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[49]"]],
            ],
        ],
        GY: [
            "592",
            "001",
            "(?:862\\d|9008)\\d{3}|(?:[2-46]\\d|77)\\d{5}",
            [7],
            [["(\\d{3})(\\d{4})", "$1 $2", ["[2-46-9]"]]],
        ],
        HK: [
            "852",
            "00(?:30|5[09]|[126-9]?)",
            "8[0-46-9]\\d{6,7}|9\\d{4}(?:\\d(?:\\d(?:\\d{4})?)?)?|(?:[235-79]\\d|46)\\d{6}",
            [5, 6, 7, 8, 9, 11],
            [
                ["(\\d{3})(\\d{2,5})", "$1 $2", ["900", "9003"]],
                ["(\\d{4})(\\d{4})", "$1 $2", ["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"]],
                ["(\\d{3})(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["9"]],
            ],
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            "00",
        ],
        HN: ["504", "00", "8\\d{10}|[237-9]\\d{7}", [8, 11], [["(\\d{4})(\\d{4})", "$1-$2", ["[237-9]"]]]],
        HR: [
            "385",
            "00",
            "(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",
            [6, 7, 8, 9],
            [
                ["(\\d{2})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["6[01]"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["8"], "0$1"],
                ["(\\d)(\\d{4})(\\d{3})", "$1 $2 $3", ["1"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[67]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["9"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2-5]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"], "0$1"],
            ],
            "0",
        ],
        HT: ["509", "00", "[2-489]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3", ["[2-489]"]]]],
        HU: [
            "36",
            "00",
            "[235-7]\\d{8}|[1-9]\\d{7}",
            [8, 9],
            [
                ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "(06 $1)"],
                [
                    "(\\d{2})(\\d{3})(\\d{3})",
                    "$1 $2 $3",
                    ["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],
                    "(06 $1)",
                ],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2-9]"], "06 $1"],
            ],
            "06",
        ],
        ID: [
            "62",
            "00[89]",
            "(?:(?:00[1-9]|8\\d)\\d{4}|[1-36])\\d{6}|00\\d{10}|[1-9]\\d{8,10}|[2-9]\\d{7}",
            [7, 8, 9, 10, 11, 12, 13],
            [
                ["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["15"]],
                ["(\\d{2})(\\d{5,9})", "$1 $2", ["2[124]|[36]1"], "(0$1)"],
                ["(\\d{3})(\\d{5,7})", "$1 $2", ["800"], "0$1"],
                ["(\\d{3})(\\d{5,8})", "$1 $2", ["[2-79]"], "(0$1)"],
                ["(\\d{3})(\\d{3,4})(\\d{3})", "$1-$2-$3", ["8[1-35-9]"], "0$1"],
                ["(\\d{3})(\\d{6,8})", "$1 $2", ["1"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["804"], "0$1"],
                ["(\\d{3})(\\d)(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["80"], "0$1"],
                ["(\\d{3})(\\d{4})(\\d{4,5})", "$1-$2-$3", ["8"], "0$1"],
            ],
            "0",
        ],
        IE: [
            "353",
            "00",
            "(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",
            [7, 8, 9, 10],
            [
                ["(\\d{2})(\\d{5})", "$1 $2", ["2[24-9]|47|58|6[237-9]|9[35-9]"], "(0$1)"],
                ["(\\d{3})(\\d{5})", "$1 $2", ["[45]0"], "(0$1)"],
                ["(\\d)(\\d{3,4})(\\d{4})", "$1 $2 $3", ["1"], "(0$1)"],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2569]|4[1-69]|7[14]"], "(0$1)"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["70"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["81"], "(0$1)"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[78]"], "0$1"],
                ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1"]],
                ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["4"], "(0$1)"],
                ["(\\d{2})(\\d)(\\d{3})(\\d{4})", "$1 $2 $3 $4", ["8"], "0$1"],
            ],
            "0",
        ],
        IL: [
            "972",
            "0(?:0|1[2-9])",
            "1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",
            [7, 8, 9, 10, 11, 12],
            [
                ["(\\d{4})(\\d{3})", "$1-$2", ["125"]],
                ["(\\d{4})(\\d{2})(\\d{2})", "$1-$2-$3", ["121"]],
                ["(\\d)(\\d{3})(\\d{4})", "$1-$2-$3", ["[2-489]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1-$2-$3", ["[57]"], "0$1"],
                ["(\\d{4})(\\d{3})(\\d{3})", "$1-$2-$3", ["12"]],
                ["(\\d{4})(\\d{6})", "$1-$2", ["159"]],
                ["(\\d)(\\d{3})(\\d{3})(\\d{3})", "$1-$2-$3-$4", ["1[7-9]"]],
                ["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})", "$1-$2 $3-$4", ["15"]],
            ],
            "0",
        ],
        IM: [
            "44",
            "00",
            "1624\\d{6}|(?:[3578]\\d|90)\\d{8}",
            [10],
            0,
            "0",
            0,
            "0|([25-8]\\d{5})$",
            "1624$1",
            0,
            "74576|(?:16|7[56])24",
        ],
        IN: [
            "91",
            "00",
            "(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",
            [8, 9, 10, 11, 12, 13],
            [
                [
                    "(\\d{8})",
                    "$1",
                    [
                        "5(?:0|2[23]|3[03]|[67]1|88)",
                        "5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)",
                        "5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)",
                    ],
                    0,
                    1,
                ],
                ["(\\d{4})(\\d{4,5})", "$1 $2", ["180", "1800"], 0, 1],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["140"], 0, 1],
                [
                    "(\\d{2})(\\d{4})(\\d{4})",
                    "$1 $2 $3",
                    [
                        "11|2[02]|33|4[04]|79[1-7]|80[2-46]",
                        "11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])",
                        "11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])",
                    ],
                    "0$1",
                    1,
                ],
                [
                    "(\\d{3})(\\d{3})(\\d{4})",
                    "$1 $2 $3",
                    [
                        "1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]",
                        "1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]",
                        "1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]",
                    ],
                    "0$1",
                    1,
                ],
                [
                    "(\\d{4})(\\d{3})(\\d{3})",
                    "$1 $2 $3",
                    [
                        "1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807",
                        "1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]",
                        "1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]",
                    ],
                    "0$1",
                    1,
                ],
                ["(\\d{5})(\\d{5})", "$1 $2", ["[6-9]"], "0$1", 1],
                ["(\\d{4})(\\d{2,4})(\\d{4})", "$1 $2 $3", ["1(?:6|8[06])", "1(?:6|8[06]0)"], 0, 1],
                ["(\\d{4})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["18"], 0, 1],
            ],
            "0",
        ],
        IO: ["246", "00", "3\\d{6}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["3"]]]],
        IQ: [
            "964",
            "00",
            "(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",
            [8, 9, 10],
            [
                ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2-6]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["7"], "0$1"],
            ],
            "0",
        ],
        IR: [
            "98",
            "00",
            "[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",
            [4, 5, 6, 7, 10],
            [
                ["(\\d{4,5})", "$1", ["96"], "0$1"],
                [
                    "(\\d{2})(\\d{4,5})",
                    "$1 $2",
                    ["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],
                    "0$1",
                ],
                ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["9"], "0$1"],
                ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["[1-8]"], "0$1"],
            ],
            "0",
        ],
        IS: [
            "354",
            "00|1(?:0(?:01|[12]0)|100)",
            "(?:38\\d|[4-9])\\d{6}",
            [7, 9],
            [
                ["(\\d{3})(\\d{4})", "$1 $2", ["[4-9]"]],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["3"]],
            ],
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            "00",
        ],
        IT: [
            "39",
            "00",
            "0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|55\\d{8}|8\\d{5}(?:\\d{2,4})?",
            [6, 7, 8, 9, 10, 11],
            [
                ["(\\d{2})(\\d{4,6})", "$1 $2", ["0[26]"]],
                [
                    "(\\d{3})(\\d{3,6})",
                    "$1 $2",
                    ["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])", "0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"],
                ],
                ["(\\d{4})(\\d{2,6})", "$1 $2", ["0(?:[13-579][2-46-8]|8[236-8])"]],
                ["(\\d{4})(\\d{4})", "$1 $2", ["894"]],
                ["(\\d{2})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["0[26]|5"]],
                ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["1(?:44|[679])|[38]"]],
                ["(\\d{3})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["0[13-57-9][0159]|14"]],
                ["(\\d{2})(\\d{4})(\\d{5})", "$1 $2 $3", ["0[26]"]],
                ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["0"]],
                ["(\\d{3})(\\d{4})(\\d{4,5})", "$1 $2 $3", ["3"]],
            ],
            0,
            0,
            0,
            0,
            0,
            0,
            [
                [
                    "0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",
                ],
                ["3[1-9]\\d{8}|3[2-9]\\d{7}", [9, 10]],
                ["80(?:0\\d{3}|3)\\d{3}", [6, 9]],
                [
                    "(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",
                    [6, 8, 9, 10],
                ],
                ["1(?:78\\d|99)\\d{6}", [9, 10]],
                0,
                0,
                0,
                ["55\\d{8}", [10]],
                ["84(?:[08]\\d{3}|[17])\\d{3}", [6, 9]],
            ],
        ],
        JE: [
            "44",
            "00",
            "1534\\d{6}|(?:[3578]\\d|90)\\d{8}",
            [10],
            0,
            "0",
            0,
            "0|([0-24-8]\\d{5})$",
            "1534$1",
            0,
            0,
            [
                ["1534[0-24-8]\\d{5}"],
                ["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}"],
                ["80(?:07(?:35|81)|8901)\\d{4}"],
                [
                    "(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}",
                ],
                ["701511\\d{4}"],
                0,
                [
                    "(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}",
                ],
                ["76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}"],
                ["56\\d{8}"],
            ],
        ],
        JM: ["1", "011", "(?:[58]\\d\\d|658|900)\\d{7}", [10], 0, "1", 0, 0, 0, 0, "658|876"],
        JO: [
            "962",
            "00",
            "(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",
            [8, 9],
            [
                ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["[2356]|87"], "(0$1)"],
                ["(\\d{3})(\\d{5,6})", "$1 $2", ["[89]"], "0$1"],
                ["(\\d{2})(\\d{7})", "$1 $2", ["70"], "0$1"],
                ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["7"], "0$1"],
            ],
            "0",
        ],
        JP: [
            "81",
            "010",
            "00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",
            [8, 9, 10, 11, 12, 13, 14, 15, 16, 17],
            [
                ["(\\d{3})(\\d{3})(\\d{3})", "$1-$2-$3", ["(?:12|57|99)0"], "0$1"],
                [
                    "(\\d{4})(\\d)(\\d{4})",
                    "$1-$2-$3",
                    [
                        "1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])",
                        "1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9]|636)|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]",
                        "1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9]|636[457-9])|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]",
                    ],
                    "0$1",
                ],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1-$2-$3", ["60"], "0$1"],
                [
                    "(\\d)(\\d{4})(\\d{4})",
                    "$1-$2-$3",
                    ["[36]|4(?:2[09]|7[01])", "[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],
                    "0$1",
                ],
                [
                    "(\\d{2})(\\d{3})(\\d{4})",
                    "$1-$2-$3",
                    [
                        "1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[27-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])",
                        "1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(?:2|3[045]|4[0-369]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|49|51|6(?:[0-24]|36|5[0-3589]|72|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:49|55|83)[29]|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]",
                        "1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]",
                        "1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|7[015-9]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17|3[015-9]))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|829(?:2|66)|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]",
                    ],
                    "0$1",
                ],
                ["(\\d{3})(\\d{2})(\\d{4})", "$1-$2-$3", ["[14]|[289][2-9]|5[3-9]|7[2-4679]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1-$2-$3", ["800"], "0$1"],
                ["(\\d{2})(\\d{4})(\\d{4})", "$1-$2-$3", ["[257-9]"], "0$1"],
            ],
            "0",
        ],
        KE: [
            "254",
            "000",
            "(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",
            [7, 8, 9, 10],
            [
                ["(\\d{2})(\\d{5,7})", "$1 $2", ["[24-6]"], "0$1"],
                ["(\\d{3})(\\d{6})", "$1 $2", ["[17]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[89]"], "0$1"],
            ],
            "0",
        ],
        KG: [
            "996",
            "00",
            "8\\d{9}|(?:[235-8]\\d|99)\\d{7}",
            [9, 10],
            [
                ["(\\d{4})(\\d{5})", "$1 $2", ["3(?:1[346]|[24-79])"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[235-79]|88"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d)(\\d{2,3})", "$1 $2 $3 $4", ["8"], "0$1"],
            ],
            "0",
        ],
        KH: [
            "855",
            "00[14-9]",
            "1\\d{9}|[1-9]\\d{7,8}",
            [8, 9, 10],
            [
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[1-9]"], "0$1"],
                ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1"]],
            ],
            "0",
        ],
        KI: ["686", "00", "(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}", [5, 8], 0, "0"],
        KM: ["269", "00", "[3478]\\d{6}", [7], [["(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3", ["[3478]"]]]],
        KN: ["1", "011", "(?:[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-7]\\d{6})$", "869$1", 0, "869"],
        KP: [
            "850",
            "00|99",
            "85\\d{6}|(?:19\\d|[2-7])\\d{7}",
            [8, 10],
            [
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"], "0$1"],
                ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["[2-7]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "0$1"],
            ],
            "0",
        ],
        KR: [
            "82",
            "00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))",
            "00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",
            [5, 6, 8, 9, 10, 11, 12, 13, 14],
            [
                ["(\\d{2})(\\d{3,4})", "$1-$2", ["(?:3[1-3]|[46][1-4]|5[1-5])1"], "0$1"],
                ["(\\d{4})(\\d{4})", "$1-$2", ["1"]],
                ["(\\d)(\\d{3,4})(\\d{4})", "$1-$2-$3", ["2"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1-$2-$3", ["60|8"], "0$1"],
                ["(\\d{2})(\\d{3,4})(\\d{4})", "$1-$2-$3", ["[1346]|5[1-5]"], "0$1"],
                ["(\\d{2})(\\d{4})(\\d{4})", "$1-$2-$3", ["[57]"], "0$1"],
                ["(\\d{2})(\\d{5})(\\d{4})", "$1-$2-$3", ["5"], "0$1"],
            ],
            "0",
            0,
            "0(8(?:[1-46-8]|5\\d\\d))?",
        ],
        KW: [
            "965",
            "00",
            "18\\d{5}|(?:[2569]\\d|41)\\d{6}",
            [7, 8],
            [
                ["(\\d{4})(\\d{3,4})", "$1 $2", ["[169]|2(?:[235]|4[1-35-9])|52"]],
                ["(\\d{3})(\\d{5})", "$1 $2", ["[245]"]],
            ],
        ],
        KY: ["1", "011", "(?:345|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-9]\\d{6})$", "345$1", 0, "345"],
        KZ: ["7", "810", "(?:33622|8\\d{8})\\d{5}|[78]\\d{9}", [10, 14], 0, "8", 0, 0, 0, 0, "33|7", 0, "8~10"],
        LA: [
            "856",
            "00",
            "[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",
            [8, 9, 10],
            [
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["2[13]|3[14]|[4-8]"], "0$1"],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3 $4", ["30[013-9]"], "0$1"],
                ["(\\d{2})(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["[23]"], "0$1"],
            ],
            "0",
        ],
        LB: [
            "961",
            "00",
            "[27-9]\\d{7}|[13-9]\\d{6}",
            [7, 8],
            [
                ["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[27-9]"]],
            ],
            "0",
        ],
        LC: ["1", "011", "(?:[58]\\d\\d|758|900)\\d{7}", [10], 0, "1", 0, "1|([2-8]\\d{6})$", "758$1", 0, "758"],
        LI: [
            "423",
            "00",
            "90\\d{5}|(?:[2378]|6\\d\\d)\\d{6}",
            [7, 9],
            [
                ["(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3", ["[237-9]"]],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["69"]],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["6"]],
            ],
            "0",
            0,
            "0|(1001)",
        ],
        LK: [
            "94",
            "00",
            "[1-9]\\d{8}",
            [9],
            [
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["7"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[1-689]"], "0$1"],
            ],
            "0",
        ],
        LR: [
            "231",
            "00",
            "(?:2|33|5\\d|77|88)\\d{7}|[4-6]\\d{6}",
            [7, 8, 9],
            [
                ["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[4-6]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["2"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[3578]"], "0$1"],
            ],
            "0",
        ],
        LS: ["266", "00", "(?:[256]\\d\\d|800)\\d{5}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[2568]"]]]],
        LT: [
            "370",
            "00",
            "(?:[3469]\\d|52|[78]0)\\d{6}",
            [8],
            [
                ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["52[0-7]"], "(8-$1)", 1],
                ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["[7-9]"], "8 $1", 1],
                ["(\\d{2})(\\d{6})", "$1 $2", ["37|4(?:[15]|6[1-8])"], "(8-$1)", 1],
                ["(\\d{3})(\\d{5})", "$1 $2", ["[3-6]"], "(8-$1)", 1],
            ],
            "8",
            0,
            "[08]",
        ],
        LU: [
            "352",
            "00",
            "35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",
            [4, 5, 6, 7, 8, 9, 10, 11],
            [
                ["(\\d{2})(\\d{3})", "$1 $2", ["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],
                [
                    "(\\d{2})(\\d{2})(\\d{2})",
                    "$1 $2 $3",
                    ["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"],
                ],
                ["(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3", ["20[2-689]"]],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})", "$1 $2 $3 $4", ["2(?:[0367]|4[3-8])"]],
                ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["80[01]|90[015]"]],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3 $4", ["20"]],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["6"]],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})", "$1 $2 $3 $4 $5", ["2(?:[0367]|4[3-8])"]],
                [
                    "(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})",
                    "$1 $2 $3 $4",
                    ["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"],
                ],
            ],
            0,
            0,
            "(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)",
        ],
        LV: ["371", "00", "(?:[268]\\d|90)\\d{6}", [8], [["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[269]|8[01]"]]]],
        LY: ["218", "00", "[2-9]\\d{8}", [9], [["(\\d{2})(\\d{7})", "$1-$2", ["[2-9]"], "0$1"]], "0"],
        MA: [
            "212",
            "00",
            "[5-8]\\d{8}",
            [9],
            [
                ["(\\d{5})(\\d{4})", "$1-$2", ["5(?:29|38)", "5(?:29|38)[89]", "5(?:29|38)[89]0"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["5[45]"], "0$1"],
                [
                    "(\\d{4})(\\d{5})",
                    "$1-$2",
                    ["5(?:2[2-489]|3[5-9]|9)|892", "5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|892"],
                    "0$1",
                ],
                ["(\\d{2})(\\d{7})", "$1-$2", ["8"], "0$1"],
                ["(\\d{3})(\\d{6})", "$1-$2", ["[5-7]"], "0$1"],
            ],
            "0",
            0,
            0,
            0,
            0,
            0,
            [
                [
                    "5(?:29(?:[189][05]|2[29]|3[01])|38[89][05])\\d{4}|5(?:2(?:[0-25-7]\\d|3[1-578]|4[02-46-8]|8[0235-7]|90)|3(?:[0-47]\\d|5[02-9]|6[02-8]|80|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}",
                ],
                ["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0\\d|1[0-5]|6[1267]|7[0-57]))\\d{6}"],
                ["80\\d{7}"],
                ["89\\d{7}"],
                0,
                0,
                0,
                0,
                ["592(?:4[0-2]|93)\\d{4}"],
            ],
        ],
        MC: [
            "377",
            "00",
            "(?:[3489]|6\\d)\\d{7}",
            [8, 9],
            [
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["4"], "0$1"],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[389]"]],
                ["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4 $5", ["6"], "0$1"],
            ],
            "0",
        ],
        MD: [
            "373",
            "00",
            "(?:[235-7]\\d|[89]0)\\d{6}",
            [8],
            [
                ["(\\d{3})(\\d{5})", "$1 $2", ["[89]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["22|3"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["[25-7]"], "0$1"],
            ],
            "0",
        ],
        ME: [
            "382",
            "00",
            "(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",
            [8, 9],
            [["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2-9]"], "0$1"]],
            "0",
        ],
        MF: [
            "590",
            "00",
            "(?:590|(?:69|80)\\d|976)\\d{6}",
            [9],
            0,
            "0",
            0,
            0,
            0,
            0,
            0,
            [
                ["590(?:0[079]|[14]3|[27][79]|30|5[0-268]|87)\\d{4}"],
                ["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],
                ["80[0-5]\\d{6}"],
                0,
                0,
                0,
                0,
                0,
                ["976[01]\\d{5}"],
            ],
        ],
        MG: [
            "261",
            "00",
            "[23]\\d{8}",
            [9],
            [["(\\d{2})(\\d{2})(\\d{3})(\\d{2})", "$1 $2 $3 $4", ["[23]"], "0$1"]],
            "0",
            0,
            "0|([24-9]\\d{6})$",
            "20$1",
        ],
        MH: ["692", "011", "329\\d{4}|(?:[256]\\d|45)\\d{5}", [7], [["(\\d{3})(\\d{4})", "$1-$2", ["[2-6]"]]], "1"],
        MK: [
            "389",
            "00",
            "[2-578]\\d{7}",
            [8],
            [
                ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["2"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[347]"], "0$1"],
                ["(\\d{3})(\\d)(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[58]"], "0$1"],
            ],
            "0",
        ],
        ML: ["223", "00", "[24-9]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[24-9]"]]]],
        MM: [
            "95",
            "00",
            "1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",
            [6, 7, 8, 9, 10],
            [
                ["(\\d)(\\d{2})(\\d{3})", "$1 $2 $3", ["16|2"], "0$1"],
                [
                    "(\\d{2})(\\d{2})(\\d{3})",
                    "$1 $2 $3",
                    ["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],
                    "0$1",
                ],
                ["(\\d)(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[12]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[4-7]|8[1-35]"], "0$1"],
                ["(\\d)(\\d{3})(\\d{4,6})", "$1 $2 $3", ["9(?:2[0-4]|[35-9]|4[137-9])"], "0$1"],
                ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["2"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"], "0$1"],
                ["(\\d)(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["92"], "0$1"],
                ["(\\d)(\\d{5})(\\d{4})", "$1 $2 $3", ["9"], "0$1"],
            ],
            "0",
        ],
        MN: [
            "976",
            "001",
            "[12]\\d{7,9}|[57-9]\\d{7}",
            [8, 9, 10],
            [
                ["(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3", ["[12]1"], "0$1"],
                ["(\\d{4})(\\d{4})", "$1 $2", ["[57-9]"]],
                ["(\\d{3})(\\d{5,6})", "$1 $2", ["[12]2[1-3]"], "0$1"],
                [
                    "(\\d{4})(\\d{5,6})",
                    "$1 $2",
                    ["[12](?:27|3[2-8]|4[2-68]|5[1-4689])", "[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],
                    "0$1",
                ],
                ["(\\d{5})(\\d{4,5})", "$1 $2", ["[12]"], "0$1"],
            ],
            "0",
        ],
        MO: [
            "853",
            "00",
            "0800\\d{3}|(?:28|[68]\\d)\\d{6}",
            [7, 8],
            [
                ["(\\d{4})(\\d{3})", "$1 $2", ["0"]],
                ["(\\d{4})(\\d{4})", "$1 $2", ["[268]"]],
            ],
        ],
        MP: ["1", "011", "[58]\\d{9}|(?:67|90)0\\d{7}", [10], 0, "1", 0, "1|([2-9]\\d{6})$", "670$1", 0, "670"],
        MQ: [
            "596",
            "00",
            "(?:69|80)\\d{7}|(?:59|97)6\\d{6}",
            [9],
            [
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[569]"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0$1"],
            ],
            "0",
        ],
        MR: [
            "222",
            "00",
            "(?:[2-4]\\d\\d|800)\\d{5}",
            [8],
            [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-48]"]]],
        ],
        MS: ["1", "011", "(?:[58]\\d\\d|664|900)\\d{7}", [10], 0, "1", 0, "1|([34]\\d{6})$", "664$1", 0, "664"],
        MT: ["356", "00", "3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[2357-9]"]]]],
        MU: [
            "230",
            "0(?:0|[24-7]0|3[03])",
            "(?:5|8\\d\\d)\\d{7}|[2-468]\\d{6}",
            [7, 8, 10],
            [
                ["(\\d{3})(\\d{4})", "$1 $2", ["[2-46]|8[013]"]],
                ["(\\d{4})(\\d{4})", "$1 $2", ["5"]],
                ["(\\d{5})(\\d{5})", "$1 $2", ["8"]],
            ],
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            "020",
        ],
        MV: [
            "960",
            "0(?:0|19)",
            "(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",
            [7, 10],
            [
                ["(\\d{3})(\\d{4})", "$1-$2", ["[3467]|9[13-9]"]],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[89]"]],
            ],
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            "00",
        ],
        MW: [
            "265",
            "00",
            "(?:[19]\\d|[23]1|77|88)\\d{7}|1\\d{6}",
            [7, 9],
            [
                ["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["1[2-9]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["2"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[137-9]"], "0$1"],
            ],
            "0",
        ],
        MX: [
            "52",
            "0[09]",
            "1(?:(?:44|99)[1-9]|65[0-689])\\d{7}|(?:1(?:[017]\\d|[235][1-9]|4[0-35-9]|6[0-46-9]|8[1-79]|9[1-8])|[2-9]\\d)\\d{8}",
            [10, 11],
            [
                ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["33|5[56]|81"], 0, 1],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[2-9]"], 0, 1],
                ["(\\d)(\\d{2})(\\d{4})(\\d{4})", "$2 $3 $4", ["1(?:33|5[56]|81)"], 0, 1],
                ["(\\d)(\\d{3})(\\d{3})(\\d{4})", "$2 $3 $4", ["1"], 0, 1],
            ],
            "01",
            0,
            "0(?:[12]|4[45])|1",
            0,
            0,
            0,
            0,
            "00",
        ],
        MY: [
            "60",
            "00",
            "1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",
            [8, 9, 10],
            [
                ["(\\d)(\\d{3})(\\d{4})", "$1-$2 $3", ["[4-79]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1-$2 $3", ["1(?:[02469]|[378][1-9])|8"], "0$1"],
                ["(\\d)(\\d{4})(\\d{4})", "$1-$2 $3", ["3"], "0$1"],
                ["(\\d)(\\d{3})(\\d{2})(\\d{4})", "$1-$2-$3-$4", ["1[36-8]"]],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1-$2 $3", ["15"], "0$1"],
                ["(\\d{2})(\\d{4})(\\d{4})", "$1-$2 $3", ["1"], "0$1"],
            ],
            "0",
        ],
        MZ: [
            "258",
            "00",
            "(?:2|8\\d)\\d{7}",
            [8, 9],
            [
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["2|8[2-79]"]],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"]],
            ],
        ],
        NA: [
            "264",
            "00",
            "[68]\\d{7,8}",
            [8, 9],
            [
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["88"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["6"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["87"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"], "0$1"],
            ],
            "0",
        ],
        NC: ["687", "00", "[2-57-9]\\d{5}", [6], [["(\\d{2})(\\d{2})(\\d{2})", "$1.$2.$3", ["[2-57-9]"]]]],
        NE: [
            "227",
            "00",
            "[027-9]\\d{7}",
            [8],
            [
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["08"]],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[089]|2[013]|7[04]"]],
            ],
        ],
        NF: [
            "672",
            "00",
            "[13]\\d{5}",
            [6],
            [
                ["(\\d{2})(\\d{4})", "$1 $2", ["1[0-3]"]],
                ["(\\d)(\\d{5})", "$1 $2", ["[13]"]],
            ],
            0,
            0,
            "([0-258]\\d{4})$",
            "3$1",
        ],
        NG: [
            "234",
            "009",
            "(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}",
            [7, 8, 10, 11, 12, 13, 14],
            [
                ["(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3", ["78"], "0$1"],
                ["(\\d)(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[12]|9(?:0[3-9]|[1-9])"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{2,3})", "$1 $2 $3", ["[3-7]|8[2-9]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[7-9]"], "0$1"],
                ["(\\d{3})(\\d{4})(\\d{4,5})", "$1 $2 $3", ["[78]"], "0$1"],
                ["(\\d{3})(\\d{5})(\\d{5,6})", "$1 $2 $3", ["[78]"], "0$1"],
            ],
            "0",
        ],
        NI: ["505", "00", "(?:1800|[25-8]\\d{3})\\d{4}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[125-8]"]]]],
        NL: [
            "31",
            "00",
            "(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|[89]\\d{6,9}|1\\d{4,5}",
            [5, 6, 7, 8, 9, 10],
            [
                ["(\\d{3})(\\d{4,7})", "$1 $2", ["[89]0"], "0$1"],
                ["(\\d{2})(\\d{7})", "$1 $2", ["66"], "0$1"],
                ["(\\d)(\\d{8})", "$1 $2", ["6"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[1-57-9]"], "0$1"],
            ],
            "0",
        ],
        NO: [
            "47",
            "00",
            "(?:0|[2-9]\\d{3})\\d{4}",
            [5, 8],
            [
                ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["[489]|59"]],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[235-7]"]],
            ],
            0,
            0,
            0,
            0,
            0,
            "[02-689]|7[0-8]",
        ],
        NP: [
            "977",
            "00",
            "(?:1\\d|9)\\d{9}|[1-9]\\d{7}",
            [8, 10, 11],
            [
                ["(\\d)(\\d{7})", "$1-$2", ["1[2-6]"], "0$1"],
                ["(\\d{2})(\\d{6})", "$1-$2", ["1[01]|[2-8]|9(?:[1-579]|6[2-6])"], "0$1"],
                ["(\\d{3})(\\d{7})", "$1-$2", ["9"]],
            ],
            "0",
        ],
        NR: ["674", "00", "(?:444|(?:55|8\\d)\\d|666)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[4-68]"]]]],
        NU: ["683", "00", "(?:[47]|888\\d)\\d{3}", [4, 7], [["(\\d{3})(\\d{4})", "$1 $2", ["8"]]]],
        NZ: [
            "64",
            "0(?:0|161)",
            "[29]\\d{7,9}|50\\d{5}(?:\\d{2,3})?|6[0-35-9]\\d{6}|7\\d{7,8}|8\\d{4,9}|(?:11\\d|[34])\\d{7}",
            [5, 6, 7, 8, 9, 10],
            [
                ["(\\d{2})(\\d{3,8})", "$1 $2", ["8[1-579]"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["50[036-8]|[89]0", "50(?:[0367]|88)|[89]0"], "0$1"],
                ["(\\d)(\\d{3})(\\d{4})", "$1-$2 $3", ["24|[346]|7[2-57-9]|9[2-9]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["2(?:10|74)|[59]|80"], "0$1"],
                ["(\\d{2})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["1|2[028]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3,5})", "$1 $2 $3", ["2(?:[169]|7[0-35-9])|7|86"], "0$1"],
            ],
            "0",
            0,
            0,
            0,
            0,
            0,
            0,
            "00",
        ],
        OM: [
            "968",
            "00",
            "(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",
            [7, 8, 9],
            [
                ["(\\d{3})(\\d{4,6})", "$1 $2", ["[58]"]],
                ["(\\d{2})(\\d{6})", "$1 $2", ["2"]],
                ["(\\d{4})(\\d{4})", "$1 $2", ["[179]"]],
            ],
        ],
        PA: [
            "507",
            "00",
            "(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",
            [7, 8, 10, 11],
            [
                ["(\\d{3})(\\d{4})", "$1-$2", ["[1-57-9]"]],
                ["(\\d{4})(\\d{4})", "$1-$2", ["[68]"]],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"]],
            ],
        ],
        PE: [
            "51",
            "19(?:1[124]|77|90)00",
            "(?:[14-8]|9\\d)\\d{7}",
            [8, 9],
            [
                ["(\\d{3})(\\d{5})", "$1 $2", ["80"], "(0$1)"],
                ["(\\d)(\\d{7})", "$1 $2", ["1"], "(0$1)"],
                ["(\\d{2})(\\d{6})", "$1 $2", ["[4-8]"], "(0$1)"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["9"]],
            ],
            "0",
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            " Anexo ",
        ],
        PF: [
            "689",
            "00",
            "4\\d{5}(?:\\d{2})?|8\\d{7,8}",
            [6, 8, 9],
            [
                ["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["44"]],
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["4|8[7-9]"]],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"]],
            ],
        ],
        PG: [
            "675",
            "00|140[1-3]",
            "(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",
            [7, 8],
            [
                ["(\\d{3})(\\d{4})", "$1 $2", ["18|[2-69]|85"]],
                ["(\\d{4})(\\d{4})", "$1 $2", ["[78]"]],
            ],
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            "00",
        ],
        PH: [
            "63",
            "00",
            "(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",
            [6, 8, 9, 10, 11, 12, 13],
            [
                ["(\\d)(\\d{5})", "$1 $2", ["2"], "(0$1)"],
                [
                    "(\\d{4})(\\d{4,6})",
                    "$1 $2",
                    [
                        "3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2",
                        "3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))",
                    ],
                    "(0$1)",
                ],
                ["(\\d{5})(\\d{4})", "$1 $2", ["346|4(?:27|9[35])|883", "3469|4(?:279|9(?:30|56))|8834"], "(0$1)"],
                ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["2"], "(0$1)"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[3-7]|8[2-8]"], "(0$1)"],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[89]"], "0$1"],
                ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"]],
                ["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})", "$1 $2 $3 $4", ["1"]],
            ],
            "0",
        ],
        PK: [
            "92",
            "00",
            "122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",
            [8, 9, 10, 11, 12],
            [
                ["(\\d{3})(\\d{3})(\\d{2,7})", "$1 $2 $3", ["[89]0"], "0$1"],
                ["(\\d{4})(\\d{5})", "$1 $2", ["1"]],
                [
                    "(\\d{3})(\\d{6,7})",
                    "$1 $2",
                    [
                        "2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])",
                        "9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]",
                    ],
                    "(0$1)",
                ],
                [
                    "(\\d{2})(\\d{7,8})",
                    "$1 $2",
                    ["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],
                    "(0$1)",
                ],
                ["(\\d{5})(\\d{5})", "$1 $2", ["58"], "(0$1)"],
                ["(\\d{3})(\\d{7})", "$1 $2", ["3"], "0$1"],
                [
                    "(\\d{2})(\\d{3})(\\d{3})(\\d{3})",
                    "$1 $2 $3 $4",
                    ["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],
                    "(0$1)",
                ],
                ["(\\d{3})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["[24-9]"], "(0$1)"],
            ],
            "0",
        ],
        PL: [
            "48",
            "00",
            "6\\d{5}(?:\\d{2})?|8\\d{9}|[1-9]\\d{6}(?:\\d{2})?",
            [6, 7, 8, 9, 10],
            [
                ["(\\d{5})", "$1", ["19"]],
                ["(\\d{3})(\\d{3})", "$1 $2", ["11|64"]],
                [
                    "(\\d{2})(\\d{2})(\\d{3})",
                    "$1 $2 $3",
                    [
                        "(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1",
                        "(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19",
                    ],
                ],
                ["(\\d{3})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["64"]],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],
                ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["1[2-8]|[2-7]|8[1-79]|9[145]"]],
                ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["8"]],
            ],
        ],
        PM: [
            "508",
            "00",
            "(?:[45]|80\\d\\d)\\d{5}",
            [6, 9],
            [
                ["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["[45]"], "0$1"],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0$1"],
            ],
            "0",
        ],
        PR: ["1", "011", "(?:[589]\\d\\d|787)\\d{7}", [10], 0, "1", 0, 0, 0, 0, "787|939"],
        PS: [
            "970",
            "00",
            "[2489]2\\d{6}|(?:1\\d|5)\\d{8}",
            [8, 9, 10],
            [
                ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["[2489]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["5"], "0$1"],
                ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1"]],
            ],
            "0",
        ],
        PT: [
            "351",
            "00",
            "1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",
            [9],
            [
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["2[12]"]],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["16|[236-9]"]],
            ],
        ],
        PW: ["680", "01[12]", "(?:[24-8]\\d\\d|345|900)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[2-9]"]]]],
        PY: [
            "595",
            "00",
            "59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",
            [6, 7, 8, 9, 10, 11],
            [
                ["(\\d{3})(\\d{3,6})", "$1 $2", ["[2-9]0"], "0$1"],
                ["(\\d{2})(\\d{5})", "$1 $2", ["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"], "(0$1)"],
                ["(\\d{3})(\\d{4,5})", "$1 $2", ["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"], "(0$1)"],
                [
                    "(\\d{2})(\\d{3})(\\d{3,4})",
                    "$1 $2 $3",
                    ["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],
                    "(0$1)",
                ],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["87"]],
                ["(\\d{3})(\\d{6})", "$1 $2", ["9(?:[5-79]|8[1-6])"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-8]"], "0$1"],
                ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["9"]],
            ],
            "0",
        ],
        QA: [
            "974",
            "00",
            "[2-7]\\d{7}|800\\d{4}(?:\\d{2})?|2\\d{6}",
            [7, 8, 9],
            [
                ["(\\d{3})(\\d{4})", "$1 $2", ["2[126]|8"]],
                ["(\\d{4})(\\d{4})", "$1 $2", ["[2-7]"]],
            ],
        ],
        RE: [
            "262",
            "00",
            "9769\\d{5}|(?:26|[68]\\d)\\d{7}",
            [9],
            [["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2689]"], "0$1"]],
            "0",
            0,
            0,
            0,
            0,
            "26[23]|69|[89]",
        ],
        RO: [
            "40",
            "00",
            "(?:[2378]\\d|90)\\d{7}|[23]\\d{5}",
            [6, 9],
            [
                ["(\\d{3})(\\d{3})", "$1 $2", ["2[3-6]", "2[3-6]\\d9"], "0$1"],
                ["(\\d{2})(\\d{4})", "$1 $2", ["219|31"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[23]1"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[237-9]"], "0$1"],
            ],
            "0",
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            " int ",
        ],
        RS: [
            "381",
            "00",
            "38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",
            [6, 7, 8, 9, 10, 11, 12],
            [
                ["(\\d{3})(\\d{3,9})", "$1 $2", ["(?:2[389]|39)0|[7-9]"], "0$1"],
                ["(\\d{2})(\\d{5,10})", "$1 $2", ["[1-36]"], "0$1"],
            ],
            "0",
        ],
        RU: [
            "7",
            "810",
            "8\\d{13}|[347-9]\\d{9}",
            [10, 14],
            [
                [
                    "(\\d{4})(\\d{2})(\\d{2})(\\d{2})",
                    "$1 $2 $3 $4",
                    [
                        "7(?:1[0-8]|2[1-9])",
                        "7(?:1(?:[0-6]2|7|8[27])|2(?:1[23]|[2-9]2))",
                        "7(?:1(?:[0-6]2|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2",
                    ],
                    "8 ($1)",
                    1,
                ],
                [
                    "(\\d{5})(\\d)(\\d{2})(\\d{2})",
                    "$1 $2 $3 $4",
                    [
                        "7(?:1[0-68]|2[1-9])",
                        "7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))",
                        "7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]",
                    ],
                    "8 ($1)",
                    1,
                ],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["7"], "8 ($1)", 1],
                ["(\\d{3})(\\d{3})(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["[349]|8(?:[02-7]|1[1-8])"], "8 ($1)", 1],
                ["(\\d{4})(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["8"], "8 ($1)"],
            ],
            "8",
            0,
            0,
            0,
            0,
            "3[04-689]|[489]",
            0,
            "8~10",
        ],
        RW: [
            "250",
            "00",
            "(?:06|[27]\\d\\d|[89]00)\\d{6}",
            [8, 9],
            [
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["0"]],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[7-9]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["2"]],
            ],
            "0",
        ],
        SA: [
            "966",
            "00",
            "92\\d{7}|(?:[15]|8\\d)\\d{8}",
            [9, 10],
            [
                ["(\\d{4})(\\d{5})", "$1 $2", ["9"]],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["5"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["81"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"]],
            ],
            "0",
        ],
        SB: [
            "677",
            "0[01]",
            "(?:[1-6]|[7-9]\\d\\d)\\d{4}",
            [5, 7],
            [["(\\d{2})(\\d{5})", "$1 $2", ["7|8[4-9]|9(?:[1-8]|9[0-8])"]]],
        ],
        SC: [
            "248",
            "010|0[0-2]",
            "8000\\d{3}|(?:[249]\\d|64)\\d{5}",
            [7],
            [["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[246]|9[57]"]]],
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            "00",
        ],
        SD: ["249", "00", "[19]\\d{8}", [9], [["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[19]"], "0$1"]], "0"],
        SE: [
            "46",
            "00",
            "(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",
            [6, 7, 8, 9, 10],
            [
                ["(\\d{2})(\\d{2,3})(\\d{2})", "$1-$2 $3", ["20"], "0$1", 0, "$1 $2 $3"],
                ["(\\d{3})(\\d{4})", "$1-$2", ["9(?:00|39|44)"], "0$1", 0, "$1 $2"],
                [
                    "(\\d{2})(\\d{3})(\\d{2})",
                    "$1-$2 $3",
                    ["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],
                    "0$1",
                    0,
                    "$1 $2 $3",
                ],
                ["(\\d)(\\d{2,3})(\\d{2})(\\d{2})", "$1-$2 $3 $4", ["8"], "0$1", 0, "$1 $2 $3 $4"],
                [
                    "(\\d{3})(\\d{2,3})(\\d{2})",
                    "$1-$2 $3",
                    [
                        "1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])",
                    ],
                    "0$1",
                    0,
                    "$1 $2 $3",
                ],
                ["(\\d{3})(\\d{2,3})(\\d{3})", "$1-$2 $3", ["9(?:00|39|44)"], "0$1", 0, "$1 $2 $3"],
                [
                    "(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})",
                    "$1-$2 $3 $4",
                    ["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],
                    "0$1",
                    0,
                    "$1 $2 $3 $4",
                ],
                ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1-$2 $3 $4", ["10|7"], "0$1", 0, "$1 $2 $3 $4"],
                ["(\\d)(\\d{3})(\\d{3})(\\d{2})", "$1-$2 $3 $4", ["8"], "0$1", 0, "$1 $2 $3 $4"],
                [
                    "(\\d{3})(\\d{2})(\\d{2})(\\d{2})",
                    "$1-$2 $3 $4",
                    ["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],
                    "0$1",
                    0,
                    "$1 $2 $3 $4",
                ],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{3})", "$1-$2 $3 $4", ["9"], "0$1", 0, "$1 $2 $3 $4"],
                ["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1-$2 $3 $4 $5", ["[26]"], "0$1", 0, "$1 $2 $3 $4 $5"],
            ],
            "0",
        ],
        SG: [
            "65",
            "0[0-3]\\d",
            "(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",
            [8, 10, 11],
            [
                ["(\\d{4})(\\d{4})", "$1 $2", ["[369]|8(?:0[1-4]|[1-9])"]],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"]],
                ["(\\d{4})(\\d{4})(\\d{3})", "$1 $2 $3", ["7"]],
                ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"]],
            ],
        ],
        SH: ["290", "00", "(?:[256]\\d|8)\\d{3}", [4, 5], 0, 0, 0, 0, 0, 0, "[256]"],
        SI: [
            "386",
            "00|10(?:22|66|88|99)",
            "[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",
            [5, 6, 7, 8],
            [
                ["(\\d{2})(\\d{3,6})", "$1 $2", ["8[09]|9"], "0$1"],
                ["(\\d{3})(\\d{5})", "$1 $2", ["59|8"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[37][01]|4[0139]|51|6"], "0$1"],
                ["(\\d)(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[1-57]"], "(0$1)"],
            ],
            "0",
            0,
            0,
            0,
            0,
            0,
            0,
            "00",
        ],
        SJ: ["47", "00", "0\\d{4}|(?:[489]\\d|[57]9)\\d{6}", [5, 8], 0, 0, 0, 0, 0, 0, "79"],
        SK: [
            "421",
            "00",
            "[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",
            [6, 7, 9],
            [
                ["(\\d)(\\d{2})(\\d{3,4})", "$1 $2 $3", ["21"], "0$1"],
                ["(\\d{2})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["[3-5][1-8]1", "[3-5][1-8]1[67]"], "0$1"],
                ["(\\d)(\\d{3})(\\d{3})(\\d{2})", "$1/$2 $3 $4", ["2"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[689]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1/$2 $3 $4", ["[3-5]"], "0$1"],
            ],
            "0",
        ],
        SL: ["232", "00", "(?:[237-9]\\d|66)\\d{6}", [8], [["(\\d{2})(\\d{6})", "$1 $2", ["[236-9]"], "(0$1)"]], "0"],
        SM: [
            "378",
            "00",
            "(?:0549|[5-7]\\d)\\d{6}",
            [8, 10],
            [
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[5-7]"]],
                ["(\\d{4})(\\d{6})", "$1 $2", ["0"]],
            ],
            0,
            0,
            "([89]\\d{5})$",
            "0549$1",
        ],
        SN: [
            "221",
            "00",
            "(?:[378]\\d|93)\\d{7}",
            [9],
            [
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"]],
                ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[379]"]],
            ],
        ],
        SO: [
            "252",
            "00",
            "[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",
            [6, 7, 8, 9],
            [
                ["(\\d{2})(\\d{4})", "$1 $2", ["8[125]"]],
                ["(\\d{6})", "$1", ["[134]"]],
                ["(\\d)(\\d{6})", "$1 $2", ["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],
                ["(\\d)(\\d{7})", "$1 $2", ["24|[67]"]],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[3478]|64|90"]],
                ["(\\d{2})(\\d{5,7})", "$1 $2", ["1|28|6(?:0[5-7]|[1-35-9])|9[2-9]"]],
            ],
            "0",
        ],
        SR: [
            "597",
            "00",
            "(?:[2-5]|68|[78]\\d)\\d{5}",
            [6, 7],
            [
                ["(\\d{2})(\\d{2})(\\d{2})", "$1-$2-$3", ["56"]],
                ["(\\d{3})(\\d{3})", "$1-$2", ["[2-5]"]],
                ["(\\d{3})(\\d{4})", "$1-$2", ["[6-8]"]],
            ],
        ],
        SS: ["211", "00", "[19]\\d{8}", [9], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[19]"], "0$1"]], "0"],
        ST: ["239", "00", "(?:22|9\\d)\\d{5}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[29]"]]]],
        SV: [
            "503",
            "00",
            "[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",
            [7, 8, 11],
            [
                ["(\\d{3})(\\d{4})", "$1 $2", ["[89]"]],
                ["(\\d{4})(\\d{4})", "$1 $2", ["[267]"]],
                ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["[89]"]],
            ],
        ],
        SX: ["1", "011", "7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|(5\\d{6})$", "721$1", 0, "721"],
        SY: [
            "963",
            "00",
            "[1-39]\\d{8}|[1-5]\\d{7}",
            [8, 9],
            [
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[1-5]"], "0$1", 1],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["9"], "0$1", 1],
            ],
            "0",
        ],
        SZ: [
            "268",
            "00",
            "0800\\d{4}|(?:[237]\\d|900)\\d{6}",
            [8, 9],
            [
                ["(\\d{4})(\\d{4})", "$1 $2", ["[0237]"]],
                ["(\\d{5})(\\d{4})", "$1 $2", ["9"]],
            ],
        ],
        TA: ["290", "00", "8\\d{3}", [4], 0, 0, 0, 0, 0, 0, "8"],
        TC: ["1", "011", "(?:[58]\\d\\d|649|900)\\d{7}", [10], 0, "1", 0, "1|([2-479]\\d{6})$", "649$1", 0, "649"],
        TD: [
            "235",
            "00|16",
            "(?:22|[69]\\d|77)\\d{6}",
            [8],
            [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2679]"]]],
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            "00",
        ],
        TG: ["228", "00", "[279]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[279]"]]]],
        TH: [
            "66",
            "00[1-9]",
            "(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",
            [8, 9, 10, 13],
            [
                ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["2"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[13-9]"], "0$1"],
                ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1"]],
            ],
            "0",
        ],
        TJ: [
            "992",
            "810",
            "(?:00|[1-57-9]\\d)\\d{7}",
            [9],
            [
                ["(\\d{6})(\\d)(\\d{2})", "$1 $2 $3", ["331", "3317"]],
                ["(\\d{3})(\\d{2})(\\d{4})", "$1 $2 $3", ["[34]7|91[78]"]],
                ["(\\d{4})(\\d)(\\d{4})", "$1 $2 $3", ["3[1-5]"]],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[0-57-9]"]],
            ],
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            "8~10",
        ],
        TK: ["690", "00", "[2-47]\\d{3,6}", [4, 5, 6, 7]],
        TL: [
            "670",
            "00",
            "7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",
            [7, 8],
            [
                ["(\\d{3})(\\d{4})", "$1 $2", ["[2-489]|70"]],
                ["(\\d{4})(\\d{4})", "$1 $2", ["7"]],
            ],
        ],
        TM: [
            "993",
            "810",
            "[1-6]\\d{7}",
            [8],
            [
                ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["12"], "(8 $1)"],
                ["(\\d{3})(\\d)(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["[1-5]"], "(8 $1)"],
                ["(\\d{2})(\\d{6})", "$1 $2", ["6"], "8 $1"],
            ],
            "8",
            0,
            0,
            0,
            0,
            0,
            0,
            "8~10",
        ],
        TN: ["216", "00", "[2-57-9]\\d{7}", [8], [["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-57-9]"]]]],
        TO: [
            "676",
            "00",
            "(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",
            [5, 7],
            [
                ["(\\d{2})(\\d{3})", "$1-$2", ["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],
                ["(\\d{4})(\\d{3})", "$1 $2", ["0"]],
                ["(\\d{3})(\\d{4})", "$1 $2", ["[5-9]"]],
            ],
        ],
        TR: [
            "90",
            "00",
            "4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",
            [7, 10, 12, 13],
            [
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["512|8[01589]|90"], "0$1", 1],
                [
                    "(\\d{3})(\\d{3})(\\d{2})(\\d{2})",
                    "$1 $2 $3 $4",
                    ["5(?:[0-59]|61)", "5(?:[0-59]|616)", "5(?:[0-59]|6161)"],
                    "0$1",
                    1,
                ],
                ["(\\d{3})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[24][1-8]|3[1-9]"], "(0$1)", 1],
                ["(\\d{3})(\\d{3})(\\d{6,7})", "$1 $2 $3", ["80"], "0$1", 1],
            ],
            "0",
        ],
        TT: ["1", "011", "(?:[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-46-8]\\d{6})$", "868$1", 0, "868"],
        TV: [
            "688",
            "00",
            "(?:2|7\\d\\d|90)\\d{4}",
            [5, 6, 7],
            [
                ["(\\d{2})(\\d{3})", "$1 $2", ["2"]],
                ["(\\d{2})(\\d{4})", "$1 $2", ["90"]],
                ["(\\d{2})(\\d{5})", "$1 $2", ["7"]],
            ],
        ],
        TW: [
            "886",
            "0(?:0[25-79]|19)",
            "[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",
            [7, 8, 9, 10, 11],
            [
                ["(\\d{2})(\\d)(\\d{4})", "$1 $2 $3", ["202"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[258]0"], "0$1"],
                [
                    "(\\d)(\\d{3,4})(\\d{4})",
                    "$1 $2 $3",
                    ["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]", "[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],
                    "0$1",
                ],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[49]"], "0$1"],
                ["(\\d{2})(\\d{4})(\\d{4,5})", "$1 $2 $3", ["7"], "0$1"],
            ],
            "0",
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            "#",
        ],
        TZ: [
            "255",
            "00[056]",
            "(?:[26-8]\\d|41|90)\\d{7}",
            [9],
            [
                ["(\\d{3})(\\d{2})(\\d{4})", "$1 $2 $3", ["[89]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[24]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[67]"], "0$1"],
            ],
            "0",
        ],
        UA: [
            "380",
            "00",
            "[89]\\d{9}|[3-9]\\d{8}",
            [9, 10],
            [
                [
                    "(\\d{3})(\\d{3})(\\d{3})",
                    "$1 $2 $3",
                    [
                        "6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]",
                        "6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]",
                    ],
                    "0$1",
                ],
                [
                    "(\\d{2})(\\d{3})(\\d{4})",
                    "$1 $2 $3",
                    [
                        "4[45][0-5]|5(?:0|6[37])|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]",
                        "4[45][0-5]|5(?:0|6(?:3[14-7]|7))|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]",
                    ],
                    "0$1",
                ],
                ["(\\d{4})(\\d{5})", "$1 $2", ["[3-6]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[89]"], "0$1"],
            ],
            "0",
            0,
            0,
            0,
            0,
            0,
            0,
            "0~0",
        ],
        UG: [
            "256",
            "00[057]",
            "800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",
            [9],
            [
                ["(\\d{4})(\\d{5})", "$1 $2", ["202", "2024"], "0$1"],
                ["(\\d{3})(\\d{6})", "$1 $2", ["[27-9]|4(?:6[45]|[7-9])"], "0$1"],
                ["(\\d{2})(\\d{7})", "$1 $2", ["[34]"], "0$1"],
            ],
            "0",
        ],
        US: [
            "1",
            "011",
            "[2-9]\\d{9}",
            [10],
            [["(\\d{3})(\\d{3})(\\d{4})", "($1) $2-$3", ["[2-9]"], 0, 1, "$1-$2-$3"]],
            "1",
            0,
            0,
            0,
            0,
            0,
            [
                [
                    "5(?:05(?:[2-57-9]\\d\\d|6(?:[0-35-9]\\d|44))|82(?:2(?:0[0-3]|[268]2)|3(?:0[02]|33)|4(?:00|4[24]|65|82)|5(?:00|29|83)|6(?:00|66|82)|777|8(?:00|88)|9(?:00|9[89])))\\d{4}|(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[01356]|3[0-24679]|4[167]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[39]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[0-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[0179]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-289]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01579]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}",
                ],
                [""],
                ["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],
                ["900[2-9]\\d{6}"],
                [
                    "52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",
                ],
            ],
        ],
        UY: [
            "598",
            "0(?:0|1[3-9]\\d)",
            "4\\d{9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",
            [7, 8, 10],
            [
                ["(\\d{3})(\\d{4})", "$1 $2", ["405|8|90"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["9"], "0$1"],
                ["(\\d{4})(\\d{4})", "$1 $2", ["[124]"]],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["4"], "0$1"],
            ],
            "0",
            0,
            0,
            0,
            0,
            0,
            0,
            "00",
            " int. ",
        ],
        UZ: [
            "998",
            "810",
            "(?:33|55|[679]\\d|88)\\d{7}",
            [9],
            [["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[35-9]"], "8 $1"]],
            "8",
            0,
            0,
            0,
            0,
            0,
            0,
            "8~10",
        ],
        VA: [
            "39",
            "00",
            "0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",
            [6, 7, 8, 9, 10, 11],
            0,
            0,
            0,
            0,
            0,
            0,
            "06698",
        ],
        VC: ["1", "011", "(?:[58]\\d\\d|784|900)\\d{7}", [10], 0, "1", 0, "1|([2-7]\\d{6})$", "784$1", 0, "784"],
        VE: [
            "58",
            "00",
            "[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",
            [10],
            [["(\\d{3})(\\d{7})", "$1-$2", ["[24-689]"], "0$1"]],
            "0",
        ],
        VG: ["1", "011", "(?:284|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-578]\\d{6})$", "284$1", 0, "284"],
        VI: ["1", "011", "[58]\\d{9}|(?:34|90)0\\d{7}", [10], 0, "1", 0, "1|([2-9]\\d{6})$", "340$1", 0, "340"],
        VN: [
            "84",
            "00",
            "[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",
            [7, 8, 9, 10],
            [
                ["(\\d{2})(\\d{5})", "$1 $2", ["80"], "0$1", 1],
                ["(\\d{4})(\\d{4,6})", "$1 $2", ["1"], 0, 1],
                ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[69]"], "0$1", 1],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[3578]"], "0$1", 1],
                ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["2[48]"], "0$1", 1],
                ["(\\d{3})(\\d{4})(\\d{3})", "$1 $2 $3", ["2"], "0$1", 1],
            ],
            "0",
        ],
        VU: ["678", "00", "[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}", [5, 7], [["(\\d{3})(\\d{4})", "$1 $2", ["[57-9]"]]]],
        WF: [
            "681",
            "00",
            "(?:40|72)\\d{4}|8\\d{5}(?:\\d{3})?",
            [6, 9],
            [
                ["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["[478]"]],
                ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"]],
            ],
        ],
        WS: [
            "685",
            "0",
            "(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",
            [5, 6, 7, 10],
            [
                ["(\\d{5})", "$1", ["[2-5]|6[1-9]"]],
                ["(\\d{3})(\\d{3,7})", "$1 $2", ["[68]"]],
                ["(\\d{2})(\\d{5})", "$1 $2", ["7"]],
            ],
        ],
        XK: [
            "383",
            "00",
            "[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}",
            [8, 9],
            [
                ["(\\d{3})(\\d{5})", "$1 $2", ["[89]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-4]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[23]"], "0$1"],
            ],
            "0",
        ],
        YE: [
            "967",
            "00",
            "(?:1|7\\d)\\d{7}|[1-7]\\d{6}",
            [7, 8, 9],
            [
                ["(\\d)(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[1-6]|7[24-68]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["7"], "0$1"],
            ],
            "0",
        ],
        YT: ["262", "00", "80\\d{7}|(?:26|63)9\\d{6}", [9], 0, "0", 0, 0, 0, 0, "269|63"],
        ZA: [
            "27",
            "00",
            "[1-79]\\d{8}|8\\d{4,9}",
            [5, 6, 7, 8, 9, 10],
            [
                ["(\\d{2})(\\d{3,4})", "$1 $2", ["8[1-4]"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{2,3})", "$1 $2 $3", ["8[1-4]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["860"], "0$1"],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[1-9]"], "0$1"],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"], "0$1"],
            ],
            "0",
        ],
        ZM: [
            "260",
            "00",
            "(?:63|80)0\\d{6}|(?:21|[79]\\d)\\d{7}",
            [9],
            [
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[28]"], "0$1"],
                ["(\\d{2})(\\d{7})", "$1 $2", ["[79]"], "0$1"],
            ],
            "0",
        ],
        ZW: [
            "263",
            "00",
            "2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",
            [5, 6, 7, 8, 9, 10],
            [
                [
                    "(\\d{3})(\\d{3,5})",
                    "$1 $2",
                    ["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],
                    "0$1",
                ],
                ["(\\d)(\\d{3})(\\d{2,4})", "$1 $2 $3", ["[49]"], "0$1"],
                ["(\\d{3})(\\d{4})", "$1 $2", ["80"], "0$1"],
                [
                    "(\\d{2})(\\d{7})",
                    "$1 $2",
                    [
                        "24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2",
                        "2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]",
                    ],
                    "(0$1)",
                ],
                ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["7"], "0$1"],
                [
                    "(\\d{3})(\\d{3})(\\d{3,4})",
                    "$1 $2 $3",
                    ["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)", "2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],
                    "0$1",
                ],
                ["(\\d{4})(\\d{6})", "$1 $2", ["8"], "0$1"],
                [
                    "(\\d{2})(\\d{3,5})",
                    "$1 $2",
                    [
                        "1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]",
                    ],
                    "0$1",
                ],
                ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["29[013-9]|39|54"], "0$1"],
                ["(\\d{4})(\\d{3,5})", "$1 $2", ["(?:25|54)8", "258|5483"], "0$1"],
            ],
            "0",
        ],
    },
    nonGeographic: {
        800: [
            "800",
            0,
            "(?:005|[1-9]\\d\\d)\\d{5}",
            [8],
            [["(\\d{4})(\\d{4})", "$1 $2", ["\\d"]]],
            0,
            0,
            0,
            0,
            0,
            0,
            [0, 0, ["(?:005|[1-9]\\d\\d)\\d{5}"]],
        ],
        808: [
            "808",
            0,
            "[1-9]\\d{7}",
            [8],
            [["(\\d{4})(\\d{4})", "$1 $2", ["[1-9]"]]],
            0,
            0,
            0,
            0,
            0,
            0,
            [0, 0, 0, 0, 0, 0, 0, 0, 0, ["[1-9]\\d{7}"]],
        ],
        870: [
            "870",
            0,
            "7\\d{11}|[35-7]\\d{8}",
            [9, 12],
            [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[35-7]"]]],
            0,
            0,
            0,
            0,
            0,
            0,
            [0, ["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"]],
        ],
        878: [
            "878",
            0,
            "10\\d{10}",
            [12],
            [["(\\d{2})(\\d{5})(\\d{5})", "$1 $2 $3", ["1"]]],
            0,
            0,
            0,
            0,
            0,
            0,
            [0, 0, 0, 0, 0, 0, 0, 0, ["10\\d{10}"]],
        ],
        881: [
            "881",
            0,
            "[0-36-9]\\d{8}",
            [9],
            [["(\\d)(\\d{3})(\\d{5})", "$1 $2 $3", ["[0-36-9]"]]],
            0,
            0,
            0,
            0,
            0,
            0,
            [0, ["[0-36-9]\\d{8}"]],
        ],
        882: [
            "882",
            0,
            "[13]\\d{6}(?:\\d{2,5})?|285\\d{9}|(?:[19]\\d|49)\\d{6}",
            [7, 8, 9, 10, 11, 12],
            [
                ["(\\d{2})(\\d{5})", "$1 $2", ["16|342"]],
                ["(\\d{2})(\\d{6})", "$1 $2", ["4"]],
                ["(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3", ["[19]"]],
                ["(\\d{2})(\\d{4})(\\d{3})", "$1 $2 $3", ["3[23]"]],
                ["(\\d{2})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["1"]],
                ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["34[57]"]],
                ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["34"]],
                ["(\\d{2})(\\d{4,5})(\\d{5})", "$1 $2 $3", ["[1-3]"]],
            ],
            0,
            0,
            0,
            0,
            0,
            0,
            [
                0,
                ["342\\d{4}|(?:337|49)\\d{6}|3(?:2|47|7\\d{3})\\d{7}", [7, 8, 9, 10, 12]],
                0,
                0,
                0,
                0,
                0,
                0,
                [
                    "1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:(?:285\\d\\d|3(?:45|[69]\\d{3}))\\d|9[89])\\d{6}",
                ],
            ],
        ],
        883: [
            "883",
            0,
            "210\\d{7}|51\\d{7}(?:\\d{3})?",
            [9, 10, 12],
            [
                ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["510"]],
                ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["2"]],
                ["(\\d{3})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["510"]],
                ["(\\d{4})(\\d{4})(\\d{4})", "$1 $2 $3", ["5"]],
            ],
            0,
            0,
            0,
            0,
            0,
            0,
            [0, 0, 0, 0, 0, 0, 0, 0, ["(?:210|51[013]0\\d)\\d{7}|5100\\d{5}"]],
        ],
        888: [
            "888",
            0,
            "\\d{11}",
            [11],
            [["(\\d{3})(\\d{3})(\\d{5})", "$1 $2 $3"]],
            0,
            0,
            0,
            0,
            0,
            0,
            [0, 0, 0, 0, 0, 0, ["\\d{11}"]],
        ],
        979: [
            "979",
            0,
            "[1359]\\d{8}",
            [9],
            [["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["[1359]"]]],
            0,
            0,
            0,
            0,
            0,
            0,
            [0, 0, 0, ["[1359]\\d{8}"]],
        ],
    },
};

// Importing from `.json.js` a workaround for a bug in web browsers' "native"

function withMetadata(func, _arguments) {
    var args = Array.prototype.slice.call(_arguments);
    args.push(metadata$2);
    return func.apply(this, args);
}

function _classCallCheck$9(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

// https://stackoverflow.com/a/46971044/970769
var ParseError = function ParseError(code) {
    _classCallCheck$9(this, ParseError);

    this.name = this.constructor.name;
    this.message = code;
    this.stack = new Error(code).stack;
};
ParseError.prototype = Object.create(Error.prototype);
ParseError.prototype.constructor = ParseError;

// The minimum length of the national significant number.
var MIN_LENGTH_FOR_NSN = 2; // The ITU says the maximum length should be 15,
// but one can find longer numbers in Germany.

var MAX_LENGTH_FOR_NSN = 17; // The maximum length of the country calling code.

var MAX_LENGTH_COUNTRY_CODE = 3; // Digits accepted in phone numbers
// (ascii, fullwidth, arabic-indic, and eastern arabic digits).

var VALID_DIGITS = "0-9\uFF10-\uFF19\u0660-\u0669\u06F0-\u06F9"; // `DASHES` will be right after the opening square bracket of the "character class"

var DASHES = "-\u2010-\u2015\u2212\u30FC\uFF0D";
var SLASHES = "\uFF0F/";
var DOTS = "\uFF0E.";
var WHITESPACE = " \xA0\xAD\u200B\u2060\u3000";
var BRACKETS = "()\uFF08\uFF09\uFF3B\uFF3D\\[\\]"; // export const OPENING_BRACKETS = '(\uFF08\uFF3B\\\['

var TILDES = "~\u2053\u223C\uFF5E"; // Regular expression of acceptable punctuation found in phone numbers. This
// excludes punctuation found as a leading character only. This consists of dash
// characters, white space characters, full stops, slashes, square brackets,
// parentheses and tildes. Full-width variants are also present.

var VALID_PUNCTUATION = ""
    .concat(DASHES)
    .concat(SLASHES)
    .concat(DOTS)
    .concat(WHITESPACE)
    .concat(BRACKETS)
    .concat(TILDES);
var PLUS_CHARS = "+\uFF0B"; // const LEADING_PLUS_CHARS_PATTERN = new RegExp('^[' + PLUS_CHARS + ']+')

// Copy-pasted from:
// https://github.com/substack/semver-compare/blob/master/index.js
//
// Inlining this function because some users reported issues with
// importing from `semver-compare` in a browser with ES6 "native" modules.
//
// Fixes `semver-compare` not being able to compare versions with alpha/beta/etc "tags".
// https://github.com/catamphetamine/libphonenumber-js/issues/381
function compare(a, b) {
    a = a.split("-");
    b = b.split("-");
    var pa = a[0].split(".");
    var pb = b[0].split(".");

    for (var i = 0; i < 3; i++) {
        var na = Number(pa[i]);
        var nb = Number(pb[i]);
        if (na > nb) return 1;
        if (nb > na) return -1;
        if (!isNaN(na) && isNaN(nb)) return 1;
        if (isNaN(na) && !isNaN(nb)) return -1;
    }

    if (a[1] && b[1]) {
        return a[1] > b[1] ? 1 : a[1] < b[1] ? -1 : 0;
    }

    return !a[1] && b[1] ? 1 : a[1] && !b[1] ? -1 : 0;
}

function _typeof$5(obj) {
    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof$5 = function _typeof(obj) {
            return typeof obj;
        };
    } else {
        _typeof$5 = function _typeof(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype
                ? "symbol"
                : typeof obj;
        };
    }
    return _typeof$5(obj);
}

function _classCallCheck$8(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _defineProperties$8(target, props) {
    for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
    }
}

function _createClass$8(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties$8(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties$8(Constructor, staticProps);
    return Constructor;
}

var V3 = "1.2.0"; // Moved `001` country code to "nonGeographic" section of metadata.

var V4 = "1.7.35";
var DEFAULT_EXT_PREFIX = " ext. ";
var CALLING_CODE_REG_EXP = /^\d+$/;
/**
 * See: https://gitlab.com/catamphetamine/libphonenumber-js/blob/master/METADATA.md
 */

var Metadata =
    /*#__PURE__*/
    (function () {
        function Metadata(metadata) {
            _classCallCheck$8(this, Metadata);

            validateMetadata(metadata);
            this.metadata = metadata;
            setVersion.call(this, metadata);
        }

        _createClass$8(Metadata, [
            {
                key: "getCountries",
                value: function getCountries() {
                    return Object.keys(this.metadata.countries).filter(function (_) {
                        return _ !== "001";
                    });
                },
            },
            {
                key: "getCountryMetadata",
                value: function getCountryMetadata(countryCode) {
                    return this.metadata.countries[countryCode];
                },
            },
            {
                key: "nonGeographic",
                value: function nonGeographic() {
                    if (this.v1 || this.v2 || this.v3) return; // `nonGeographical` was a typo.
                    // It's present in metadata generated from `1.7.35` to `1.7.37`.

                    return this.metadata.nonGeographic || this.metadata.nonGeographical;
                },
            },
            {
                key: "hasCountry",
                value: function hasCountry(country) {
                    return this.getCountryMetadata(country) !== undefined;
                },
            },
            {
                key: "hasCallingCode",
                value: function hasCallingCode(callingCode) {
                    if (this.getCountryCodesForCallingCode(callingCode)) {
                        return true;
                    }

                    if (this.nonGeographic()) {
                        if (this.nonGeographic()[callingCode]) {
                            return true;
                        }
                    } else {
                        // A hacky workaround for old custom metadata (generated before V4).
                        var countryCodes = this.countryCallingCodes()[callingCode];

                        if (countryCodes && countryCodes.length === 1 && countryCodes[0] === "001") {
                            return true;
                        }
                    }
                },
            },
            {
                key: "isNonGeographicCallingCode",
                value: function isNonGeographicCallingCode(callingCode) {
                    if (this.nonGeographic()) {
                        return this.nonGeographic()[callingCode] ? true : false;
                    } else {
                        return this.getCountryCodesForCallingCode(callingCode) ? false : true;
                    }
                }, // Deprecated.
            },
            {
                key: "country",
                value: function country(countryCode) {
                    return this.selectNumberingPlan(countryCode);
                },
            },
            {
                key: "selectNumberingPlan",
                value: function selectNumberingPlan(countryCode, callingCode) {
                    // Supports just passing `callingCode` as the first argument.
                    if (countryCode && CALLING_CODE_REG_EXP.test(countryCode)) {
                        callingCode = countryCode;
                        countryCode = null;
                    }

                    if (countryCode && countryCode !== "001") {
                        if (!this.hasCountry(countryCode)) {
                            throw new Error("Unknown country: ".concat(countryCode));
                        }

                        this.numberingPlan = new NumberingPlan(this.getCountryMetadata(countryCode), this);
                    } else if (callingCode) {
                        if (!this.hasCallingCode(callingCode)) {
                            throw new Error("Unknown calling code: ".concat(callingCode));
                        }

                        this.numberingPlan = new NumberingPlan(this.getNumberingPlanMetadata(callingCode), this);
                    } else {
                        this.numberingPlan = undefined;
                    }

                    return this;
                },
            },
            {
                key: "getCountryCodesForCallingCode",
                value: function getCountryCodesForCallingCode(callingCode) {
                    var countryCodes = this.countryCallingCodes()[callingCode];

                    if (countryCodes) {
                        // Metadata before V4 included "non-geographic entity" calling codes
                        // inside `country_calling_codes` (for example, `"881":["001"]`).
                        // Now the semantics of `country_calling_codes` has changed:
                        // it's specifically for "countries" now.
                        // Older versions of custom metadata will simply skip parsing
                        // "non-geographic entity" phone numbers with new versions
                        // of this library: it's not considered a bug,
                        // because such numbers are extremely rare,
                        // and developers extremely rarely use custom metadata.
                        if (countryCodes.length === 1 && countryCodes[0].length === 3) {
                            return;
                        }

                        return countryCodes;
                    }
                },
            },
            {
                key: "getCountryCodeForCallingCode",
                value: function getCountryCodeForCallingCode(callingCode) {
                    var countryCodes = this.getCountryCodesForCallingCode(callingCode);

                    if (countryCodes) {
                        return countryCodes[0];
                    }
                },
            },
            {
                key: "getNumberingPlanMetadata",
                value: function getNumberingPlanMetadata(callingCode) {
                    var countryCode = this.getCountryCodeForCallingCode(callingCode);

                    if (countryCode) {
                        return this.getCountryMetadata(countryCode);
                    }

                    if (this.nonGeographic()) {
                        var metadata = this.nonGeographic()[callingCode];

                        if (metadata) {
                            return metadata;
                        }
                    } else {
                        // A hacky workaround for old custom metadata (generated before V4).
                        var countryCodes = this.countryCallingCodes()[callingCode];

                        if (countryCodes && countryCodes.length === 1 && countryCodes[0] === "001") {
                            return this.metadata.countries["001"];
                        }
                    }
                }, // Deprecated.
            },
            {
                key: "countryCallingCode",
                value: function countryCallingCode() {
                    return this.numberingPlan.callingCode();
                }, // Deprecated.
            },
            {
                key: "IDDPrefix",
                value: function IDDPrefix() {
                    return this.numberingPlan.IDDPrefix();
                }, // Deprecated.
            },
            {
                key: "defaultIDDPrefix",
                value: function defaultIDDPrefix() {
                    return this.numberingPlan.defaultIDDPrefix();
                }, // Deprecated.
            },
            {
                key: "nationalNumberPattern",
                value: function nationalNumberPattern() {
                    return this.numberingPlan.nationalNumberPattern();
                }, // Deprecated.
            },
            {
                key: "possibleLengths",
                value: function possibleLengths() {
                    return this.numberingPlan.possibleLengths();
                }, // Deprecated.
            },
            {
                key: "formats",
                value: function formats() {
                    return this.numberingPlan.formats();
                }, // Deprecated.
            },
            {
                key: "nationalPrefixForParsing",
                value: function nationalPrefixForParsing() {
                    return this.numberingPlan.nationalPrefixForParsing();
                }, // Deprecated.
            },
            {
                key: "nationalPrefixTransformRule",
                value: function nationalPrefixTransformRule() {
                    return this.numberingPlan.nationalPrefixTransformRule();
                }, // Deprecated.
            },
            {
                key: "leadingDigits",
                value: function leadingDigits() {
                    return this.numberingPlan.leadingDigits();
                }, // Deprecated.
            },
            {
                key: "hasTypes",
                value: function hasTypes() {
                    return this.numberingPlan.hasTypes();
                }, // Deprecated.
            },
            {
                key: "type",
                value: function type(_type) {
                    return this.numberingPlan.type(_type);
                }, // Deprecated.
            },
            {
                key: "ext",
                value: function ext() {
                    return this.numberingPlan.ext();
                },
            },
            {
                key: "countryCallingCodes",
                value: function countryCallingCodes() {
                    if (this.v1) return this.metadata.country_phone_code_to_countries;
                    return this.metadata.country_calling_codes;
                }, // Deprecated.
            },
            {
                key: "chooseCountryByCountryCallingCode",
                value: function chooseCountryByCountryCallingCode(callingCode) {
                    return this.selectNumberingPlan(callingCode);
                },
            },
            {
                key: "hasSelectedNumberingPlan",
                value: function hasSelectedNumberingPlan() {
                    return this.numberingPlan !== undefined;
                },
            },
        ]);

        return Metadata;
    })();

var NumberingPlan =
    /*#__PURE__*/
    (function () {
        function NumberingPlan(metadata, globalMetadataObject) {
            _classCallCheck$8(this, NumberingPlan);

            this.globalMetadataObject = globalMetadataObject;
            this.metadata = metadata;
            setVersion.call(this, globalMetadataObject.metadata);
        }

        _createClass$8(NumberingPlan, [
            {
                key: "callingCode",
                value: function callingCode() {
                    return this.metadata[0];
                }, // Formatting information for regions which share
                // a country calling code is contained by only one region
                // for performance reasons. For example, for NANPA region
                // ("North American Numbering Plan Administration",
                //  which includes USA, Canada, Cayman Islands, Bahamas, etc)
                // it will be contained in the metadata for `US`.
            },
            {
                key: "getDefaultCountryMetadataForRegion",
                value: function getDefaultCountryMetadataForRegion() {
                    return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode());
                }, // Is always present.
            },
            {
                key: "IDDPrefix",
                value: function IDDPrefix() {
                    if (this.v1 || this.v2) return;
                    return this.metadata[1];
                }, // Is only present when a country supports multiple IDD prefixes.
            },
            {
                key: "defaultIDDPrefix",
                value: function defaultIDDPrefix() {
                    if (this.v1 || this.v2) return;
                    return this.metadata[12];
                },
            },
            {
                key: "nationalNumberPattern",
                value: function nationalNumberPattern() {
                    if (this.v1 || this.v2) return this.metadata[1];
                    return this.metadata[2];
                }, // Is always present.
            },
            {
                key: "possibleLengths",
                value: function possibleLengths() {
                    if (this.v1) return;
                    return this.metadata[this.v2 ? 2 : 3];
                },
            },
            {
                key: "_getFormats",
                value: function _getFormats(metadata) {
                    return metadata[this.v1 ? 2 : this.v2 ? 3 : 4];
                }, // For countries of the same region (e.g. NANPA)
                // formats are all stored in the "main" country for that region.
                // E.g. "RU" and "KZ", "US" and "CA".
            },
            {
                key: "formats",
                value: function formats() {
                    var _this = this;

                    var formats =
                        this._getFormats(this.metadata) ||
                        this._getFormats(this.getDefaultCountryMetadataForRegion()) ||
                        [];
                    return formats.map(function (_) {
                        return new Format(_, _this);
                    });
                },
            },
            {
                key: "nationalPrefix",
                value: function nationalPrefix() {
                    return this.metadata[this.v1 ? 3 : this.v2 ? 4 : 5];
                },
            },
            {
                key: "_getNationalPrefixFormattingRule",
                value: function _getNationalPrefixFormattingRule(metadata) {
                    return metadata[this.v1 ? 4 : this.v2 ? 5 : 6];
                }, // For countries of the same region (e.g. NANPA)
                // national prefix formatting rule is stored in the "main" country for that region.
                // E.g. "RU" and "KZ", "US" and "CA".
            },
            {
                key: "nationalPrefixFormattingRule",
                value: function nationalPrefixFormattingRule() {
                    return (
                        this._getNationalPrefixFormattingRule(this.metadata) ||
                        this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())
                    );
                },
            },
            {
                key: "_nationalPrefixForParsing",
                value: function _nationalPrefixForParsing() {
                    return this.metadata[this.v1 ? 5 : this.v2 ? 6 : 7];
                },
            },
            {
                key: "nationalPrefixForParsing",
                value: function nationalPrefixForParsing() {
                    // If `national_prefix_for_parsing` is not set explicitly,
                    // then infer it from `national_prefix` (if any)
                    return this._nationalPrefixForParsing() || this.nationalPrefix();
                },
            },
            {
                key: "nationalPrefixTransformRule",
                value: function nationalPrefixTransformRule() {
                    return this.metadata[this.v1 ? 6 : this.v2 ? 7 : 8];
                },
            },
            {
                key: "_getNationalPrefixIsOptionalWhenFormatting",
                value: function _getNationalPrefixIsOptionalWhenFormatting() {
                    return !!this.metadata[this.v1 ? 7 : this.v2 ? 8 : 9];
                }, // For countries of the same region (e.g. NANPA)
                // "national prefix is optional when formatting" flag is
                // stored in the "main" country for that region.
                // E.g. "RU" and "KZ", "US" and "CA".
            },
            {
                key: "nationalPrefixIsOptionalWhenFormattingInNationalFormat",
                value: function nationalPrefixIsOptionalWhenFormattingInNationalFormat() {
                    return (
                        this._getNationalPrefixIsOptionalWhenFormatting(this.metadata) ||
                        this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())
                    );
                },
            },
            {
                key: "leadingDigits",
                value: function leadingDigits() {
                    return this.metadata[this.v1 ? 8 : this.v2 ? 9 : 10];
                },
            },
            {
                key: "types",
                value: function types() {
                    return this.metadata[this.v1 ? 9 : this.v2 ? 10 : 11];
                },
            },
            {
                key: "hasTypes",
                value: function hasTypes() {
                    // Versions 1.2.0 - 1.2.4: can be `[]`.

                    /* istanbul ignore next */
                    if (this.types() && this.types().length === 0) {
                        return false;
                    } // Versions <= 1.2.4: can be `undefined`.
                    // Version >= 1.2.5: can be `0`.

                    return !!this.types();
                },
            },
            {
                key: "type",
                value: function type(_type2) {
                    if (this.hasTypes() && getType(this.types(), _type2)) {
                        return new Type(getType(this.types(), _type2), this);
                    }
                },
            },
            {
                key: "ext",
                value: function ext() {
                    if (this.v1 || this.v2) return DEFAULT_EXT_PREFIX;
                    return this.metadata[13] || DEFAULT_EXT_PREFIX;
                },
            },
        ]);

        return NumberingPlan;
    })();

var Format =
    /*#__PURE__*/
    (function () {
        function Format(format, metadata) {
            _classCallCheck$8(this, Format);

            this._format = format;
            this.metadata = metadata;
        }

        _createClass$8(Format, [
            {
                key: "pattern",
                value: function pattern() {
                    return this._format[0];
                },
            },
            {
                key: "format",
                value: function format() {
                    return this._format[1];
                },
            },
            {
                key: "leadingDigitsPatterns",
                value: function leadingDigitsPatterns() {
                    return this._format[2] || [];
                },
            },
            {
                key: "nationalPrefixFormattingRule",
                value: function nationalPrefixFormattingRule() {
                    return this._format[3] || this.metadata.nationalPrefixFormattingRule();
                },
            },
            {
                key: "nationalPrefixIsOptionalWhenFormattingInNationalFormat",
                value: function nationalPrefixIsOptionalWhenFormattingInNationalFormat() {
                    return !!this._format[4] || this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat();
                },
            },
            {
                key: "nationalPrefixIsMandatoryWhenFormattingInNationalFormat",
                value: function nationalPrefixIsMandatoryWhenFormattingInNationalFormat() {
                    // National prefix is omitted if there's no national prefix formatting rule
                    // set for this country, or when the national prefix formatting rule
                    // contains no national prefix itself, or when this rule is set but
                    // national prefix is optional for this phone number format
                    // (and it is not enforced explicitly)
                    return this.usesNationalPrefix() && !this.nationalPrefixIsOptionalWhenFormattingInNationalFormat();
                }, // Checks whether national prefix formatting rule contains national prefix.
            },
            {
                key: "usesNationalPrefix",
                value: function usesNationalPrefix() {
                    return this.nationalPrefixFormattingRule() && // Check that national prefix formatting rule is not a "dummy" one.
                        !FIRST_GROUP_ONLY_PREFIX_PATTERN.test(this.nationalPrefixFormattingRule()) // In compressed metadata, `this.nationalPrefixFormattingRule()` is `0`
                        ? // when `national_prefix_formatting_rule` is not present.
                          // So, `true` or `false` are returned explicitly here, so that
                          // `0` number isn't returned.
                          true
                        : false;
                },
            },
            {
                key: "internationalFormat",
                value: function internationalFormat() {
                    return this._format[5] || this.format();
                },
            },
        ]);

        return Format;
    })();
/**
 * A pattern that is used to determine if the national prefix formatting rule
 * has the first group only, i.e., does not start with the national prefix.
 * Note that the pattern explicitly allows for unbalanced parentheses.
 */

var FIRST_GROUP_ONLY_PREFIX_PATTERN = /^\(?\$1\)?$/;

var Type =
    /*#__PURE__*/
    (function () {
        function Type(type, metadata) {
            _classCallCheck$8(this, Type);

            this.type = type;
            this.metadata = metadata;
        }

        _createClass$8(Type, [
            {
                key: "pattern",
                value: function pattern() {
                    if (this.metadata.v1) return this.type;
                    return this.type[0];
                },
            },
            {
                key: "possibleLengths",
                value: function possibleLengths() {
                    if (this.metadata.v1) return;
                    return this.type[1] || this.metadata.possibleLengths();
                },
            },
        ]);

        return Type;
    })();

function getType(types, type) {
    switch (type) {
        case "FIXED_LINE":
            return types[0];

        case "MOBILE":
            return types[1];

        case "TOLL_FREE":
            return types[2];

        case "PREMIUM_RATE":
            return types[3];

        case "PERSONAL_NUMBER":
            return types[4];

        case "VOICEMAIL":
            return types[5];

        case "UAN":
            return types[6];

        case "PAGER":
            return types[7];

        case "VOIP":
            return types[8];

        case "SHARED_COST":
            return types[9];
    }
}

function validateMetadata(metadata) {
    if (!metadata) {
        throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");
    } // `country_phone_code_to_countries` was renamed to
    // `country_calling_codes` in `1.0.18`.

    if (!is_object(metadata) || !is_object(metadata.countries)) {
        throw new Error(
            "[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(
                is_object(metadata)
                    ? "an object of shape: { " + Object.keys(metadata).join(", ") + " }"
                    : "a " + type_of(metadata) + ": " + metadata,
                "."
            )
        );
    }
} // Babel transforms `typeof` into some "branches"
// so istanbul will show this as "branch not covered".

/* istanbul ignore next */

var is_object = function is_object(_) {
    return _typeof$5(_) === "object";
}; // Babel transforms `typeof` into some "branches"
// so istanbul will show this as "branch not covered".

/* istanbul ignore next */

var type_of = function type_of(_) {
    return _typeof$5(_);
};
/**
 * Returns "country calling code" for a country.
 * Throws an error if the country doesn't exist or isn't supported by this library.
 * @param  {string} country
 * @param  {object} metadata
 * @return {string}
 * @example
 * // Returns "44"
 * getCountryCallingCode("GB")
 */

function getCountryCallingCode$1(country, metadata) {
    metadata = new Metadata(metadata);

    if (metadata.hasCountry(country)) {
        return metadata.country(country).countryCallingCode();
    }

    throw new Error("Unknown country: ".concat(country));
}
function isSupportedCountry(country, metadata) {
    // metadata = new Metadata(metadata)
    // return metadata.hasCountry(country)
    return metadata.countries[country] !== undefined;
}

function setVersion(metadata) {
    var version = metadata.version;

    if (typeof version === "number") {
        this.v1 = version === 1;
        this.v2 = version === 2;
        this.v3 = version === 3;
        this.v4 = version === 4;
    } else {
        if (!version) {
            this.v1 = true;
        } else if (compare(version, V3) === -1) {
            this.v2 = true;
        } else if (compare(version, V4) === -1) {
            this.v3 = true;
        } else {
            this.v4 = true;
        }
    }
} // const ISO_COUNTRY_CODE = /^[A-Z]{2}$/
// function isCountryCode(countryCode) {
// 	return ISO_COUNTRY_CODE.test(countryCodeOrCountryCallingCode)
// }

var RFC3966_EXTN_PREFIX = ";ext=";
/**
 * Helper method for constructing regular expressions for parsing. Creates
 * an expression that captures up to max_length digits.
 * @return {string} RegEx pattern to capture extension digits.
 */

var getExtensionDigitsPattern = function getExtensionDigitsPattern(maxLength) {
    return "([".concat(VALID_DIGITS, "]{1,").concat(maxLength, "})");
};
/**
 * Helper initialiser method to create the regular-expression pattern to match
 * extensions.
 * Copy-pasted from Google's `libphonenumber`:
 * https://github.com/google/libphonenumber/blob/55b2646ec9393f4d3d6661b9c82ef9e258e8b829/javascript/i18n/phonenumbers/phonenumberutil.js#L759-L766
 * @return {string} RegEx pattern to capture extensions.
 */

function createExtensionPattern(purpose) {
    // We cap the maximum length of an extension based on the ambiguity of the way
    // the extension is prefixed. As per ITU, the officially allowed length for
    // extensions is actually 40, but we don't support this since we haven't seen real
    // examples and this introduces many false interpretations as the extension labels
    // are not standardized.

    /** @type {string} */
    var extLimitAfterExplicitLabel = "20";
    /** @type {string} */

    var extLimitAfterLikelyLabel = "15";
    /** @type {string} */

    var extLimitAfterAmbiguousChar = "9";
    /** @type {string} */

    var extLimitWhenNotSure = "6";
    /** @type {string} */

    var possibleSeparatorsBetweenNumberAndExtLabel = "[ \xA0\\t,]*"; // Optional full stop (.) or colon, followed by zero or more spaces/tabs/commas.

    /** @type {string} */

    var possibleCharsAfterExtLabel = "[:\\.\uFF0E]?[ \xA0\\t,-]*";
    /** @type {string} */

    var optionalExtnSuffix = "#?"; // Here the extension is called out in more explicit way, i.e mentioning it obvious
    // patterns like "ext.".

    /** @type {string} */

    var explicitExtLabels = "(?:e?xt(?:ensi(?:o\u0301?|\xF3))?n?|\uFF45?\uFF58\uFF54\uFF4E?|\u0434\u043E\u0431|anexo)"; // One-character symbols that can be used to indicate an extension, and less
    // commonly used or more ambiguous extension labels.

    /** @type {string} */

    var ambiguousExtLabels = "(?:[x\uFF58#\uFF03~\uFF5E]|int|\uFF49\uFF4E\uFF54)"; // When extension is not separated clearly.

    /** @type {string} */

    var ambiguousSeparator = "[- ]+"; // This is the same as possibleSeparatorsBetweenNumberAndExtLabel, but not matching
    // comma as extension label may have it.

    /** @type {string} */

    var possibleSeparatorsNumberExtLabelNoComma = "[ \xA0\\t]*"; // ",," is commonly used for auto dialling the extension when connected. First
    // comma is matched through possibleSeparatorsBetweenNumberAndExtLabel, so we do
    // not repeat it here. Semi-colon works in Iphone and Android also to pop up a
    // button with the extension number following.

    /** @type {string} */

    var autoDiallingAndExtLabelsFound = "(?:,{2}|;)";
    /** @type {string} */

    var rfcExtn = RFC3966_EXTN_PREFIX + getExtensionDigitsPattern(extLimitAfterExplicitLabel);
    /** @type {string} */

    var explicitExtn =
        possibleSeparatorsBetweenNumberAndExtLabel +
        explicitExtLabels +
        possibleCharsAfterExtLabel +
        getExtensionDigitsPattern(extLimitAfterExplicitLabel) +
        optionalExtnSuffix;
    /** @type {string} */

    var ambiguousExtn =
        possibleSeparatorsBetweenNumberAndExtLabel +
        ambiguousExtLabels +
        possibleCharsAfterExtLabel +
        getExtensionDigitsPattern(extLimitAfterAmbiguousChar) +
        optionalExtnSuffix;
    /** @type {string} */

    var americanStyleExtnWithSuffix = ambiguousSeparator + getExtensionDigitsPattern(extLimitWhenNotSure) + "#";
    /** @type {string} */

    var autoDiallingExtn =
        possibleSeparatorsNumberExtLabelNoComma +
        autoDiallingAndExtLabelsFound +
        possibleCharsAfterExtLabel +
        getExtensionDigitsPattern(extLimitAfterLikelyLabel) +
        optionalExtnSuffix;
    /** @type {string} */

    var onlyCommasExtn =
        possibleSeparatorsNumberExtLabelNoComma +
        "(?:,)+" +
        possibleCharsAfterExtLabel +
        getExtensionDigitsPattern(extLimitAfterAmbiguousChar) +
        optionalExtnSuffix; // The first regular expression covers RFC 3966 format, where the extension is added
    // using ";ext=". The second more generic where extension is mentioned with explicit
    // labels like "ext:". In both the above cases we allow more numbers in extension than
    // any other extension labels. The third one captures when single character extension
    // labels or less commonly used labels are used. In such cases we capture fewer
    // extension digits in order to reduce the chance of falsely interpreting two
    // numbers beside each other as a number + extension. The fourth one covers the
    // special case of American numbers where the extension is written with a hash
    // at the end, such as "- 503#". The fifth one is exclusively for extension
    // autodialling formats which are used when dialling and in this case we accept longer
    // extensions. The last one is more liberal on the number of commas that acts as
    // extension labels, so we have a strict cap on the number of digits in such extensions.

    return (
        rfcExtn +
        "|" +
        explicitExtn +
        "|" +
        ambiguousExtn +
        "|" +
        americanStyleExtnWithSuffix +
        "|" +
        autoDiallingExtn +
        "|" +
        onlyCommasExtn
    );
}

//  Checks we have at least three leading digits, and only valid punctuation,
//  alpha characters and digits in the phone number. Does not include extension
//  data. The symbol 'x' is allowed here as valid punctuation since it is often
//  used as a placeholder for carrier codes, for example in Brazilian phone
//  numbers. We also allow multiple '+' characters at the start.
//
//  Corresponds to the following:
//  [digits]{minLengthNsn}|
//  plus_sign*
//  (([punctuation]|[star])*[digits]){3,}([punctuation]|[star]|[digits]|[alpha])*
//
//  The first reg-ex is to allow short numbers (two digits long) to be parsed if
//  they are entered as "15" etc, but only if there is no punctuation in them.
//  The second expression restricts the number of digits to three or more, but
//  then allows them to be in international form, and to have alpha-characters
//  and punctuation. We split up the two reg-exes here and combine them when
//  creating the reg-ex VALID_PHONE_NUMBER_PATTERN itself so we can prefix it
//  with ^ and append $ to each branch.
//
//  "Note VALID_PUNCTUATION starts with a -,
//   so must be the first in the range" (c) Google devs.
//  (wtf did they mean by saying that; probably nothing)
//

var MIN_LENGTH_PHONE_NUMBER_PATTERN = "[" + VALID_DIGITS + "]{" + MIN_LENGTH_FOR_NSN + "}"; //
// And this is the second reg-exp:
// (see MIN_LENGTH_PHONE_NUMBER_PATTERN for a full description of this reg-exp)
//

var VALID_PHONE_NUMBER =
    "[" +
    PLUS_CHARS +
    "]{0,1}" +
    "(?:" +
    "[" +
    VALID_PUNCTUATION +
    "]*" +
    "[" +
    VALID_DIGITS +
    "]" +
    "){3,}" +
    "[" +
    VALID_PUNCTUATION +
    VALID_DIGITS +
    "]*"; // This regular expression isn't present in Google's `libphonenumber`
// and is only used to determine whether the phone number being input
// is too short for it to even consider it a "valid" number.
// This is just a way to differentiate between a really invalid phone
// number like "abcde" and a valid phone number that a user has just
// started inputting, like "+1" or "1": both these cases would be
// considered `NOT_A_NUMBER` by Google's `libphonenumber`, but this
// library can provide a more detailed error message  whether it's
// really "not a number", or is it just a start of a valid phone number.

var VALID_PHONE_NUMBER_START_REG_EXP = new RegExp(
    "^" +
        "[" +
        PLUS_CHARS +
        "]{0,1}" +
        "(?:" +
        "[" +
        VALID_PUNCTUATION +
        "]*" +
        "[" +
        VALID_DIGITS +
        "]" +
        "){1,2}" +
        "$",
    "i"
);
var VALID_PHONE_NUMBER_WITH_EXTENSION =
    VALID_PHONE_NUMBER + // Phone number extensions
    "(?:" +
    createExtensionPattern() +
    ")?"; // The combined regular expression for valid phone numbers:
//

var VALID_PHONE_NUMBER_PATTERN = new RegExp( // Either a short two-digit-only phone number
    "^" +
        MIN_LENGTH_PHONE_NUMBER_PATTERN +
        "$" +
        "|" + // Or a longer fully parsed phone number (min 3 characters)
        "^" +
        VALID_PHONE_NUMBER_WITH_EXTENSION +
        "$",
    "i"
); // Checks to see if the string of characters could possibly be a phone number at
// all. At the moment, checks to see that the string begins with at least 2
// digits, ignoring any punctuation commonly found in phone numbers. This method
// does not require the number to be normalized in advance - but does assume
// that leading non-number symbols have been removed, such as by the method
// `extract_possible_number`.
//

function isViablePhoneNumber(number) {
    return number.length >= MIN_LENGTH_FOR_NSN && VALID_PHONE_NUMBER_PATTERN.test(number);
} // This is just a way to differentiate between a really invalid phone
// number like "abcde" and a valid phone number that a user has just
// started inputting, like "+1" or "1": both these cases would be
// considered `NOT_A_NUMBER` by Google's `libphonenumber`, but this
// library can provide a more detailed error message  whether it's
// really "not a number", or is it just a start of a valid phone number.

function isViablePhoneNumberStart(number) {
    return VALID_PHONE_NUMBER_START_REG_EXP.test(number);
}

// 1 or more valid digits, for use when parsing.

var EXTN_PATTERN = new RegExp("(?:" + createExtensionPattern() + ")$", "i"); // Strips any extension (as in, the part of the number dialled after the call is
// connected, usually indicated with extn, ext, x or similar) from the end of
// the number, and returns it.

function extractExtension(number) {
    var start = number.search(EXTN_PATTERN);

    if (start < 0) {
        return {};
    } // If we find a potential extension, and the number preceding this is a viable
    // number, we assume it is an extension.

    var numberWithoutExtension = number.slice(0, start);
    var matches = number.match(EXTN_PATTERN);
    var i = 1;

    while (i < matches.length) {
        if (matches[i]) {
            return {
                number: numberWithoutExtension,
                ext: matches[i],
            };
        }

        i++;
    }
}

// These mappings map a character (key) to a specific digit that should
// replace it for normalization purposes. Non-European digits that
// may be used in phone numbers are mapped to a European equivalent.
//
// E.g. in Iraq they don't write `+442323234` but rather `+`.
//
var DIGITS = {
    0: "0",
    1: "1",
    2: "2",
    3: "3",
    4: "4",
    5: "5",
    6: "6",
    7: "7",
    8: "8",
    9: "9",
    "\uFF10": "0",
    // Fullwidth digit 0
    "\uFF11": "1",
    // Fullwidth digit 1
    "\uFF12": "2",
    // Fullwidth digit 2
    "\uFF13": "3",
    // Fullwidth digit 3
    "\uFF14": "4",
    // Fullwidth digit 4
    "\uFF15": "5",
    // Fullwidth digit 5
    "\uFF16": "6",
    // Fullwidth digit 6
    "\uFF17": "7",
    // Fullwidth digit 7
    "\uFF18": "8",
    // Fullwidth digit 8
    "\uFF19": "9",
    // Fullwidth digit 9
    "\u0660": "0",
    // Arabic-indic digit 0
    "\u0661": "1",
    // Arabic-indic digit 1
    "\u0662": "2",
    // Arabic-indic digit 2
    "\u0663": "3",
    // Arabic-indic digit 3
    "\u0664": "4",
    // Arabic-indic digit 4
    "\u0665": "5",
    // Arabic-indic digit 5
    "\u0666": "6",
    // Arabic-indic digit 6
    "\u0667": "7",
    // Arabic-indic digit 7
    "\u0668": "8",
    // Arabic-indic digit 8
    "\u0669": "9",
    // Arabic-indic digit 9
    "\u06F0": "0",
    // Eastern-Arabic digit 0
    "\u06F1": "1",
    // Eastern-Arabic digit 1
    "\u06F2": "2",
    // Eastern-Arabic digit 2
    "\u06F3": "3",
    // Eastern-Arabic digit 3
    "\u06F4": "4",
    // Eastern-Arabic digit 4
    "\u06F5": "5",
    // Eastern-Arabic digit 5
    "\u06F6": "6",
    // Eastern-Arabic digit 6
    "\u06F7": "7",
    // Eastern-Arabic digit 7
    "\u06F8": "8",
    // Eastern-Arabic digit 8
    "\u06F9": "9", // Eastern-Arabic digit 9
};
function parseDigit(character) {
    return DIGITS[character];
}
/**
 * Parses phone number digits from a string.
 * Drops all punctuation leaving only digits.
 * Also converts wide-ascii and arabic-indic numerals to conventional numerals.
 * E.g. in Iraq they don't write `+442323234` but rather `+`.
 * @param  {string} string
 * @return {string}
 * @example
 * ```js
 * parseDigits('8 (800) 555')
 * // Outputs '8800555'.
 * ```
 */

function parseDigits(string) {
    var result = ""; // Using `.split('')` here instead of normal `for ... of`
    // because the importing application doesn't neccessarily include an ES6 polyfill.
    // The `.split('')` approach discards "exotic" UTF-8 characters
    // (the ones consisting of four bytes) but digits
    // (including non-European ones) don't fall into that range
    // so such "exotic" characters would be discarded anyway.

    for (
        var _iterator = string.split(""),
            _isArray = Array.isArray(_iterator),
            _i = 0,
            _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();
        ;

    ) {
        var _ref;

        if (_isArray) {
            if (_i >= _iterator.length) break;
            _ref = _iterator[_i++];
        } else {
            _i = _iterator.next();
            if (_i.done) break;
            _ref = _i.value;
        }

        var character = _ref;
        var digit = parseDigit(character);

        if (digit) {
            result += digit;
        }
    }

    return result;
}

/**
 * Parses phone number characters from a string.
 * Drops all punctuation leaving only digits and the leading `+` sign (if any).
 * Also converts wide-ascii and arabic-indic numerals to conventional numerals.
 * E.g. in Iraq they don't write `+442323234` but rather `+`.
 * @param  {string} string
 * @return {string}
 * @example
 * ```js
 * // Outputs '8800555'.
 * parseIncompletePhoneNumber('8 (800) 555')
 * // Outputs '+7800555'.
 * parseIncompletePhoneNumber('+7 800 555')
 * ```
 */

function parseIncompletePhoneNumber(string) {
    var result = ""; // Using `.split('')` here instead of normal `for ... of`
    // because the importing application doesn't neccessarily include an ES6 polyfill.
    // The `.split('')` approach discards "exotic" UTF-8 characters
    // (the ones consisting of four bytes) but digits
    // (including non-European ones) don't fall into that range
    // so such "exotic" characters would be discarded anyway.

    for (
        var _iterator = string.split(""),
            _isArray = Array.isArray(_iterator),
            _i = 0,
            _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();
        ;

    ) {
        var _ref;

        if (_isArray) {
            if (_i >= _iterator.length) break;
            _ref = _iterator[_i++];
        } else {
            _i = _iterator.next();
            if (_i.done) break;
            _ref = _i.value;
        }

        var character = _ref;
        result += parsePhoneNumberCharacter(character, result) || "";
    }

    return result;
}
/**
 * Parses next character while parsing phone number digits (including a `+`)
 * from text: discards everything except `+` and digits, and `+` is only allowed
 * at the start of a phone number.
 * For example, is used in `react-phone-number-input` where it uses
 * [`input-format`](https://gitlab.com/catamphetamine/input-format).
 * @param  {string} character - Yet another character from raw input string.
 * @param  {string?} prevParsedCharacters - Previous parsed characters.
 * @param  {object} meta - Optional custom use-case-specific metadata.
 * @return {string?} The parsed character.
 */

function parsePhoneNumberCharacter(character, prevParsedCharacters) {
    // Only allow a leading `+`.
    if (character === "+") {
        // If this `+` is not the first parsed character
        // then discard it.
        if (prevParsedCharacters) {
            return;
        }

        return "+";
    } // Allow digits.

    return parseDigit(character);
}

/**
 * Merges two arrays.
 * @param  {*} a
 * @param  {*} b
 * @return {*}
 */
function mergeArrays(a, b) {
    var merged = a.slice();

    for (
        var _iterator = b,
            _isArray = Array.isArray(_iterator),
            _i = 0,
            _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();
        ;

    ) {
        var _ref;

        if (_isArray) {
            if (_i >= _iterator.length) break;
            _ref = _iterator[_i++];
        } else {
            _i = _iterator.next();
            if (_i.done) break;
            _ref = _i.value;
        }

        var element = _ref;

        if (a.indexOf(element) < 0) {
            merged.push(element);
        }
    }

    return merged.sort(function (a, b) {
        return a - b;
    }); // ES6 version, requires Set polyfill.
    // let merged = new Set(a)
    // for (const element of b) {
    // 	merged.add(i)
    // }
    // return Array.from(merged).sort((a, b) => a - b)
}

function checkNumberLength(nationalNumber, metadata) {
    return checkNumberLengthForType(nationalNumber, undefined, metadata);
} // Checks whether a number is possible for the country based on its length.
// Should only be called for the "new" metadata which has "possible lengths".

function checkNumberLengthForType(nationalNumber, type, metadata) {
    var type_info = metadata.type(type); // There should always be "<possiblePengths/>" set for every type element.
    // This is declared in the XML schema.
    // For size efficiency, where a sub-description (e.g. fixed-line)
    // has the same "<possiblePengths/>" as the "general description", this is missing,
    // so we fall back to the "general description". Where no numbers of the type
    // exist at all, there is one possible length (-1) which is guaranteed
    // not to match the length of any real phone number.

    var possible_lengths = (type_info && type_info.possibleLengths()) || metadata.possibleLengths(); // let local_lengths    = type_info && type.possibleLengthsLocal() || metadata.possibleLengthsLocal()
    // Metadata before version `1.0.18` didn't contain `possible_lengths`.

    if (!possible_lengths) {
        return "IS_POSSIBLE";
    }

    if (type === "FIXED_LINE_OR_MOBILE") {
        // No such country in metadata.

        /* istanbul ignore next */
        if (!metadata.type("FIXED_LINE")) {
            // The rare case has been encountered where no fixedLine data is available
            // (true for some non-geographic entities), so we just check mobile.
            return checkNumberLengthForType(nationalNumber, "MOBILE", metadata);
        }

        var mobile_type = metadata.type("MOBILE");

        if (mobile_type) {
            // Merge the mobile data in if there was any. "Concat" creates a new
            // array, it doesn't edit possible_lengths in place, so we don't need a copy.
            // Note that when adding the possible lengths from mobile, we have
            // to again check they aren't empty since if they are this indicates
            // they are the same as the general desc and should be obtained from there.
            possible_lengths = mergeArrays(possible_lengths, mobile_type.possibleLengths()); // The current list is sorted; we need to merge in the new list and
            // re-sort (duplicates are okay). Sorting isn't so expensive because
            // the lists are very small.
            // if (local_lengths) {
            // 	local_lengths = mergeArrays(local_lengths, mobile_type.possibleLengthsLocal())
            // } else {
            // 	local_lengths = mobile_type.possibleLengthsLocal()
            // }
        }
    } // If the type doesn't exist then return 'INVALID_LENGTH'.
    else if (type && !type_info) {
        return "INVALID_LENGTH";
    }

    var actual_length = nationalNumber.length; // In `libphonenumber-js` all "local-only" formats are dropped for simplicity.
    // // This is safe because there is never an overlap beween the possible lengths
    // // and the local-only lengths; this is checked at build time.
    // if (local_lengths && local_lengths.indexOf(nationalNumber.length) >= 0)
    // {
    // 	return 'IS_POSSIBLE_LOCAL_ONLY'
    // }

    var minimum_length = possible_lengths[0];

    if (minimum_length === actual_length) {
        return "IS_POSSIBLE";
    }

    if (minimum_length > actual_length) {
        return "TOO_SHORT";
    }

    if (possible_lengths[possible_lengths.length - 1] < actual_length) {
        return "TOO_LONG";
    } // We skip the first element since we've already checked it.

    return possible_lengths.indexOf(actual_length, 1) >= 0 ? "IS_POSSIBLE" : "INVALID_LENGTH";
}

function isPossiblePhoneNumber(input, options, metadata) {
    /* istanbul ignore if */
    if (options === undefined) {
        options = {};
    }

    metadata = new Metadata(metadata);

    if (options.v2) {
        if (!input.countryCallingCode) {
            throw new Error("Invalid phone number object passed");
        }

        metadata.selectNumberingPlan(input.countryCallingCode);
    } else {
        if (!input.phone) {
            return false;
        }

        if (input.country) {
            if (!metadata.hasCountry(input.country)) {
                throw new Error("Unknown country: ".concat(input.country));
            }

            metadata.country(input.country);
        } else {
            if (!input.countryCallingCode) {
                throw new Error("Invalid phone number object passed");
            }

            metadata.selectNumberingPlan(input.countryCallingCode);
        }
    }

    if (metadata.possibleLengths()) {
        return isPossibleNumber(input.phone || input.nationalNumber, metadata);
    } else {
        // There was a bug between `1.7.35` and `1.7.37` where "possible_lengths"
        // were missing for "non-geographical" numbering plans.
        // Just assume the number is possible in such cases:
        // it's unlikely that anyone generated their custom metadata
        // in that short period of time (one day).
        // This code can be removed in some future major version update.
        if (input.countryCallingCode && metadata.isNonGeographicCallingCode(input.countryCallingCode)) {
            // "Non-geographic entities" did't have `possibleLengths`
            // due to a bug in metadata generation process.
            return true;
        } else {
            throw new Error(
                'Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.'
            );
        }
    }
}
function isPossibleNumber(nationalNumber, metadata) {
    //, isInternational) {
    switch (checkNumberLength(nationalNumber, metadata)) {
        case "IS_POSSIBLE":
            return true;
        // This library ignores "local-only" phone numbers (for simplicity).
        // See the readme for more info on what are "local-only" phone numbers.
        // case 'IS_POSSIBLE_LOCAL_ONLY':
        // 	return !isInternational

        default:
            return false;
    }
}

function _slicedToArray$4(arr, i) {
    return _arrayWithHoles$4(arr) || _iterableToArrayLimit$4(arr, i) || _nonIterableRest$4();
}

function _nonIterableRest$4() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance");
}

function _iterableToArrayLimit$4(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;
    try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
            _arr.push(_s.value);
            if (i && _arr.length === i) break;
        }
    } catch (err) {
        _d = true;
        _e = err;
    } finally {
        try {
            if (!_n && _i["return"] != null) _i["return"]();
        } finally {
            if (_d) throw _e;
        }
    }
    return _arr;
}

function _arrayWithHoles$4(arr) {
    if (Array.isArray(arr)) return arr;
}

/**
 * @param  {string} text - Phone URI (RFC 3966).
 * @return {object} `{ ?number, ?ext }`.
 */

function parseRFC3966(text) {
    var number;
    var ext; // Replace "tel:" with "tel=" for parsing convenience.

    text = text.replace(/^tel:/, "tel=");

    for (
        var _iterator = text.split(";"),
            _isArray = Array.isArray(_iterator),
            _i = 0,
            _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();
        ;

    ) {
        var _ref;

        if (_isArray) {
            if (_i >= _iterator.length) break;
            _ref = _iterator[_i++];
        } else {
            _i = _iterator.next();
            if (_i.done) break;
            _ref = _i.value;
        }

        var part = _ref;

        var _part$split = part.split("="),
            _part$split2 = _slicedToArray$4(_part$split, 2),
            name = _part$split2[0],
            value = _part$split2[1];

        switch (name) {
            case "tel":
                number = value;
                break;

            case "ext":
                ext = value;
                break;

            case "phone-context":
                // Only "country contexts" are supported.
                // "Domain contexts" are ignored.
                if (value[0] === "+") {
                    number = value + number;
                }

                break;
        }
    } // If the phone number is not viable, then abort.

    if (!isViablePhoneNumber(number)) {
        return {};
    }

    var result = {
        number: number,
    };

    if (ext) {
        result.ext = ext;
    }

    return result;
}
/**
 * @param  {object} - `{ ?number, ?extension }`.
 * @return {string} Phone URI (RFC 3966).
 */

function formatRFC3966(_ref2) {
    var number = _ref2.number,
        ext = _ref2.ext;

    if (!number) {
        return "";
    }

    if (number[0] !== "+") {
        throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');
    }

    return "tel:".concat(number).concat(ext ? ";ext=" + ext : "");
}

/**
 * Checks whether the entire input sequence can be matched
 * against the regular expression.
 * @return {boolean}
 */
function matchesEntirely(text, regular_expression) {
    // If assigning the `''` default value is moved to the arguments above,
    // code coverage would decrease for some weird reason.
    text = text || "";
    return new RegExp("^(?:" + regular_expression + ")$").test(text);
}

var NON_FIXED_LINE_PHONE_TYPES = [
    "MOBILE",
    "PREMIUM_RATE",
    "TOLL_FREE",
    "SHARED_COST",
    "VOIP",
    "PERSONAL_NUMBER",
    "PAGER",
    "UAN",
    "VOICEMAIL",
]; // Finds out national phone number type (fixed line, mobile, etc)

function getNumberType(input, options, metadata) {
    // If assigning the `{}` default value is moved to the arguments above,
    // code coverage would decrease for some weird reason.
    options = options || {}; // When `parse()` returned `{}`
    // meaning that the phone number is not a valid one.

    if (!input.country) {
        return;
    }

    metadata = new Metadata(metadata);
    metadata.selectNumberingPlan(input.country, input.countryCallingCode);
    var nationalNumber = options.v2 ? input.nationalNumber : input.phone; // The following is copy-pasted from the original function:
    // https://github.com/googlei18n/libphonenumber/blob/3ea547d4fbaa2d0b67588904dfa5d3f2557c27ff/javascript/i18n/phonenumbers/phonenumberutil.js#L2835
    // Is this national number even valid for this country

    if (!matchesEntirely(nationalNumber, metadata.nationalNumberPattern())) {
        return;
    } // Is it fixed line number

    if (isNumberTypeEqualTo(nationalNumber, "FIXED_LINE", metadata)) {
        // Because duplicate regular expressions are removed
        // to reduce metadata size, if "mobile" pattern is ""
        // then it means it was removed due to being a duplicate of the fixed-line pattern.
        //
        if (metadata.type("MOBILE") && metadata.type("MOBILE").pattern() === "") {
            return "FIXED_LINE_OR_MOBILE";
        } // v1 metadata.
        // Legacy.
        // Deprecated.

        if (!metadata.type("MOBILE")) {
            return "FIXED_LINE_OR_MOBILE";
        } // Check if the number happens to qualify as both fixed line and mobile.
        // (no such country in the minimal metadata set)

        /* istanbul ignore if */

        if (isNumberTypeEqualTo(nationalNumber, "MOBILE", metadata)) {
            return "FIXED_LINE_OR_MOBILE";
        }

        return "FIXED_LINE";
    }

    for (var _i = 0, _NON_FIXED_LINE_PHONE = NON_FIXED_LINE_PHONE_TYPES; _i < _NON_FIXED_LINE_PHONE.length; _i++) {
        var type = _NON_FIXED_LINE_PHONE[_i];

        if (isNumberTypeEqualTo(nationalNumber, type, metadata)) {
            return type;
        }
    }
}
function isNumberTypeEqualTo(nationalNumber, type, metadata) {
    type = metadata.type(type);

    if (!type || !type.pattern()) {
        return false;
    } // Check if any possible number lengths are present;
    // if so, we use them to avoid checking
    // the validation pattern if they don't match.
    // If they are absent, this means they match
    // the general description, which we have
    // already checked before a specific number type.

    if (type.possibleLengths() && type.possibleLengths().indexOf(nationalNumber.length) < 0) {
        return false;
    }

    return matchesEntirely(nationalNumber, type.pattern());
}

/**
 * Checks if a given phone number is valid.
 *
 * If the `number` is a string, it will be parsed to an object,
 * but only if it contains only valid phone number characters (including punctuation).
 * If the `number` is an object, it is used as is.
 *
 * The optional `defaultCountry` argument is the default country.
 * I.e. it does not restrict to just that country,
 * e.g. in those cases where several countries share
 * the same phone numbering rules (NANPA, Britain, etc).
 * For example, even though the number `07624 369230`
 * belongs to the Isle of Man ("IM" country code)
 * calling `isValidNumber('07624369230', 'GB', metadata)`
 * still returns `true` because the country is not restricted to `GB`,
 * it's just that `GB` is the default one for the phone numbering rules.
 * For restricting the country see `isValidNumberForRegion()`
 * though restricting a country might not be a good idea.
 * https://github.com/googlei18n/libphonenumber/blob/master/FAQ.md#when-should-i-use-isvalidnumberforregion
 *
 * Examples:
 *
 * ```js
 * isValidNumber('+78005553535', metadata)
 * isValidNumber('8005553535', 'RU', metadata)
 * isValidNumber('88005553535', 'RU', metadata)
 * isValidNumber({ phone: '8005553535', country: 'RU' }, metadata)
 * ```
 */

function isValidNumber(input, options, metadata) {
    // If assigning the `{}` default value is moved to the arguments above,
    // code coverage would decrease for some weird reason.
    options = options || {};
    metadata = new Metadata(metadata); // This is just to support `isValidNumber({})`
    // for cases when `parseNumber()` returns `{}`.

    if (!input.country) {
        return false;
    }

    metadata.selectNumberingPlan(input.country, input.countryCallingCode); // By default, countries only have type regexps when it's required for
    // distinguishing different countries having the same `countryCallingCode`.

    if (metadata.hasTypes()) {
        return getNumberType(input, options, metadata.metadata) !== undefined;
    } // If there are no type regexps for this country in metadata then use
    // `nationalNumberPattern` as a "better than nothing" replacement.

    var national_number = options.v2 ? input.nationalNumber : input.phone;
    return matchesEntirely(national_number, metadata.nationalNumberPattern());
}

//
// E.g. "(999) 111-22-33" -> "999 111 22 33"
//
// For some reason Google's metadata contains `<intlFormat/>`s with brackets and dashes.
// Meanwhile, there's no single opinion about using punctuation in international phone numbers.
//
// For example, Google's `<intlFormat/>` for USA is `+1 213-373-4253`.
// And here's a quote from WikiPedia's "North American Numbering Plan" page:
// https://en.wikipedia.org/wiki/North_American_Numbering_Plan
//
// "The country calling code for all countries participating in the NANP is 1.
// In international format, an NANP number should be listed as +1 301 555 01 00,
// where 301 is an area code (Maryland)."
//
// I personally prefer the international format without any punctuation.
// For example, brackets are remnants of the old age, meaning that the
// phone number part in brackets (so called "area code") can be omitted
// if dialing within the same "area".
// And hyphens were clearly introduced for splitting local numbers into memorizable groups.
// For example, remembering "5553535" is difficult but "555-35-35" is much simpler.
// Imagine a man taking a bus from home to work and seeing an ad with a phone number.
// He has a couple of seconds to memorize that number until it passes by.
// If it were spaces instead of hyphens the man wouldn't necessarily get it,
// but with hyphens instead of spaces the grouping is more explicit.
// I personally think that hyphens introduce visual clutter,
// so I prefer replacing them with spaces in international numbers.
// In the modern age all output is done on displays where spaces are clearly distinguishable
// so hyphens can be safely replaced with spaces without losing any legibility.
//

function applyInternationalSeparatorStyle(formattedNumber) {
    return formattedNumber.replace(new RegExp("[".concat(VALID_PUNCTUATION, "]+"), "g"), " ").trim();
}

// first group is not used in the national pattern (e.g. Argentina) so the $1
// group does not match correctly. Therefore, we use `\d`, so that the first
// group actually used in the pattern will be matched.

var FIRST_GROUP_PATTERN = /(\$\d)/;
function formatNationalNumberUsingFormat(number, format, _ref) {
    var useInternationalFormat = _ref.useInternationalFormat,
        withNationalPrefix = _ref.withNationalPrefix;
    _ref.carrierCode;
    _ref.metadata;
    var formattedNumber = number.replace(
        new RegExp(format.pattern()),
        useInternationalFormat
            ? format.internationalFormat() // This library doesn't use `domestic_carrier_code_formatting_rule`,
            : // because that one is only used when formatting phone numbers
            // for dialing from a mobile phone, and this is not a dialing library.
            // carrierCode && format.domesticCarrierCodeFormattingRule()
            // 	// First, replace the $CC in the formatting rule with the desired carrier code.
            // 	// Then, replace the $FG in the formatting rule with the first group
            // 	// and the carrier code combined in the appropriate way.
            // 	? format.format().replace(FIRST_GROUP_PATTERN, format.domesticCarrierCodeFormattingRule().replace('$CC', carrierCode))
            // 	: (
            // 		withNationalPrefix && format.nationalPrefixFormattingRule()
            // 			? format.format().replace(FIRST_GROUP_PATTERN, format.nationalPrefixFormattingRule())
            // 			: format.format()
            // 	)
            withNationalPrefix && format.nationalPrefixFormattingRule()
            ? format.format().replace(FIRST_GROUP_PATTERN, format.nationalPrefixFormattingRule())
            : format.format()
    );

    if (useInternationalFormat) {
        return applyInternationalSeparatorStyle(formattedNumber);
    }

    return formattedNumber;
}

/**
 * Pattern that makes it easy to distinguish whether a region has a single
 * international dialing prefix or not. If a region has a single international
 * prefix (e.g. 011 in USA), it will be represented as a string that contains
 * a sequence of ASCII digits, and possibly a tilde, which signals waiting for
 * the tone. If there are multiple available international prefixes in a
 * region, they will be represented as a regex string that always contains one
 * or more characters that are not ASCII digits or a tilde.
 */

var SINGLE_IDD_PREFIX_REG_EXP = /^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/; // For regions that have multiple IDD prefixes
// a preferred IDD prefix is returned.

function getIddPrefix(country, callingCode, metadata) {
    var countryMetadata = new Metadata(metadata);
    countryMetadata.selectNumberingPlan(country, callingCode);

    if (countryMetadata.defaultIDDPrefix()) {
        return countryMetadata.defaultIDDPrefix();
    }

    if (SINGLE_IDD_PREFIX_REG_EXP.test(countryMetadata.IDDPrefix())) {
        return countryMetadata.IDDPrefix();
    }
}

function _objectSpread$7(target) {
    for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(
                Object.getOwnPropertySymbols(source).filter(function (sym) {
                    return Object.getOwnPropertyDescriptor(source, sym).enumerable;
                })
            );
        }
        ownKeys.forEach(function (key) {
            _defineProperty$b(target, key, source[key]);
        });
    }
    return target;
}

function _defineProperty$b(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
    } else {
        obj[key] = value;
    }
    return obj;
}
var DEFAULT_OPTIONS = {
    formatExtension: function formatExtension(formattedNumber, extension, metadata) {
        return "".concat(formattedNumber).concat(metadata.ext()).concat(extension);
    }, // Formats a phone number
    //
    // Example use cases:
    //
    // ```js
    // formatNumber('8005553535', 'RU', 'INTERNATIONAL')
    // formatNumber('8005553535', 'RU', 'INTERNATIONAL', metadata)
    // formatNumber({ phone: '8005553535', country: 'RU' }, 'INTERNATIONAL')
    // formatNumber({ phone: '8005553535', country: 'RU' }, 'INTERNATIONAL', metadata)
    // formatNumber('+78005553535', 'NATIONAL')
    // formatNumber('+78005553535', 'NATIONAL', metadata)
    // ```
    //
};
function formatNumber(input, format, options, metadata) {
    // Apply default options.
    if (options) {
        options = _objectSpread$7({}, DEFAULT_OPTIONS, options);
    } else {
        options = DEFAULT_OPTIONS;
    }

    metadata = new Metadata(metadata);

    if (input.country && input.country !== "001") {
        // Validate `input.country`.
        if (!metadata.hasCountry(input.country)) {
            throw new Error("Unknown country: ".concat(input.country));
        }

        metadata.country(input.country);
    } else if (input.countryCallingCode) {
        metadata.selectNumberingPlan(input.countryCallingCode);
    } else return input.phone || "";

    var countryCallingCode = metadata.countryCallingCode();
    var nationalNumber = options.v2 ? input.nationalNumber : input.phone; // This variable should have been declared inside `case`s
    // but Babel has a bug and it says "duplicate variable declaration".

    var number;

    switch (format) {
        case "NATIONAL":
            // Legacy argument support.
            // (`{ country: ..., phone: '' }`)
            if (!nationalNumber) {
                return "";
            }

            number = formatNationalNumber$1(nationalNumber, input.carrierCode, "NATIONAL", metadata, options);
            return addExtension(number, input.ext, metadata, options.formatExtension);

        case "INTERNATIONAL":
            // Legacy argument support.
            // (`{ country: ..., phone: '' }`)
            if (!nationalNumber) {
                return "+".concat(countryCallingCode);
            }

            number = formatNationalNumber$1(nationalNumber, null, "INTERNATIONAL", metadata, options);
            number = "+".concat(countryCallingCode, " ").concat(number);
            return addExtension(number, input.ext, metadata, options.formatExtension);

        case "E.164":
            // `E.164` doesn't define "phone number extensions".
            return "+".concat(countryCallingCode).concat(nationalNumber);

        case "RFC3966":
            return formatRFC3966({
                number: "+".concat(countryCallingCode).concat(nationalNumber),
                ext: input.ext,
            });
        // For reference, here's Google's IDD formatter:
        // https://github.com/google/libphonenumber/blob/32719cf74e68796788d1ca45abc85dcdc63ba5b9/java/libphonenumber/src/com/google/i18n/phonenumbers/PhoneNumberUtil.java#L1546
        // Not saying that this IDD formatter replicates it 1:1, but it seems to work.
        // Who would even need to format phone numbers in IDD format anyway?

        case "IDD":
            if (!options.fromCountry) {
                return; // throw new Error('`fromCountry` option not passed for IDD-prefixed formatting.')
            }

            var formattedNumber = formatIDD(
                nationalNumber,
                input.carrierCode,
                countryCallingCode,
                options.fromCountry,
                metadata
            );
            return addExtension(formattedNumber, input.ext, metadata, options.formatExtension);

        default:
            throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(format, '"'));
    }
}

function formatNationalNumber$1(number, carrierCode, formatAs, metadata, options) {
    var format = chooseFormatForNumber(metadata.formats(), number);

    if (!format) {
        return number;
    }

    return formatNationalNumberUsingFormat(number, format, {
        useInternationalFormat: formatAs === "INTERNATIONAL",
        withNationalPrefix:
            format.nationalPrefixIsOptionalWhenFormattingInNationalFormat() &&
            options &&
            options.nationalPrefix === false
                ? false
                : true,
        carrierCode: carrierCode,
        metadata: metadata,
    });
}

function chooseFormatForNumber(availableFormats, nationalNnumber) {
    for (
        var _iterator = availableFormats,
            _isArray = Array.isArray(_iterator),
            _i = 0,
            _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();
        ;

    ) {
        var _ref;

        if (_isArray) {
            if (_i >= _iterator.length) break;
            _ref = _iterator[_i++];
        } else {
            _i = _iterator.next();
            if (_i.done) break;
            _ref = _i.value;
        }

        var format = _ref;

        // Validate leading digits
        if (format.leadingDigitsPatterns().length > 0) {
            // The last leading_digits_pattern is used here, as it is the most detailed
            var lastLeadingDigitsPattern = format.leadingDigitsPatterns()[format.leadingDigitsPatterns().length - 1]; // If leading digits don't match then move on to the next phone number format

            if (nationalNnumber.search(lastLeadingDigitsPattern) !== 0) {
                continue;
            }
        } // Check that the national number matches the phone number format regular expression

        if (matchesEntirely(nationalNnumber, format.pattern())) {
            return format;
        }
    }
}

function addExtension(formattedNumber, ext, metadata, formatExtension) {
    return ext ? formatExtension(formattedNumber, ext, metadata) : formattedNumber;
}

function formatIDD(nationalNumber, carrierCode, countryCallingCode, fromCountry, metadata) {
    var fromCountryCallingCode = getCountryCallingCode$1(fromCountry, metadata.metadata); // When calling within the same country calling code.

    if (fromCountryCallingCode === countryCallingCode) {
        var formattedNumber = formatNationalNumber$1(nationalNumber, carrierCode, "NATIONAL", metadata); // For NANPA regions, return the national format for these regions
        // but prefix it with the country calling code.

        if (countryCallingCode === "1") {
            return countryCallingCode + " " + formattedNumber;
        } // If regions share a country calling code, the country calling code need
        // not be dialled. This also applies when dialling within a region, so this
        // if clause covers both these cases. Technically this is the case for
        // dialling from La Reunion to other overseas departments of France (French
        // Guiana, Martinique, Guadeloupe), but not vice versa - so we don't cover
        // this edge case for now and for those cases return the version including
        // country calling code. Details here:
        // http://www.petitfute.com/voyage/225-info-pratiques-reunion
        //

        return formattedNumber;
    }

    var iddPrefix = getIddPrefix(fromCountry, undefined, metadata.metadata);

    if (iddPrefix) {
        return ""
            .concat(iddPrefix, " ")
            .concat(countryCallingCode, " ")
            .concat(formatNationalNumber$1(nationalNumber, null, "INTERNATIONAL", metadata));
    }
}

function _objectSpread$6(target) {
    for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(
                Object.getOwnPropertySymbols(source).filter(function (sym) {
                    return Object.getOwnPropertyDescriptor(source, sym).enumerable;
                })
            );
        }
        ownKeys.forEach(function (key) {
            _defineProperty$a(target, key, source[key]);
        });
    }
    return target;
}

function _defineProperty$a(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
    } else {
        obj[key] = value;
    }
    return obj;
}

function _classCallCheck$7(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _defineProperties$7(target, props) {
    for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
    }
}

function _createClass$7(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties$7(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties$7(Constructor, staticProps);
    return Constructor;
}

var PhoneNumber =
    /*#__PURE__*/
    (function () {
        function PhoneNumber(countryCallingCode, nationalNumber, metadata) {
            _classCallCheck$7(this, PhoneNumber);

            if (!countryCallingCode) {
                throw new TypeError("`country` or `countryCallingCode` not passed");
            }

            if (!nationalNumber) {
                throw new TypeError("`nationalNumber` not passed");
            }

            if (!metadata) {
                throw new TypeError("`metadata` not passed");
            }

            var _metadata = new Metadata(metadata); // If country code is passed then derive `countryCallingCode` from it.
            // Also store the country code as `.country`.

            if (isCountryCode(countryCallingCode)) {
                this.country = countryCallingCode;

                _metadata.country(countryCallingCode);

                countryCallingCode = _metadata.countryCallingCode();
            }

            this.countryCallingCode = countryCallingCode;
            this.nationalNumber = nationalNumber;
            this.number = "+" + this.countryCallingCode + this.nationalNumber;
            this.metadata = metadata;
        }

        _createClass$7(PhoneNumber, [
            {
                key: "setExt",
                value: function setExt(ext) {
                    this.ext = ext;
                },
            },
            {
                key: "isPossible",
                value: function isPossible() {
                    return isPossiblePhoneNumber(
                        this,
                        {
                            v2: true,
                        },
                        this.metadata
                    );
                },
            },
            {
                key: "isValid",
                value: function isValid() {
                    return isValidNumber(
                        this,
                        {
                            v2: true,
                        },
                        this.metadata
                    );
                },
            },
            {
                key: "isNonGeographic",
                value: function isNonGeographic() {
                    var metadata = new Metadata(this.metadata);
                    return metadata.isNonGeographicCallingCode(this.countryCallingCode);
                },
            },
            {
                key: "isEqual",
                value: function isEqual(phoneNumber) {
                    return this.number === phoneNumber.number && this.ext === phoneNumber.ext;
                }, // // Is just an alias for `this.isValid() && this.country === country`.
                // // https://github.com/googlei18n/libphonenumber/blob/master/FAQ.md#when-should-i-use-isvalidnumberforregion
                // isValidForRegion(country) {
                // 	return isValidNumberForRegion(this, country, { v2: true }, this.metadata)
                // }
            },
            {
                key: "getType",
                value: function getType() {
                    return getNumberType(
                        this,
                        {
                            v2: true,
                        },
                        this.metadata
                    );
                },
            },
            {
                key: "format",
                value: function format(_format, options) {
                    return formatNumber(
                        this,
                        _format,
                        options
                            ? _objectSpread$6({}, options, {
                                  v2: true,
                              })
                            : {
                                  v2: true,
                              },
                        this.metadata
                    );
                },
            },
            {
                key: "formatNational",
                value: function formatNational(options) {
                    return this.format("NATIONAL", options);
                },
            },
            {
                key: "formatInternational",
                value: function formatInternational(options) {
                    return this.format("INTERNATIONAL", options);
                },
            },
            {
                key: "getURI",
                value: function getURI(options) {
                    return this.format("RFC3966", options);
                },
            },
        ]);

        return PhoneNumber;
    })();

var isCountryCode = function isCountryCode(value) {
    return /^[A-Z]{2}$/.test(value);
};

var CAPTURING_DIGIT_PATTERN = new RegExp("([" + VALID_DIGITS + "])");
function stripIddPrefix(number, country, callingCode, metadata) {
    if (!country) {
        return;
    } // Check if the number is IDD-prefixed.

    var countryMetadata = new Metadata(metadata);
    countryMetadata.selectNumberingPlan(country, callingCode);
    var IDDPrefixPattern = new RegExp(countryMetadata.IDDPrefix());

    if (number.search(IDDPrefixPattern) !== 0) {
        return;
    } // Strip IDD prefix.

    number = number.slice(number.match(IDDPrefixPattern)[0].length); // If there're any digits after an IDD prefix,
    // then those digits are a country calling code.
    // Since no country code starts with a `0`,
    // the code below validates that the next digit (if present) is not `0`.

    var matchedGroups = number.match(CAPTURING_DIGIT_PATTERN);

    if (matchedGroups && matchedGroups[1] != null && matchedGroups[1].length > 0) {
        if (matchedGroups[1] === "0") {
            return;
        }
    }

    return number;
}

/**
 * Strips any national prefix (such as 0, 1) present in a
 * (possibly incomplete) number provided.
 * "Carrier codes" are only used  in Colombia and Brazil,
 * and only when dialing within those countries from a mobile phone to a fixed line number.
 * Sometimes it won't actually strip national prefix
 * and will instead prepend some digits to the `number`:
 * for example, when number `2345678` is passed with `VI` country selected,
 * it will return `{ number: "3402345678" }`, because `340` area code is prepended.
 * @param {string} number  National number digits.
 * @param {object} metadata  Metadata with country selected.
 * @return {object} `{ nationalNumber: string, nationalPrefix: string? carrierCode: string? }`.
 */
function extractNationalNumberFromPossiblyIncompleteNumber(number, metadata) {
    if (number && metadata.numberingPlan.nationalPrefixForParsing()) {
        // See METADATA.md for the description of
        // `national_prefix_for_parsing` and `national_prefix_transform_rule`.
        // Attempt to parse the first digits as a national prefix.
        var prefixPattern = new RegExp("^(?:" + metadata.numberingPlan.nationalPrefixForParsing() + ")");
        var prefixMatch = prefixPattern.exec(number);

        if (prefixMatch) {
            var nationalNumber;
            var carrierCode; // https://gitlab.com/catamphetamine/libphonenumber-js/-/blob/master/METADATA.md#national_prefix_for_parsing--national_prefix_transform_rule
            // If a `national_prefix_for_parsing` has any "capturing groups"
            // then it means that the national (significant) number is equal to
            // those "capturing groups" transformed via `national_prefix_transform_rule`,
            // and nothing could be said about the actual national prefix:
            // what is it and was it even there.
            // If a `national_prefix_for_parsing` doesn't have any "capturing groups",
            // then everything it matches is a national prefix.
            // To determine whether `national_prefix_for_parsing` matched any
            // "capturing groups", the value of the result of calling `.exec()`
            // is looked at, and if it has non-undefined values where there're
            // "capturing groups" in the regular expression, then it means
            // that "capturing groups" have been matched.
            // It's not possible to tell whether there'll be any "capturing gropus"
            // before the matching process, because a `national_prefix_for_parsing`
            // could exhibit both behaviors.

            var capturedGroupsCount = prefixMatch.length - 1;
            var hasCapturedGroups = capturedGroupsCount > 0 && prefixMatch[capturedGroupsCount];

            if (metadata.nationalPrefixTransformRule() && hasCapturedGroups) {
                nationalNumber = number.replace(prefixPattern, metadata.nationalPrefixTransformRule()); // If there's more than one captured group,
                // then carrier code is the second one.

                if (capturedGroupsCount > 1) {
                    carrierCode = prefixMatch[1];
                }
            } // If there're no "capturing groups",
            // or if there're "capturing groups" but no
            // `national_prefix_transform_rule`,
            // then just strip the national prefix from the number,
            // and possibly a carrier code.
            // Seems like there could be more.
            else {
                // `prefixBeforeNationalNumber` is the whole substring matched by
                // the `national_prefix_for_parsing` regular expression.
                // There seem to be no guarantees that it's just a national prefix.
                // For example, if there's a carrier code, it's gonna be a
                // part of `prefixBeforeNationalNumber` too.
                var prefixBeforeNationalNumber = prefixMatch[0];
                nationalNumber = number.slice(prefixBeforeNationalNumber.length); // If there's at least one captured group,
                // then carrier code is the first one.

                if (hasCapturedGroups) {
                    carrierCode = prefixMatch[1];
                }
            } // Tries to guess whether a national prefix was present in the input.
            // This is not something copy-pasted from Google's library:
            // they don't seem to have an equivalent for that.
            // So this isn't an "officially approved" way of doing something like that.
            // But since there seems no other existing method, this library uses it.

            var nationalPrefix;

            if (hasCapturedGroups) {
                var possiblePositionOfTheFirstCapturedGroup = number.indexOf(prefixMatch[1]);
                var possibleNationalPrefix = number.slice(0, possiblePositionOfTheFirstCapturedGroup); // Example: an Argentinian (AR) phone number `0111523456789`.
                // `prefixMatch[0]` is `01115`, and `$1` is `11`,
                // and the rest of the phone number is `23456789`.
                // The national number is transformed via `9$1` to `91123456789`.
                // National prefix `0` is detected being present at the start.
                // if (possibleNationalPrefix.indexOf(metadata.numberingPlan.nationalPrefix()) === 0) {

                if (possibleNationalPrefix === metadata.numberingPlan.nationalPrefix()) {
                    nationalPrefix = metadata.numberingPlan.nationalPrefix();
                }
            } else {
                nationalPrefix = prefixMatch[0];
            }

            return {
                nationalNumber: nationalNumber,
                nationalPrefix: nationalPrefix,
                carrierCode: carrierCode,
            };
        }
    }

    return {
        nationalNumber: number,
    };
}

/**
 * Strips national prefix and carrier code from a complete phone number.
 * The difference from the non-"FromCompleteNumber" function is that
 * it won't extract national prefix if the resultant number is too short
 * to be a complete number for the selected phone numbering plan.
 * @param  {string} number  Complete phone number digits.
 * @param  {Metadata} metadata  Metadata with a phone numbering plan selected.
 * @return {object} `{ nationalNumber: string, carrierCode: string? }`.
 */

function extractNationalNumber(number, metadata) {
    // Parsing national prefixes and carrier codes
    // is only required for local phone numbers
    // but some people don't understand that
    // and sometimes write international phone numbers
    // with national prefixes (or maybe even carrier codes).
    // http://ucken.blogspot.ru/2016/03/trunk-prefixes-in-skype4b.html
    // Google's original library forgives such mistakes
    // and so does this library, because it has been requested:
    // https://github.com/catamphetamine/libphonenumber-js/issues/127
    var _extractNationalNumbe = extractNationalNumberFromPossiblyIncompleteNumber(number, metadata),
        nationalNumber = _extractNationalNumbe.nationalNumber,
        carrierCode = _extractNationalNumbe.carrierCode;

    if (!shouldExtractNationalPrefix(number, nationalNumber, metadata)) {
        // Don't strip the national prefix.
        return {
            nationalNumber: number,
        };
    } // If a national prefix has been extracted, check to see
    // if the resultant number isn't too short.
    // Same code in Google's `libphonenumber`:
    // https://github.com/google/libphonenumber/blob/e326fa1fc4283bb05eb35cb3c15c18f98a31af33/java/libphonenumber/src/com/google/i18n/phonenumbers/PhoneNumberUtil.java#L3291-L3302
    // For some reason, they do this check right after the `national_number_pattern` check
    // this library does in `shouldExtractNationalPrefix()` function.
    // Why is there a second "resultant" number validity check?
    // They don't provide an explanation.
    // This library just copies the behavior.

    if (number.length !== nationalNumber.length + (carrierCode ? carrierCode.length : 0)) {
        // If not using legacy generated metadata (before version `1.0.18`)
        // then it has "possible lengths", so use those to validate the number length.
        if (metadata.possibleLengths()) {
            // "We require that the NSN remaining after stripping the national prefix and
            // carrier code be long enough to be a possible length for the region.
            // Otherwise, we don't do the stripping, since the original number could be
            // a valid short number."
            // https://github.com/google/libphonenumber/blob/876268eb1ad6cdc1b7b5bef17fc5e43052702d57/java/libphonenumber/src/com/google/i18n/phonenumbers/PhoneNumberUtil.java#L3236-L3250
            switch (checkNumberLength(nationalNumber, metadata)) {
                case "TOO_SHORT":
                case "INVALID_LENGTH":
                    // case 'IS_POSSIBLE_LOCAL_ONLY':
                    // Don't strip the national prefix.
                    return {
                        nationalNumber: number,
                    };
            }
        }
    }

    return {
        nationalNumber: nationalNumber,
        carrierCode: carrierCode,
    };
} // In some countries, the same digit could be a national prefix
// or a leading digit of a valid phone number.
// For example, in Russia, national prefix is `8`,
// and also `800 555 35 35` is a valid number
// in which `8` is not a national prefix, but the first digit
// of a national (significant) number.
// Same's with Belarus:
// `82004910060` is a valid national (significant) number,
// but `2004910060` is not.
// To support such cases (to prevent the code from always stripping
// national prefix), a condition is imposed: a national prefix
// is not extracted when the original number is "viable" and the
// resultant number is not, a "viable" national number being the one
// that matches `national_number_pattern`.

function shouldExtractNationalPrefix(number, nationalSignificantNumber, metadata) {
    // The equivalent in Google's code is:
    // https://github.com/google/libphonenumber/blob/e326fa1fc4283bb05eb35cb3c15c18f98a31af33/java/libphonenumber/src/com/google/i18n/phonenumbers/PhoneNumberUtil.java#L2969-L3004
    if (
        matchesEntirely(number, metadata.nationalNumberPattern()) &&
        !matchesEntirely(nationalSignificantNumber, metadata.nationalNumberPattern())
    ) {
        return false;
    } // Just "possible" number check would be more relaxed, so it's not used.
    // if (isPossibleNumber(number, metadata) &&
    // 	!isPossibleNumber(numberWithNationalPrefixExtracted, metadata)) {
    // 	return false
    // }

    return true;
}

/**
 * Sometimes some people incorrectly input international phone numbers
 * without the leading `+`. This function corrects such input.
 * @param  {string} number  Phone number digits.
 * @param  {string?} country
 * @param  {string?} callingCode
 * @param  {object} metadata
 * @return {object} `{ countryCallingCode: string?, number: string }`.
 */

function extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(number, country, callingCode, metadata) {
    var countryCallingCode = country ? getCountryCallingCode$1(country, metadata) : callingCode;

    if (number.indexOf(countryCallingCode) === 0) {
        metadata = new Metadata(metadata);
        metadata.selectNumberingPlan(country, callingCode);
        var possibleShorterNumber = number.slice(countryCallingCode.length);

        var _extractNationalNumbe = extractNationalNumber(possibleShorterNumber, metadata),
            possibleShorterNationalNumber = _extractNationalNumbe.nationalNumber;

        var _extractNationalNumbe2 = extractNationalNumber(number, metadata),
            nationalNumber = _extractNationalNumbe2.nationalNumber; // If the number was not valid before but is valid now,
        // or if it was too long before, we consider the number
        // with the country calling code stripped to be a better result
        // and keep that instead.
        // For example, in Germany (+49), `49` is a valid area code,
        // so if a number starts with `49`, it could be both a valid
        // national German number or an international number without
        // a leading `+`.

        if (
            (!matchesEntirely(nationalNumber, metadata.nationalNumberPattern()) &&
                matchesEntirely(possibleShorterNationalNumber, metadata.nationalNumberPattern())) ||
            checkNumberLength(nationalNumber, metadata) === "TOO_LONG"
        ) {
            return {
                countryCallingCode: countryCallingCode,
                number: possibleShorterNumber,
            };
        }
    }

    return {
        number: number,
    };
}

/**
 * Converts a phone number digits (possibly with a `+`)
 * into a calling code and the rest phone number digits.
 * The "rest phone number digits" could include
 * a national prefix, carrier code, and national
 * (significant) number.
 * @param  {string} number  Phone number digits (possibly with a `+`).
 * @param  {string} [country] Default country.
 * @param  {string} [callingCode]  Default calling code (some phone numbering plans are non-geographic).
 * @param  {object} metadata
 * @return {object} `{ countryCallingCode: string?, number: string }`
 * @example
 * // Returns `{ countryCallingCode: "1", number: "2133734253" }`.
 * extractCountryCallingCode('2133734253', 'US', null, metadata)
 * extractCountryCallingCode('2133734253', null, '1', metadata)
 * extractCountryCallingCode('+12133734253', null, null, metadata)
 * extractCountryCallingCode('+12133734253', 'RU', null, metadata)
 */

function extractCountryCallingCode(number, country, callingCode, metadata) {
    if (!number) {
        return {};
    } // If this is not an international phone number,
    // then either extract an "IDD" prefix, or extract a
    // country calling code from a number by autocorrecting it
    // by prepending a leading `+` in cases when it starts
    // with the country calling code.
    // https://wikitravel.org/en/International_dialling_prefix
    // https://github.com/catamphetamine/libphonenumber-js/issues/376

    if (number[0] !== "+") {
        // Convert an "out-of-country" dialing phone number
        // to a proper international phone number.
        var numberWithoutIDD = stripIddPrefix(number, country, callingCode, metadata); // If an IDD prefix was stripped then
        // convert the number to international one
        // for subsequent parsing.

        if (numberWithoutIDD && numberWithoutIDD !== number) {
            number = "+" + numberWithoutIDD;
        } else {
            // Check to see if the number starts with the country calling code
            // for the default country. If so, we remove the country calling code,
            // and do some checks on the validity of the number before and after.
            // https://github.com/catamphetamine/libphonenumber-js/issues/376
            if (country || callingCode) {
                var _extractCountryCallin = extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(
                        number,
                        country,
                        callingCode,
                        metadata
                    ),
                    countryCallingCode = _extractCountryCallin.countryCallingCode,
                    shorterNumber = _extractCountryCallin.number;

                if (countryCallingCode) {
                    return {
                        countryCallingCode: countryCallingCode,
                        number: shorterNumber,
                    };
                }
            }

            return {
                number: number,
            };
        }
    } // Fast abortion: country codes do not begin with a '0'

    if (number[1] === "0") {
        return {};
    }

    metadata = new Metadata(metadata); // The thing with country phone codes
    // is that they are orthogonal to each other
    // i.e. there's no such country phone code A
    // for which country phone code B exists
    // where B starts with A.
    // Therefore, while scanning digits,
    // if a valid country code is found,
    // that means that it is the country code.
    //

    var i = 2;

    while (i - 1 <= MAX_LENGTH_COUNTRY_CODE && i <= number.length) {
        var _countryCallingCode = number.slice(1, i);

        if (metadata.hasCallingCode(_countryCallingCode)) {
            metadata.selectNumberingPlan(_countryCallingCode);
            return {
                countryCallingCode: _countryCallingCode,
                number: number.slice(i),
            };
        }

        i++;
    }

    return {};
}

var USE_NON_GEOGRAPHIC_COUNTRY_CODE = false;
function getCountryByCallingCode(callingCode, nationalPhoneNumber, metadata) {
    /* istanbul ignore if */
    if (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {
        if (metadata.isNonGeographicCallingCode(callingCode)) {
            return "001";
        }
    } // Is always non-empty, because `callingCode` is always valid

    var possibleCountries = metadata.getCountryCodesForCallingCode(callingCode);

    if (!possibleCountries) {
        return;
    } // If there's just one country corresponding to the country code,
    // then just return it, without further phone number digits validation.

    if (possibleCountries.length === 1) {
        return possibleCountries[0];
    }

    return selectCountryFromList(possibleCountries, nationalPhoneNumber, metadata.metadata);
}

function selectCountryFromList(possibleCountries, nationalPhoneNumber, metadata) {
    // Re-create `metadata` because it will be selecting a `country`.
    metadata = new Metadata(metadata);

    for (
        var _iterator = possibleCountries,
            _isArray = Array.isArray(_iterator),
            _i = 0,
            _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();
        ;

    ) {
        var _ref;

        if (_isArray) {
            if (_i >= _iterator.length) break;
            _ref = _iterator[_i++];
        } else {
            _i = _iterator.next();
            if (_i.done) break;
            _ref = _i.value;
        }

        var country = _ref;
        metadata.country(country); // Leading digits check would be the simplest and fastest one.
        // Leading digits patterns are only defined for about 20% of all countries.
        // https://gitlab.com/catamphetamine/libphonenumber-js/blob/master/METADATA.md#leading_digits
        // Matching "leading digits" is a sufficient but not necessary condition.

        if (metadata.leadingDigits()) {
            if (nationalPhoneNumber && nationalPhoneNumber.search(metadata.leadingDigits()) === 0) {
                return country;
            }
        } // Else perform full validation with all of those
        // fixed-line/mobile/etc regular expressions.
        else if (
            getNumberType(
                {
                    phone: nationalPhoneNumber,
                    country: country,
                },
                undefined,
                metadata.metadata
            )
        ) {
            return country;
        }
    }
}

// This is a port of Google Android `libphonenumber`'s
// This prevents malicious input from consuming CPU.

var MAX_INPUT_STRING_LENGTH = 250; // This consists of the plus symbol, digits, and arabic-indic digits.

var PHONE_NUMBER_START_PATTERN = new RegExp("[" + PLUS_CHARS + VALID_DIGITS + "]"); // Regular expression of trailing characters that we want to remove.
// A trailing `#` is sometimes used when writing phone numbers with extensions in US.
// Example: "+1 (645) 123 1234-910#" number has extension "910".

var AFTER_PHONE_NUMBER_END_PATTERN = new RegExp("[^" + VALID_DIGITS + "#" + "]+$");
//
// ```js
// parse('8 (800) 555-35-35', 'RU')
// parse('8 (800) 555-35-35', 'RU', metadata)
// parse('8 (800) 555-35-35', { country: { default: 'RU' } })
// parse('8 (800) 555-35-35', { country: { default: 'RU' } }, metadata)
// parse('+7 800 555 35 35')
// parse('+7 800 555 35 35', metadata)
// ```
//

function parse$1(text, options, metadata) {
    // If assigning the `{}` default value is moved to the arguments above,
    // code coverage would decrease for some weird reason.
    options = options || {};
    metadata = new Metadata(metadata); // Validate `defaultCountry`.

    if (options.defaultCountry && !metadata.hasCountry(options.defaultCountry)) {
        if (options.v2) {
            throw new ParseError("INVALID_COUNTRY");
        }

        throw new Error("Unknown country: ".concat(options.defaultCountry));
    } // Parse the phone number.

    var _parseInput = parseInput(text, options.v2, options.extract),
        formattedPhoneNumber = _parseInput.number,
        ext = _parseInput.ext,
        error = _parseInput.error; // If the phone number is not viable then return nothing.

    if (!formattedPhoneNumber) {
        if (options.v2) {
            if (error === "TOO_SHORT") {
                throw new ParseError("TOO_SHORT");
            }

            throw new ParseError("NOT_A_NUMBER");
        }

        return {};
    }

    var _parsePhoneNumber = parsePhoneNumber$2(
            formattedPhoneNumber,
            options.defaultCountry,
            options.defaultCallingCode,
            metadata
        ),
        country = _parsePhoneNumber.country,
        nationalNumber = _parsePhoneNumber.nationalNumber,
        countryCallingCode = _parsePhoneNumber.countryCallingCode,
        carrierCode = _parsePhoneNumber.carrierCode;

    if (!metadata.hasSelectedNumberingPlan()) {
        if (options.v2) {
            throw new ParseError("INVALID_COUNTRY");
        }

        return {};
    } // Validate national (significant) number length.

    if (!nationalNumber || nationalNumber.length < MIN_LENGTH_FOR_NSN) {
        // Won't throw here because the regexp already demands length > 1.

        /* istanbul ignore if */
        if (options.v2) {
            throw new ParseError("TOO_SHORT");
        } // Google's demo just throws an error in this case.

        return {};
    } // Validate national (significant) number length.
    //
    // A sidenote:
    //
    // They say that sometimes national (significant) numbers
    // can be longer than `MAX_LENGTH_FOR_NSN` (e.g. in Germany).
    // https://github.com/googlei18n/libphonenumber/blob/7e1748645552da39c4e1ba731e47969d97bdb539/resources/phonenumber.proto#L36
    // Such numbers will just be discarded.
    //

    if (nationalNumber.length > MAX_LENGTH_FOR_NSN) {
        if (options.v2) {
            throw new ParseError("TOO_LONG");
        } // Google's demo just throws an error in this case.

        return {};
    }

    if (options.v2) {
        var phoneNumber = new PhoneNumber(countryCallingCode, nationalNumber, metadata.metadata);

        if (country) {
            phoneNumber.country = country;
        }

        if (carrierCode) {
            phoneNumber.carrierCode = carrierCode;
        }

        if (ext) {
            phoneNumber.ext = ext;
        }

        return phoneNumber;
    } // Check if national phone number pattern matches the number.
    // National number pattern is different for each country,
    // even for those ones which are part of the "NANPA" group.

    var valid = (options.extended ? metadata.hasSelectedNumberingPlan() : country)
        ? matchesEntirely(nationalNumber, metadata.nationalNumberPattern())
        : false;

    if (!options.extended) {
        return valid ? result(country, nationalNumber, ext) : {};
    } // isInternational: countryCallingCode !== undefined

    return {
        country: country,
        countryCallingCode: countryCallingCode,
        carrierCode: carrierCode,
        valid: valid,
        possible: valid
            ? true
            : options.extended === true && metadata.possibleLengths() && isPossibleNumber(nationalNumber, metadata)
            ? true
            : false,
        phone: nationalNumber,
        ext: ext,
    };
}
/**
 * Extracts a formatted phone number from text.
 * Doesn't guarantee that the extracted phone number
 * is a valid phone number (for example, doesn't validate its length).
 * @param  {string} text
 * @param  {boolean} [extract]  If `false`, then will parse the entire `text` as a phone number.
 * @param  {boolean} [throwOnError]  By default, it won't throw if the text is too long.
 * @return {string}
 * @example
 * // Returns "(213) 373-4253".
 * extractFormattedPhoneNumber("Call (213) 373-4253 for assistance.")
 */

function extractFormattedPhoneNumber$1(text, extract, throwOnError) {
    if (!text) {
        return;
    }

    if (text.length > MAX_INPUT_STRING_LENGTH) {
        if (throwOnError) {
            throw new ParseError("TOO_LONG");
        }

        return;
    }

    if (extract === false) {
        return text;
    } // Attempt to extract a possible number from the string passed in

    var startsAt = text.search(PHONE_NUMBER_START_PATTERN);

    if (startsAt < 0) {
        return;
    }

    return text // Trim everything to the left of the phone number
        .slice(startsAt) // Remove trailing non-numerical characters
        .replace(AFTER_PHONE_NUMBER_END_PATTERN, "");
}
/**
 * @param  {string} text - Input.
 * @param  {boolean} v2 - Legacy API functions don't pass `v2: true` flag.
 * @param  {boolean} [extract] - Whether to extract a phone number from `text`, or attempt to parse the entire text as a phone number.
 * @return {object} `{ ?number, ?ext }`.
 */

function parseInput(text, v2, extract) {
    // Parse RFC 3966 phone number URI.
    if (text && text.indexOf("tel:") === 0) {
        return parseRFC3966(text);
    }

    var number = extractFormattedPhoneNumber$1(text, extract, v2); // If the phone number is not viable, then abort.

    if (!number) {
        return {};
    }

    if (!isViablePhoneNumber(number)) {
        if (isViablePhoneNumberStart(number)) {
            return {
                error: "TOO_SHORT",
            };
        }

        return {};
    } // Attempt to parse extension first, since it doesn't require region-specific
    // data and we want to have the non-normalised number here.

    var withExtensionStripped = extractExtension(number);

    if (withExtensionStripped.ext) {
        return withExtensionStripped;
    }

    return {
        number: number,
    };
}
/**
 * Creates `parse()` result object.
 */

function result(country, nationalNumber, ext) {
    var result = {
        country: country,
        phone: nationalNumber,
    };

    if (ext) {
        result.ext = ext;
    }

    return result;
}
/**
 * Parses a viable phone number.
 * @param {string} formattedPhoneNumber  Example: "(213) 373-4253".
 * @param {string} [defaultCountry]
 * @param {string} [defaultCallingCode]
 * @param {Metadata} metadata
 * @return {object} Returns `{ country: string?, countryCallingCode: string?, nationalNumber: string? }`.
 */

function parsePhoneNumber$2(formattedPhoneNumber, defaultCountry, defaultCallingCode, metadata) {
    // Extract calling code from phone number.
    var _extractCountryCallin = extractCountryCallingCode(
            parseIncompletePhoneNumber(formattedPhoneNumber),
            defaultCountry,
            defaultCallingCode,
            metadata.metadata
        ),
        countryCallingCode = _extractCountryCallin.countryCallingCode,
        number = _extractCountryCallin.number; // Choose a country by `countryCallingCode`.

    var country;

    if (countryCallingCode) {
        metadata.selectNumberingPlan(countryCallingCode);
    } // If `formattedPhoneNumber` is in "national" format
    // then `number` is defined and `countryCallingCode` isn't.
    else if (number && (defaultCountry || defaultCallingCode)) {
        metadata.selectNumberingPlan(defaultCountry, defaultCallingCode);

        if (defaultCountry) {
            country = defaultCountry;
        }

        countryCallingCode = defaultCallingCode || getCountryCallingCode$1(defaultCountry, metadata.metadata);
    } else return {};

    if (!number) {
        return {
            countryCallingCode: countryCallingCode,
        };
    }

    var _extractNationalNumbe = extractNationalNumber(parseIncompletePhoneNumber(number), metadata),
        nationalNumber = _extractNationalNumbe.nationalNumber,
        carrierCode = _extractNationalNumbe.carrierCode; // Sometimes there are several countries
    // corresponding to the same country phone code
    // (e.g. NANPA countries all having `1` country phone code).
    // Therefore, to reliably determine the exact country,
    // national (significant) number should have been parsed first.
    //
    // When `metadata.json` is generated, all "ambiguous" country phone codes
    // get their countries populated with the full set of
    // "phone number type" regular expressions.
    //

    var exactCountry = getCountryByCallingCode(countryCallingCode, nationalNumber, metadata);

    if (exactCountry) {
        country = exactCountry;
        /* istanbul ignore if */

        if (exactCountry === "001");
        else {
            metadata.country(country);
        }
    }

    return {
        country: country,
        countryCallingCode: countryCallingCode,
        nationalNumber: nationalNumber,
        carrierCode: carrierCode,
    };
}

function _objectSpread$5(target) {
    for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(
                Object.getOwnPropertySymbols(source).filter(function (sym) {
                    return Object.getOwnPropertyDescriptor(source, sym).enumerable;
                })
            );
        }
        ownKeys.forEach(function (key) {
            _defineProperty$9(target, key, source[key]);
        });
    }
    return target;
}

function _defineProperty$9(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
    } else {
        obj[key] = value;
    }
    return obj;
}
function parsePhoneNumber$1(text, options, metadata) {
    return parse$1(
        text,
        _objectSpread$5({}, options, {
            v2: true,
        }),
        metadata
    );
}

function _typeof$4(obj) {
    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof$4 = function _typeof(obj) {
            return typeof obj;
        };
    } else {
        _typeof$4 = function _typeof(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype
                ? "symbol"
                : typeof obj;
        };
    }
    return _typeof$4(obj);
}

function _objectSpread$4(target) {
    for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(
                Object.getOwnPropertySymbols(source).filter(function (sym) {
                    return Object.getOwnPropertyDescriptor(source, sym).enumerable;
                })
            );
        }
        ownKeys.forEach(function (key) {
            _defineProperty$8(target, key, source[key]);
        });
    }
    return target;
}

function _defineProperty$8(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
    } else {
        obj[key] = value;
    }
    return obj;
}

function _slicedToArray$3(arr, i) {
    return _arrayWithHoles$3(arr) || _iterableToArrayLimit$3(arr, i) || _nonIterableRest$3();
}

function _nonIterableRest$3() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance");
}

function _iterableToArrayLimit$3(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;
    try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
            _arr.push(_s.value);
            if (i && _arr.length === i) break;
        }
    } catch (err) {
        _d = true;
        _e = err;
    } finally {
        try {
            if (!_n && _i["return"] != null) _i["return"]();
        } finally {
            if (_d) throw _e;
        }
    }
    return _arr;
}

function _arrayWithHoles$3(arr) {
    if (Array.isArray(arr)) return arr;
}
function normalizeArguments(args) {
    var _Array$prototype$slic = Array.prototype.slice.call(args),
        _Array$prototype$slic2 = _slicedToArray$3(_Array$prototype$slic, 4),
        arg_1 = _Array$prototype$slic2[0],
        arg_2 = _Array$prototype$slic2[1],
        arg_3 = _Array$prototype$slic2[2],
        arg_4 = _Array$prototype$slic2[3];

    var text;
    var options;
    var metadata; // If the phone number is passed as a string.
    // `parsePhoneNumber('88005553535', ...)`.

    if (typeof arg_1 === "string") {
        text = arg_1;
    } else throw new TypeError("A text for parsing must be a string."); // If "default country" argument is being passed then move it to `options`.
    // `parsePhoneNumber('88005553535', 'RU', [options], metadata)`.

    if (!arg_2 || typeof arg_2 === "string") {
        if (arg_4) {
            options = arg_3;
            metadata = arg_4;
        } else {
            options = undefined;
            metadata = arg_3;
        }

        if (arg_2) {
            options = _objectSpread$4(
                {
                    defaultCountry: arg_2,
                },
                options
            );
        }
    } // `defaultCountry` is not passed.
    // Example: `parsePhoneNumber('+78005553535', [options], metadata)`.
    else if (isObject(arg_2)) {
        if (arg_3) {
            options = arg_2;
            metadata = arg_3;
        } else {
            metadata = arg_2;
        }
    } else throw new Error("Invalid second argument: ".concat(arg_2));

    return {
        text: text,
        options: options,
        metadata: metadata,
    };
} // Otherwise istanbul would show this as "branch not covered".

/* istanbul ignore next */

var isObject = function isObject(_) {
    return _typeof$4(_) === "object";
};

function _objectSpread$3(target) {
    for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(
                Object.getOwnPropertySymbols(source).filter(function (sym) {
                    return Object.getOwnPropertyDescriptor(source, sym).enumerable;
                })
            );
        }
        ownKeys.forEach(function (key) {
            _defineProperty$7(target, key, source[key]);
        });
    }
    return target;
}

function _defineProperty$7(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
    } else {
        obj[key] = value;
    }
    return obj;
}
function parsePhoneNumberFromString$2(text, options, metadata) {
    // Validate `defaultCountry`.
    if (options && options.defaultCountry && !isSupportedCountry(options.defaultCountry, metadata)) {
        options = _objectSpread$3({}, options, {
            defaultCountry: undefined,
        });
    } // Parse phone number.

    try {
        return parsePhoneNumber$1(text, options, metadata);
    } catch (error) {
        /* istanbul ignore else */
        if (error instanceof ParseError);
        else {
            throw error;
        }
    }
}

function parsePhoneNumberFromString$1() {
    var _normalizeArguments = normalizeArguments(arguments),
        text = _normalizeArguments.text,
        options = _normalizeArguments.options,
        metadata = _normalizeArguments.metadata;

    return parsePhoneNumberFromString$2(text, options, metadata);
}

function _objectSpread$2(target) {
    for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(
                Object.getOwnPropertySymbols(source).filter(function (sym) {
                    return Object.getOwnPropertyDescriptor(source, sym).enumerable;
                })
            );
        }
        ownKeys.forEach(function (key) {
            _defineProperty$6(target, key, source[key]);
        });
    }
    return target;
}

function _defineProperty$6(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
    } else {
        obj[key] = value;
    }
    return obj;
}
function isValidPhoneNumber$1() {
    var _normalizeArguments = normalizeArguments(arguments),
        text = _normalizeArguments.text,
        options = _normalizeArguments.options,
        metadata = _normalizeArguments.metadata;

    options = _objectSpread$2({}, options, {
        extract: false,
    });
    var phoneNumber = parsePhoneNumberFromString$2(text, options, metadata);
    return (phoneNumber && phoneNumber.isValid()) || false;
}

function _classCallCheck$6(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _defineProperties$6(target, props) {
    for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
    }
}

function _createClass$6(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties$6(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties$6(Constructor, staticProps);
    return Constructor;
}

function _defineProperty$5(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
    } else {
        obj[key] = value;
    }
    return obj;
}

var AsYouTypeState =
    /*#__PURE__*/
    (function () {
        function AsYouTypeState(_ref) {
            var _this = this;

            var onCountryChange = _ref.onCountryChange,
                onCallingCodeChange = _ref.onCallingCodeChange;

            _classCallCheck$6(this, AsYouTypeState);

            _defineProperty$5(this, "update", function (properties) {
                for (var _i = 0, _Object$keys = Object.keys(properties); _i < _Object$keys.length; _i++) {
                    var key = _Object$keys[_i];
                    _this[key] = properties[key];
                }
            });

            this.onCountryChange = onCountryChange;
            this.onCallingCodeChange = onCallingCodeChange;
        }

        _createClass$6(AsYouTypeState, [
            {
                key: "reset",
                value: function reset(defaultCountry, defaultCallingCode) {
                    this.international = false;
                    this.IDDPrefix = undefined;
                    this.missingPlus = undefined;
                    this.callingCode = undefined;
                    this.digits = "";
                    this.resetNationalSignificantNumber();
                    this.initCountryAndCallingCode(defaultCountry, defaultCallingCode);
                },
            },
            {
                key: "resetNationalSignificantNumber",
                value: function resetNationalSignificantNumber() {
                    this.nationalSignificantNumber = this.getNationalDigits();
                    this.nationalSignificantNumberMatchesInput = true;
                    this.nationalPrefix = undefined;
                    this.carrierCode = undefined;
                    this.complexPrefixBeforeNationalSignificantNumber = undefined;
                },
            },
            {
                key: "initCountryAndCallingCode",
                value: function initCountryAndCallingCode(country, callingCode) {
                    this.setCountry(country);
                    this.setCallingCode(callingCode);
                },
            },
            {
                key: "setCountry",
                value: function setCountry(country) {
                    this.country = country;
                    this.onCountryChange(country);
                },
            },
            {
                key: "setCallingCode",
                value: function setCallingCode(callingCode) {
                    this.callingCode = callingCode;
                    return this.onCallingCodeChange(this.country, callingCode);
                },
            },
            {
                key: "startInternationalNumber",
                value: function startInternationalNumber() {
                    // Prepend the `+` to parsed input.
                    this.international = true; // If a default country was set then reset it
                    // because an explicitly international phone
                    // number is being entered.

                    this.initCountryAndCallingCode();
                },
            },
            {
                key: "appendDigits",
                value: function appendDigits(nextDigits) {
                    this.digits += nextDigits;
                },
            },
            {
                key: "appendNationalSignificantNumberDigits",
                value: function appendNationalSignificantNumberDigits(nextDigits) {
                    this.nationalSignificantNumber += nextDigits;
                },
                /**
                 * Returns the part of `this.digits` that corresponds to the national number.
                 * Basically, all digits that have been input by the user, except for the
                 * international prefix and the country calling code part
                 * (if the number is an international one).
                 * @return {string}
                 */
            },
            {
                key: "getNationalDigits",
                value: function getNationalDigits() {
                    if (this.international) {
                        return this.digits.slice(
                            (this.IDDPrefix ? this.IDDPrefix.length : 0) +
                                (this.callingCode ? this.callingCode.length : 0)
                        );
                    }

                    return this.digits;
                },
            },
            {
                key: "getDigitsWithoutInternationalPrefix",
                value: function getDigitsWithoutInternationalPrefix() {
                    if (this.international) {
                        if (this.IDDPrefix) {
                            return this.digits.slice(this.IDDPrefix.length);
                        }
                    }

                    return this.digits;
                },
            },
        ]);

        return AsYouTypeState;
    })();

// Should be the same as `DIGIT_PLACEHOLDER` in `libphonenumber-metadata-generator`.
var DIGIT_PLACEHOLDER = "x"; // '\u2008' (punctuation space)

var DIGIT_PLACEHOLDER_MATCHER = new RegExp(DIGIT_PLACEHOLDER); // Counts all occurences of a symbol in a string.
// http://stackoverflow.com/questions/202605/repeat-string-javascript

function repeat(string, times) {
    if (times < 1) {
        return "";
    }

    var result = "";

    while (times > 1) {
        if (times & 1) {
            result += string;
        }

        times >>= 1;
        string += string;
    }

    return result + string;
}
function cutAndStripNonPairedParens(string, cutBeforeIndex) {
    if (string[cutBeforeIndex] === ")") {
        cutBeforeIndex++;
    }

    return stripNonPairedParens(string.slice(0, cutBeforeIndex));
}
function stripNonPairedParens(string) {
    var dangling_braces = [];
    var i = 0;

    while (i < string.length) {
        if (string[i] === "(") {
            dangling_braces.push(i);
        } else if (string[i] === ")") {
            dangling_braces.pop();
        }

        i++;
    }

    var start = 0;
    var cleared_string = "";
    dangling_braces.push(string.length);

    for (var _i2 = 0, _dangling_braces = dangling_braces; _i2 < _dangling_braces.length; _i2++) {
        var index = _dangling_braces[_i2];
        cleared_string += string.slice(start, index);
        start = index + 1;
    }

    return cleared_string;
}
function populateTemplateWithDigits(template, position, digits) {
    // Using `.split('')` to iterate through a string here
    // to avoid requiring `Symbol.iterator` polyfill.
    // `.split('')` is generally not safe for Unicode,
    // but in this particular case for `digits` it is safe.
    // for (const digit of digits)
    for (
        var _iterator2 = digits.split(""),
            _isArray2 = Array.isArray(_iterator2),
            _i3 = 0,
            _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();
        ;

    ) {
        var _ref2;

        if (_isArray2) {
            if (_i3 >= _iterator2.length) break;
            _ref2 = _iterator2[_i3++];
        } else {
            _i3 = _iterator2.next();
            if (_i3.done) break;
            _ref2 = _i3.value;
        }

        var digit = _ref2;

        // If there is room for more digits in current `template`,
        // then set the next digit in the `template`,
        // and return the formatted digits so far.
        // If more digits are entered than the current format could handle.
        if (template.slice(position + 1).search(DIGIT_PLACEHOLDER_MATCHER) < 0) {
            return;
        }

        position = template.search(DIGIT_PLACEHOLDER_MATCHER);
        template = template.replace(DIGIT_PLACEHOLDER_MATCHER, digit);
    }

    return [template, position];
}

function formatCompleteNumber(state, format, _ref) {
    var metadata = _ref.metadata,
        shouldTryNationalPrefixFormattingRule = _ref.shouldTryNationalPrefixFormattingRule,
        getSeparatorAfterNationalPrefix = _ref.getSeparatorAfterNationalPrefix;
    var matcher = new RegExp("^(?:".concat(format.pattern(), ")$"));

    if (matcher.test(state.nationalSignificantNumber)) {
        return formatNationalNumberWithAndWithoutNationalPrefixFormattingRule(state, format, {
            metadata: metadata,
            shouldTryNationalPrefixFormattingRule: shouldTryNationalPrefixFormattingRule,
            getSeparatorAfterNationalPrefix: getSeparatorAfterNationalPrefix,
        });
    }
}
function canFormatCompleteNumber(nationalSignificantNumber, metadata) {
    return checkNumberLength(nationalSignificantNumber, metadata) === "IS_POSSIBLE";
}

function formatNationalNumberWithAndWithoutNationalPrefixFormattingRule(state, format, _ref2) {
    var metadata = _ref2.metadata,
        shouldTryNationalPrefixFormattingRule = _ref2.shouldTryNationalPrefixFormattingRule,
        getSeparatorAfterNationalPrefix = _ref2.getSeparatorAfterNationalPrefix;
    // `format` has already been checked for `nationalPrefix` requirement.
    state.nationalSignificantNumber;
    state.international;
    state.nationalPrefix;
    state.carrierCode; // Format the number with using `national_prefix_formatting_rule`.
    // If the resulting formatted number is a valid formatted number, then return it.
    //
    // Google's AsYouType formatter is different in a way that it doesn't try
    // to format using the "national prefix formatting rule", and instead it
    // simply prepends a national prefix followed by a " " character.
    // This code does that too, but as a fallback.
    // The reason is that "national prefix formatting rule" may use parentheses,
    // which wouldn't be included has it used the simpler Google's way.
    //

    if (shouldTryNationalPrefixFormattingRule(format)) {
        var formattedNumber = formatNationalNumber(state, format, {
            useNationalPrefixFormattingRule: true,
            getSeparatorAfterNationalPrefix: getSeparatorAfterNationalPrefix,
            metadata: metadata,
        });

        if (formattedNumber) {
            return formattedNumber;
        }
    } // Format the number without using `national_prefix_formatting_rule`.

    return formatNationalNumber(state, format, {
        useNationalPrefixFormattingRule: false,
        getSeparatorAfterNationalPrefix: getSeparatorAfterNationalPrefix,
        metadata: metadata,
    });
}

function formatNationalNumber(state, format, _ref3) {
    var metadata = _ref3.metadata,
        useNationalPrefixFormattingRule = _ref3.useNationalPrefixFormattingRule,
        getSeparatorAfterNationalPrefix = _ref3.getSeparatorAfterNationalPrefix;
    var formattedNationalNumber = formatNationalNumberUsingFormat(state.nationalSignificantNumber, format, {
        carrierCode: state.carrierCode,
        useInternationalFormat: state.international,
        withNationalPrefix: useNationalPrefixFormattingRule,
        metadata: metadata,
    });

    if (!useNationalPrefixFormattingRule) {
        if (state.nationalPrefix) {
            // If a national prefix was extracted, then just prepend it,
            // followed by a " " character.
            formattedNationalNumber =
                state.nationalPrefix + getSeparatorAfterNationalPrefix(format) + formattedNationalNumber;
        } else if (state.complexPrefixBeforeNationalSignificantNumber) {
            formattedNationalNumber =
                state.complexPrefixBeforeNationalSignificantNumber + " " + formattedNationalNumber;
        }
    }

    if (isValidFormattedNationalNumber(formattedNationalNumber, state)) {
        return formattedNationalNumber;
    }
} // Check that the formatted phone number contains exactly
// the same digits that have been input by the user.
// For example, when "0111523456789" is input for `AR` country,
// the extracted `this.nationalSignificantNumber` is "91123456789",
// which means that the national part of `this.digits` isn't simply equal to
// `this.nationalPrefix` + `this.nationalSignificantNumber`.
//
// Also, a `format` can add extra digits to the `this.nationalSignificantNumber`
// being formatted via `metadata[country].national_prefix_transform_rule`.
// For example, for `VI` country, it prepends `340` to the national number,
// and if this check hasn't been implemented, then there would be a bug
// when `340` "area coude" is "duplicated" during input for `VI` country:
// https://github.com/catamphetamine/libphonenumber-js/issues/318
//
// So, all these "gotchas" are filtered out.
//
// In the original Google's code, the comments say:
// "Check that we didn't remove nor add any extra digits when we matched
// this formatting pattern. This usually happens after we entered the last
// digit during AYTF. Eg: In case of MX, we swallow mobile token (1) when
// formatted but AYTF should retain all the number entered and not change
// in order to match a format (of same leading digits and length) display
// in that way."
// "If it's the same (i.e entered number and format is same), then it's
// safe to return this in formatted number as nothing is lost / added."
// Otherwise, don't use this format.
// https://github.com/google/libphonenumber/commit/3e7c1f04f5e7200f87fb131e6f85c6e99d60f510#diff-9149457fa9f5d608a11bb975c6ef4bc5
// https://github.com/google/libphonenumber/commit/3ac88c7106e7dcb553bcc794b15f19185928a1c6#diff-2dcb77e833422ee304da348b905cde0b
//

function isValidFormattedNationalNumber(formattedNationalNumber, state) {
    return parseDigits(formattedNationalNumber) === state.getNationalDigits();
}

function _classCallCheck$5(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _defineProperties$5(target, props) {
    for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
    }
}

function _createClass$5(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties$5(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties$5(Constructor, staticProps);
    return Constructor;
}

var PatternMatcher =
    /*#__PURE__*/
    (function () {
        function PatternMatcher(pattern) {
            _classCallCheck$5(this, PatternMatcher);

            this.matchTree = new PatternParser().parse(pattern); // console.log(JSON.stringify(this.matchTree, null, 2))
        }

        _createClass$5(PatternMatcher, [
            {
                key: "match",
                value: function match(string) {
                    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
                        allowOverflow = _ref.allowOverflow;

                    if (!string) {
                        throw new Error("String is required");
                    }

                    var result = _match(string.split(""), this.matchTree, true);

                    if (result && result.match) {
                        delete result.matchedChars;
                    }

                    if (result && result.overflow) {
                        if (!allowOverflow) {
                            return;
                        }
                    }

                    return result;
                },
            },
        ]);

        return PatternMatcher;
    })();

function _match(characters, tree, last) {
    if (typeof tree === "string") {
        if (last) {
            if (characters.length > tree.length) {
                return {
                    overflow: true,
                };
            }
        }

        var characterString = characters.join("");

        if (tree.indexOf(characterString) === 0) {
            if (characters.length === tree.length) {
                return {
                    match: true,
                    matchedChars: characters,
                };
            }

            return {
                partialMatch: true, // matchedChars: characters
            };
        }

        if (characterString.indexOf(tree) === 0) {
            return {
                match: true,
                matchedChars: characters.slice(0, tree.length),
            };
        }

        return;
    }

    if (Array.isArray(tree)) {
        var restCharacters = characters.slice();
        var i = 0;

        while (i < tree.length) {
            var subtree = tree[i];

            var result = _match(restCharacters, subtree, last && i === tree.length - 1);

            if (!result || result.overflow) {
                return result;
            }

            if (result.match) {
                // Continue with the next subtree with the rest of the characters.
                restCharacters = restCharacters.slice(result.matchedChars.length);

                if (restCharacters.length === 0) {
                    if (i === tree.length - 1) {
                        return {
                            match: true,
                            matchedChars: characters,
                        };
                    } else {
                        return {
                            partialMatch: true, // matchedChars: characters
                        };
                    }
                }
            } else if (result.partialMatch) {
                return {
                    partialMatch: true, // matchedChars: characters
                };
            } else {
                throw new Error("Unsupported match result:\n".concat(JSON.stringify(result, null, 2)));
            }

            i++;
        }

        if (last) {
            return {
                overflow: true,
            };
        }

        return {
            match: true,
            matchedChars: characters.slice(0, characters.length - restCharacters.length),
        };
    }

    switch (tree.op) {
        case "|":
            var partialMatch;

            for (
                var _iterator = tree.args,
                    _isArray = Array.isArray(_iterator),
                    _i = 0,
                    _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();
                ;

            ) {
                var _ref2;

                if (_isArray) {
                    if (_i >= _iterator.length) break;
                    _ref2 = _iterator[_i++];
                } else {
                    _i = _iterator.next();
                    if (_i.done) break;
                    _ref2 = _i.value;
                }

                var branch = _ref2;

                var _result = _match(characters, branch, last);

                if (_result) {
                    if (_result.overflow) {
                        return _result;
                    } else if (_result.match) {
                        return {
                            match: true,
                            matchedChars: _result.matchedChars,
                        };
                    } else if (_result.partialMatch) {
                        partialMatch = true;
                    }
                }
            }

            if (partialMatch) {
                return {
                    partialMatch: true, // matchedChars: ...
                };
            } // Not even a partial match.

            return;

        case "[]":
            for (
                var _iterator2 = tree.args,
                    _isArray2 = Array.isArray(_iterator2),
                    _i2 = 0,
                    _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();
                ;

            ) {
                var _ref3;

                if (_isArray2) {
                    if (_i2 >= _iterator2.length) break;
                    _ref3 = _iterator2[_i2++];
                } else {
                    _i2 = _iterator2.next();
                    if (_i2.done) break;
                    _ref3 = _i2.value;
                }

                var _char = _ref3;

                if (characters[0] === _char) {
                    if (characters.length === 1) {
                        return {
                            match: true,
                            matchedChars: characters,
                        };
                    }

                    if (last) {
                        return {
                            overflow: true,
                        };
                    }

                    return {
                        match: true,
                        matchedChars: [_char],
                    };
                }
            } // No character matches.

            return;

        default:
            throw new Error("Unsupported instruction tree: ".concat(tree));
    }
}

var OPERATOR = new RegExp( // any of:
    "(" + // or operator
        "\\|" + // or
        "|" + // or group start
        "\\(\\?\\:" + // or
        "|" + // or group end
        "\\)" + // or
        "|" + // one-of set start
        "\\[" + // or
        "|" + // one-of set end
        "\\]" +
        ")"
);

var PatternParser =
    /*#__PURE__*/
    (function () {
        function PatternParser() {
            _classCallCheck$5(this, PatternParser);
        }

        _createClass$5(PatternParser, [
            {
                key: "parse",
                value: function parse(pattern) {
                    this.context = [
                        {
                            or: true,
                            instructions: [],
                        },
                    ];
                    this.parsePattern(pattern);

                    if (this.context.length !== 1) {
                        throw new Error("Non-finalized contexts left when pattern parse ended");
                    }

                    var _this$context$ = this.context[0],
                        branches = _this$context$.branches,
                        instructions = _this$context$.instructions;

                    if (branches) {
                        return [
                            {
                                op: "|",
                                args: branches.concat([instructions]),
                            },
                        ];
                    }

                    if (instructions.length === 0) {
                        throw new Error("Pattern is required");
                    }

                    return instructions;
                },
            },
            {
                key: "startContext",
                value: function startContext(context) {
                    this.context.push(context);
                },
            },
            {
                key: "endContext",
                value: function endContext() {
                    this.context.pop();
                },
            },
            {
                key: "getContext",
                value: function getContext() {
                    return this.context[this.context.length - 1];
                },
            },
            {
                key: "parsePattern",
                value: function parsePattern(pattern) {
                    if (!pattern) {
                        throw new Error("Empty pattern passed");
                    }

                    var match = pattern.match(OPERATOR);

                    if (!match) {
                        this.getContext().instructions = this.getContext().instructions.concat(pattern.split(""));
                        return;
                    }

                    var operator = match[1];
                    var before = pattern.slice(0, match.index);
                    var rightPart = pattern.slice(match.index + operator.length);

                    switch (operator) {
                        case "(?:":
                            if (before) {
                                this.parsePattern(before);
                            }

                            this.startContext({
                                or: true,
                                instructions: [],
                                branches: [],
                            });
                            break;

                        case ")":
                            if (!this.getContext().or) {
                                throw new Error('")" operator must be preceded by "(?:" operator');
                            }

                            if (before) {
                                this.parsePattern(before);
                            }

                            if (this.getContext().instructions.length === 0) {
                                throw new Error('No instructions found after "|" operator in an "or" group');
                            }

                            var _this$getContext = this.getContext(),
                                branches = _this$getContext.branches;

                            branches.push(this.getContext().instructions);
                            this.endContext();
                            this.getContext().instructions.push({
                                op: "|",
                                args: branches,
                            });
                            break;

                        case "|":
                            if (!this.getContext().or) {
                                throw new Error('"|" operator can only be used inside "or" groups');
                            }

                            if (before) {
                                this.parsePattern(before);
                            } // The top-level is an implicit "or" group, if required.

                            if (!this.getContext().branches) {
                                if (this.context.length === 1) {
                                    this.getContext().branches = [];
                                } else {
                                    throw new Error('"branches" not found in an "or" group context');
                                }
                            }

                            this.getContext().branches.push(this.getContext().instructions);
                            this.getContext().instructions = [];
                            break;

                        case "[":
                            if (before) {
                                this.parsePattern(before);
                            }

                            this.startContext({
                                oneOfSet: true,
                            });
                            break;

                        case "]":
                            if (!this.getContext().oneOfSet) {
                                throw new Error('"]" operator must be preceded by "[" operator');
                            }

                            this.endContext();
                            this.getContext().instructions.push({
                                op: "[]",
                                args: parseOneOfSet(before),
                            });
                            break;

                        default:
                            throw new Error("Unknown operator: ".concat(operator));
                    }

                    if (rightPart) {
                        this.parsePattern(rightPart);
                    }
                },
            },
        ]);

        return PatternParser;
    })();

function parseOneOfSet(pattern) {
    var values = [];
    var i = 0;

    while (i < pattern.length) {
        if (pattern[i] === "-") {
            if (i === 0 || i === pattern.length - 1) {
                throw new Error("Couldn't parse a one-of set pattern: ".concat(pattern));
            }

            var prevValue = pattern[i - 1].charCodeAt(0) + 1;
            var nextValue = pattern[i + 1].charCodeAt(0) - 1;
            var value = prevValue;

            while (value <= nextValue) {
                values.push(String.fromCharCode(value));
                value++;
            }
        } else {
            values.push(pattern[i]);
        }

        i++;
    }

    return values;
}

function _classCallCheck$4(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _defineProperties$4(target, props) {
    for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
    }
}

function _createClass$4(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties$4(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties$4(Constructor, staticProps);
    return Constructor;
}

function _defineProperty$4(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
    } else {
        obj[key] = value;
    }
    return obj;
}
// Could be any digit, I guess.

var DUMMY_DIGIT = "9"; // I don't know why is it exactly `15`

var LONGEST_NATIONAL_PHONE_NUMBER_LENGTH = 15; // Create a phone number consisting only of the digit 9 that matches the
// `number_pattern` by applying the pattern to the "longest phone number" string.

var LONGEST_DUMMY_PHONE_NUMBER = repeat(DUMMY_DIGIT, LONGEST_NATIONAL_PHONE_NUMBER_LENGTH); // A set of characters that, if found in a national prefix formatting rules, are an indicator to
// us that we should separate the national prefix from the number when formatting.

var NATIONAL_PREFIX_SEPARATORS_PATTERN = /[- ]/; // Deprecated: Google has removed some formatting pattern related code from their repo.
// An example of a character class is "[1-4]".

var CREATE_CHARACTER_CLASS_PATTERN = function () {
    return /\[([^\[\]])*\]/g;
}; // Any digit in a regular expression that actually denotes a digit. For
// example, in the regular expression "80[0-2]\d{6,10}", the first 2 digits
// (8 and 0) are standalone digits, but the rest are not.
// Two look-aheads are needed because the number following \\d could be a
// two-digit number, since the phone number can be as long as 15 digits.

var CREATE_STANDALONE_DIGIT_PATTERN = function () {
    return /\d(?=[^,}][^,}])/g;
}; // A regular expression that is used to determine if a `format` is
// suitable to be used in the "as you type formatter".
// A `format` is suitable when the resulting formatted number has
// the same digits as the user has entered.
//
// In the simplest case, that would mean that the format
// doesn't add any additional digits when formatting a number.
// Google says that it also shouldn't add "star" (`*`) characters,
// like it does in some Israeli formats.
// Such basic format would only contain "valid punctuation"
// and "captured group" identifiers ($1, $2, etc).
//
// An example of a format that adds additional digits:
//
// Country: `AR` (Argentina).
// Format:
// {
//    "pattern": "(\\d)(\\d{2})(\\d{4})(\\d{4})",
//    "leading_digits_patterns": ["91"],
//    "national_prefix_formatting_rule": "0$1",
//    "format": "$2 15-$3-$4",
//    "international_format": "$1 $2 $3-$4"
// }
//
// In the format above, the `format` adds `15` to the digits when formatting a number.
// A sidenote: this format actually is suitable because `national_prefix_for_parsing`
// has previously removed `15` from a national number, so re-adding `15` in `format`
// doesn't actually result in any extra digits added to user's input.
// But verifying that would be a complex procedure, so the code chooses a simpler path:
// it simply filters out all `format`s that contain anything but "captured group" ids.
//
// This regular expression is called `ELIGIBLE_FORMAT_PATTERN` in Google's
// `libphonenumber` code.
//

var NON_ALTERING_FORMAT_REG_EXP = new RegExp(
    "^" + "[" + VALID_PUNCTUATION + "]*" + "(\\$\\d[" + VALID_PUNCTUATION + "]*)+" + "$"
); // This is the minimum length of the leading digits of a phone number
// to guarantee the first "leading digits pattern" for a phone number format
// to be preemptive.

var MIN_LEADING_DIGITS_LENGTH = 3;

var AsYouTypeFormatter =
    /*#__PURE__*/
    (function () {
        function AsYouTypeFormatter(_ref) {
            var _this = this;

            _ref.state;
            var metadata = _ref.metadata;

            _classCallCheck$4(this, AsYouTypeFormatter);

            _defineProperty$4(this, "getSeparatorAfterNationalPrefix", function (format) {
                // `US` metadata doesn't have a `national_prefix_formatting_rule`,
                // so the `if` condition below doesn't apply to `US`,
                // but in reality there shoudl be a separator
                // between a national prefix and a national (significant) number.
                // So `US` national prefix separator is a "special" "hardcoded" case.
                if (_this.isNANP) {
                    return " ";
                } // If a `format` has a `national_prefix_formatting_rule`
                // and that rule has a separator after a national prefix,
                // then it means that there should be a separator
                // between a national prefix and a national (significant) number.

                if (
                    format &&
                    format.nationalPrefixFormattingRule() &&
                    NATIONAL_PREFIX_SEPARATORS_PATTERN.test(format.nationalPrefixFormattingRule())
                ) {
                    return " ";
                } // At this point, there seems to be no clear evidence that
                // there should be a separator between a national prefix
                // and a national (significant) number. So don't insert one.

                return "";
            });

            _defineProperty$4(this, "shouldTryNationalPrefixFormattingRule", function (format, _ref2) {
                var international = _ref2.international,
                    nationalPrefix = _ref2.nationalPrefix;

                if (format.nationalPrefixFormattingRule()) {
                    // In some countries, `national_prefix_formatting_rule` is `($1)`,
                    // so it applies even if the user hasn't input a national prefix.
                    // `format.usesNationalPrefix()` detects such cases.
                    var usesNationalPrefix = format.usesNationalPrefix();

                    if ((usesNationalPrefix && nationalPrefix) || (!usesNationalPrefix && !international)) {
                        return true;
                    }
                }
            });

            this.metadata = metadata;
            this.resetFormat();
        }

        _createClass$4(AsYouTypeFormatter, [
            {
                key: "resetFormat",
                value: function resetFormat() {
                    this.chosenFormat = undefined;
                    this.template = undefined;
                    this.nationalNumberTemplate = undefined;
                    this.populatedNationalNumberTemplate = undefined;
                    this.populatedNationalNumberTemplatePosition = -1;
                },
            },
            {
                key: "reset",
                value: function reset(numberingPlan, state) {
                    this.resetFormat();

                    if (numberingPlan) {
                        this.isNANP = numberingPlan.callingCode() === "1";
                        this.matchingFormats = numberingPlan.formats();

                        if (state.nationalSignificantNumber) {
                            this.narrowDownMatchingFormats(state);
                        }
                    } else {
                        this.isNANP = undefined;
                        this.matchingFormats = [];
                    }
                },
                /**
                 * Formats an updated phone number.
                 * @param  {string} nextDigits  Additional phone number digits.
                 * @param  {object} state `AsYouType` state.
                 * @return {[string]} Returns undefined if the updated phone number can't be formatted using any of the available formats.
                 */
            },
            {
                key: "format",
                value: function format(nextDigits, state) {
                    var _this2 = this;

                    // See if the phone number digits can be formatted as a complete phone number.
                    // If not, use the results from `formatNationalNumberWithNextDigits()`,
                    // which formats based on the chosen formatting pattern.
                    //
                    // Attempting to format complete phone number first is how it's done
                    // in Google's `libphonenumber`, so this library just follows it.
                    // Google's `libphonenumber` code doesn't explain in detail why does it
                    // attempt to format digits as a complete phone number
                    // instead of just going with a previoulsy (or newly) chosen `format`:
                    //
                    // "Checks to see if there is an exact pattern match for these digits.
                    //  If so, we should use this instead of any other formatting template
                    //  whose leadingDigitsPattern also matches the input."
                    //
                    if (canFormatCompleteNumber(state.nationalSignificantNumber, this.metadata)) {
                        for (
                            var _iterator = this.matchingFormats,
                                _isArray = Array.isArray(_iterator),
                                _i = 0,
                                _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();
                            ;

                        ) {
                            var _ref3;

                            if (_isArray) {
                                if (_i >= _iterator.length) break;
                                _ref3 = _iterator[_i++];
                            } else {
                                _i = _iterator.next();
                                if (_i.done) break;
                                _ref3 = _i.value;
                            }

                            var format = _ref3;
                            var formattedCompleteNumber = formatCompleteNumber(state, format, {
                                metadata: this.metadata,
                                shouldTryNationalPrefixFormattingRule: function shouldTryNationalPrefixFormattingRule(
                                    format
                                ) {
                                    return _this2.shouldTryNationalPrefixFormattingRule(format, {
                                        international: state.international,
                                        nationalPrefix: state.nationalPrefix,
                                    });
                                },
                                getSeparatorAfterNationalPrefix: this.getSeparatorAfterNationalPrefix,
                            });

                            if (formattedCompleteNumber) {
                                this.resetFormat();
                                this.chosenFormat = format;
                                this.setNationalNumberTemplate(
                                    formattedCompleteNumber.replace(/\d/g, DIGIT_PLACEHOLDER),
                                    state
                                );
                                this.populatedNationalNumberTemplate = formattedCompleteNumber; // With a new formatting template, the matched position
                                // using the old template needs to be reset.

                                this.populatedNationalNumberTemplatePosition =
                                    this.template.lastIndexOf(DIGIT_PLACEHOLDER);
                                return formattedCompleteNumber;
                            }
                        }
                    } // Format the digits as a partial (incomplete) phone number
                    // using the previously chosen formatting pattern (or a newly chosen one).

                    return this.formatNationalNumberWithNextDigits(nextDigits, state);
                }, // Formats the next phone number digits.
            },
            {
                key: "formatNationalNumberWithNextDigits",
                value: function formatNationalNumberWithNextDigits(nextDigits, state) {
                    var previouslyChosenFormat = this.chosenFormat; // Choose a format from the list of matching ones.

                    var newlyChosenFormat = this.chooseFormat(state);

                    if (newlyChosenFormat) {
                        if (newlyChosenFormat === previouslyChosenFormat) {
                            // If it can format the next (current) digits
                            // using the previously chosen phone number format
                            // then return the updated formatted number.
                            return this.formatNextNationalNumberDigits(nextDigits);
                        } else {
                            // If a more appropriate phone number format
                            // has been chosen for these "leading digits",
                            // then re-format the national phone number part
                            // using the newly selected format.
                            return this.formatNextNationalNumberDigits(state.getNationalDigits());
                        }
                    }
                },
            },
            {
                key: "narrowDownMatchingFormats",
                value: function narrowDownMatchingFormats(_ref4) {
                    var _this3 = this;

                    var nationalSignificantNumber = _ref4.nationalSignificantNumber,
                        nationalPrefix = _ref4.nationalPrefix,
                        international = _ref4.international;
                    var leadingDigits = nationalSignificantNumber; // "leading digits" pattern list starts with a
                    // "leading digits" pattern fitting a maximum of 3 leading digits.
                    // So, after a user inputs 3 digits of a national (significant) phone number
                    // this national (significant) number can already be formatted.
                    // The next "leading digits" pattern is for 4 leading digits max,
                    // and the "leading digits" pattern after it is for 5 leading digits max, etc.
                    // This implementation is different from Google's
                    // in that it searches for a fitting format
                    // even if the user has entered less than
                    // `MIN_LEADING_DIGITS_LENGTH` digits of a national number.
                    // Because some leading digit patterns already match for a single first digit.

                    var leadingDigitsPatternIndex = leadingDigits.length - MIN_LEADING_DIGITS_LENGTH;

                    if (leadingDigitsPatternIndex < 0) {
                        leadingDigitsPatternIndex = 0;
                    }

                    this.matchingFormats = this.matchingFormats.filter(function (format) {
                        return (
                            _this3.formatSuits(format, international, nationalPrefix) &&
                            _this3.formatMatches(format, leadingDigits, leadingDigitsPatternIndex)
                        );
                    }); // If there was a phone number format chosen
                    // and it no longer holds given the new leading digits then reset it.
                    // The test for this `if` condition is marked as:
                    // "Reset a chosen format when it no longer holds given the new leading digits".
                    // To construct a valid test case for this one can find a country
                    // in `PhoneNumberMetadata.xml` yielding one format for 3 `<leadingDigits>`
                    // and yielding another format for 4 `<leadingDigits>` (Australia in this case).

                    if (this.chosenFormat && this.matchingFormats.indexOf(this.chosenFormat) === -1) {
                        this.resetFormat();
                    }
                },
            },
            {
                key: "formatSuits",
                value: function formatSuits(format, international, nationalPrefix) {
                    // When a prefix before a national (significant) number is
                    // simply a national prefix, then it's parsed as `this.nationalPrefix`.
                    // In more complex cases, a prefix before national (significant) number
                    // could include a national prefix as well as some "capturing groups",
                    // and in that case there's no info whether a national prefix has been parsed.
                    // If national prefix is not used when formatting a phone number
                    // using this format, but a national prefix has been entered by the user,
                    // and was extracted, then discard such phone number format.
                    // In Google's "AsYouType" formatter code, the equivalent would be this part:
                    // https://github.com/google/libphonenumber/blob/0a45cfd96e71cad8edb0e162a70fcc8bd9728933/java/libphonenumber/src/com/google/i18n/phonenumbers/AsYouTypeFormatter.java#L175-L184
                    if (
                        nationalPrefix &&
                        !format.usesNationalPrefix() && // !format.domesticCarrierCodeFormattingRule() &&
                        !format.nationalPrefixIsOptionalWhenFormattingInNationalFormat()
                    ) {
                        return false;
                    } // If national prefix is mandatory for this phone number format
                    // and there're no guarantees that a national prefix is present in user input
                    // then discard this phone number format as not suitable.
                    // In Google's "AsYouType" formatter code, the equivalent would be this part:
                    // https://github.com/google/libphonenumber/blob/0a45cfd96e71cad8edb0e162a70fcc8bd9728933/java/libphonenumber/src/com/google/i18n/phonenumbers/AsYouTypeFormatter.java#L185-L193

                    if (
                        !international &&
                        !nationalPrefix &&
                        format.nationalPrefixIsMandatoryWhenFormattingInNationalFormat()
                    ) {
                        return false;
                    }

                    return true;
                },
            },
            {
                key: "formatMatches",
                value: function formatMatches(format, leadingDigits, leadingDigitsPatternIndex) {
                    var leadingDigitsPatternsCount = format.leadingDigitsPatterns().length; // If this format is not restricted to a certain
                    // leading digits pattern then it fits.

                    if (leadingDigitsPatternsCount === 0) {
                        return true;
                    } // Start narrowing down the list of possible formats based on the leading digits.
                    // (only previously matched formats take part in the narrowing down process)
                    // `leading_digits_patterns` start with 3 digits min
                    // and then go up from there one digit at a time.

                    leadingDigitsPatternIndex = Math.min(leadingDigitsPatternIndex, leadingDigitsPatternsCount - 1);
                    var leadingDigitsPattern = format.leadingDigitsPatterns()[leadingDigitsPatternIndex]; // Google imposes a requirement on the leading digits
                    // to be minimum 3 digits long in order to be eligible
                    // for checking those with a leading digits pattern.
                    //
                    // Since `leading_digits_patterns` start with 3 digits min,
                    // Google's original `libphonenumber` library only starts
                    // excluding any non-matching formats only when the
                    // national number entered so far is at least 3 digits long,
                    // otherwise format matching would give false negatives.
                    //
                    // For example, when the digits entered so far are `2`
                    // and the leading digits pattern is `21` 
                    // it's quite obvious in this case that the format could be the one
                    // but due to the absence of further digits it would give false negative.
                    //
                    // Also, `leading_digits_patterns` doesn't always correspond to a single
                    // digits count. For example, `60|8` pattern would already match `8`
                    // but the `60` part would require having at least two leading digits,
                    // so the whole pattern would require inputting two digits first in order to
                    // decide on whether it matches the input, even when the input is "80".
                    //
                    // This library  `libphonenumber-js`  allows filtering by `leading_digits_patterns`
                    // even when there's only 1 or 2 digits of the national (significant) number.
                    // To do that, it uses a non-strict pattern matcher written specifically for that.
                    //

                    if (leadingDigits.length < MIN_LEADING_DIGITS_LENGTH) {
                        // Before leading digits < 3 matching was implemented:
                        // return true
                        //
                        // After leading digits < 3 matching was implemented:
                        try {
                            return (
                                new PatternMatcher(leadingDigitsPattern).match(leadingDigits, {
                                    allowOverflow: true,
                                }) !== undefined
                            );
                        } catch (error) {
                            // There's a slight possibility that there could be some undiscovered bug
                            // in the pattern matcher code. Since the "leading digits < 3 matching"
                            // feature is not "essential" for operation, it can fall back to the old way
                            // in case of any issues rather than halting the application's execution.
                            console.error(error);
                            return true;
                        }
                    } // If at least `MIN_LEADING_DIGITS_LENGTH` digits of a national number are
                    // available then use the usual regular expression matching.
                    //
                    // The whole pattern is wrapped in round brackets (`()`) because
                    // the pattern can use "or" operator (`|`) at the top level of the pattern.
                    //

                    return new RegExp("^(".concat(leadingDigitsPattern, ")")).test(leadingDigits);
                },
            },
            {
                key: "getFormatFormat",
                value: function getFormatFormat(format, international) {
                    return international ? format.internationalFormat() : format.format();
                },
            },
            {
                key: "chooseFormat",
                value: function chooseFormat(state) {
                    var _this4 = this;

                    var _loop2 = function _loop2() {
                        if (_isArray2) {
                            if (_i2 >= _iterator2.length) return "break";
                            _ref5 = _iterator2[_i2++];
                        } else {
                            _i2 = _iterator2.next();
                            if (_i2.done) return "break";
                            _ref5 = _i2.value;
                        }

                        var format = _ref5;

                        // If this format is currently being used
                        // and is still suitable, then stick to it.
                        if (_this4.chosenFormat === format) {
                            return "break";
                        } // Sometimes, a formatting rule inserts additional digits in a phone number,
                        // and "as you type" formatter can't do that: it should only use the digits
                        // that the user has input.
                        //
                        // For example, in Argentina, there's a format for mobile phone numbers:
                        //
                        // {
                        //    "pattern": "(\\d)(\\d{2})(\\d{4})(\\d{4})",
                        //    "leading_digits_patterns": ["91"],
                        //    "national_prefix_formatting_rule": "0$1",
                        //    "format": "$2 15-$3-$4",
                        //    "international_format": "$1 $2 $3-$4"
                        // }
                        //
                        // In that format, `international_format` is used instead of `format`
                        // because `format` inserts `15` in the formatted number,
                        // and `AsYouType` formatter should only use the digits
                        // the user has actually input, without adding any extra digits.
                        // In this case, it wouldn't make a difference, because the `15`
                        // is first stripped when applying `national_prefix_for_parsing`
                        // and then re-added when using `format`, so in reality it doesn't
                        // add any new digits to the number, but to detect that, the code
                        // would have to be more complex: it would have to try formatting
                        // the digits using the format and then see if any digits have
                        // actually been added or removed, and then, every time a new digit
                        // is input, it should re-check whether the chosen format doesn't
                        // alter the digits.
                        //
                        // Google's code doesn't go that far, and so does this library:
                        // it simply requires that a `format` doesn't add any additonal
                        // digits to user's input.
                        //
                        // Also, people in general should move from inputting phone numbers
                        // in national format (possibly with national prefixes)
                        // and use international phone number format instead:
                        // it's a logical thing in the modern age of mobile phones,
                        // globalization and the internet.
                        //

                        /* istanbul ignore if */

                        if (!NON_ALTERING_FORMAT_REG_EXP.test(_this4.getFormatFormat(format, state.international))) {
                            return "continue";
                        }

                        if (!_this4.createTemplateForFormat(format, state)) {
                            // Remove the format if it can't generate a template.
                            _this4.matchingFormats = _this4.matchingFormats.filter(function (_) {
                                return _ !== format;
                            });
                            return "continue";
                        }

                        _this4.chosenFormat = format;
                        return "break";
                    };

                    // When there are multiple available formats, the formatter uses the first
                    // format where a formatting template could be created.
                    _loop: for (
                        var _iterator2 = this.matchingFormats.slice(),
                            _isArray2 = Array.isArray(_iterator2),
                            _i2 = 0,
                            _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();
                        ;

                    ) {
                        var _ref5;

                        var _ret = _loop2();

                        switch (_ret) {
                            case "break":
                                break _loop;

                            case "continue":
                                continue;
                        }
                    }

                    if (!this.chosenFormat) {
                        // No format matches the national (significant) phone number.
                        this.resetFormat();
                    }

                    return this.chosenFormat;
                },
            },
            {
                key: "createTemplateForFormat",
                value: function createTemplateForFormat(format, state) {
                    // The formatter doesn't format numbers when numberPattern contains '|', e.g.
                    // (20|3)\d{4}. In those cases we quickly return.
                    // (Though there's no such format in current metadata)

                    /* istanbul ignore if */
                    if (format.pattern().indexOf("|") >= 0) {
                        return;
                    } // Get formatting template for this phone number format

                    var template = this.getTemplateForFormat(format, state); // If the national number entered is too long
                    // for any phone number format, then abort.

                    if (template) {
                        this.setNationalNumberTemplate(template, state);
                        return true;
                    }
                },
            },
            {
                key: "getInternationalPrefixBeforeCountryCallingCode",
                value: function getInternationalPrefixBeforeCountryCallingCode(_ref6, options) {
                    var IDDPrefix = _ref6.IDDPrefix,
                        missingPlus = _ref6.missingPlus;

                    if (IDDPrefix) {
                        return options && options.spacing === false ? IDDPrefix : IDDPrefix + " ";
                    }

                    if (missingPlus) {
                        return "";
                    }

                    return "+";
                },
            },
            {
                key: "getTemplate",
                value: function getTemplate(state) {
                    if (!this.template) {
                        return;
                    } // `this.template` holds the template for a "complete" phone number.
                    // The currently entered phone number is most likely not "complete",
                    // so trim all non-populated digits.

                    var index = -1;
                    var i = 0;
                    var internationalPrefix = state.international
                        ? this.getInternationalPrefixBeforeCountryCallingCode(state, {
                              spacing: false,
                          })
                        : "";

                    while (i < internationalPrefix.length + state.getDigitsWithoutInternationalPrefix().length) {
                        index = this.template.indexOf(DIGIT_PLACEHOLDER, index + 1);
                        i++;
                    }

                    return cutAndStripNonPairedParens(this.template, index + 1);
                },
            },
            {
                key: "setNationalNumberTemplate",
                value: function setNationalNumberTemplate(template, state) {
                    this.nationalNumberTemplate = template;
                    this.populatedNationalNumberTemplate = template; // With a new formatting template, the matched position
                    // using the old template needs to be reset.

                    this.populatedNationalNumberTemplatePosition = -1; // For convenience, the public `.template` property
                    // contains the whole international number
                    // if the phone number being input is international:
                    // 'x' for the '+' sign, 'x'es for the country phone code,
                    // a spacebar and then the template for the formatted national number.

                    if (state.international) {
                        this.template =
                            this.getInternationalPrefixBeforeCountryCallingCode(state).replace(
                                /[\d\+]/g,
                                DIGIT_PLACEHOLDER
                            ) +
                            repeat(DIGIT_PLACEHOLDER, state.callingCode.length) +
                            " " +
                            template;
                    } else {
                        this.template = template;
                    }
                },
                /**
                 * Generates formatting template for a national phone number,
                 * optionally containing a national prefix, for a format.
                 * @param  {Format} format
                 * @param  {string} nationalPrefix
                 * @return {string}
                 */
            },
            {
                key: "getTemplateForFormat",
                value: function getTemplateForFormat(format, _ref7) {
                    var nationalSignificantNumber = _ref7.nationalSignificantNumber,
                        international = _ref7.international,
                        nationalPrefix = _ref7.nationalPrefix,
                        complexPrefixBeforeNationalSignificantNumber =
                            _ref7.complexPrefixBeforeNationalSignificantNumber;
                    var pattern = format.pattern();
                    /* istanbul ignore else */

                    {
                        pattern = pattern // Replace anything in the form of [..] with \d
                            .replace(CREATE_CHARACTER_CLASS_PATTERN(), "\\d") // Replace any standalone digit (not the one in `{}`) with \d
                            .replace(CREATE_STANDALONE_DIGIT_PATTERN(), "\\d");
                    } // Generate a dummy national number (consisting of `9`s)
                    // that fits this format's `pattern`.
                    //
                    // This match will always succeed,
                    // because the "longest dummy phone number"
                    // has enough length to accomodate any possible
                    // national phone number format pattern.
                    //

                    var digits = LONGEST_DUMMY_PHONE_NUMBER.match(pattern)[0]; // If the national number entered is too long
                    // for any phone number format, then abort.

                    if (nationalSignificantNumber.length > digits.length) {
                        return;
                    } // Get a formatting template which can be used to efficiently format
                    // a partial number where digits are added one by one.
                    // Below `strictPattern` is used for the
                    // regular expression (with `^` and `$`).
                    // This wasn't originally in Google's `libphonenumber`
                    // and I guess they don't really need it
                    // because they're not using "templates" to format phone numbers
                    // but I added `strictPattern` after encountering
                    // South Korean phone number formatting bug.
                    //
                    // Non-strict regular expression bug demonstration:
                    //
                    // this.nationalSignificantNumber : `111111111` (9 digits)
                    //
                    // pattern : (\d{2})(\d{3,4})(\d{4})
                    // format : `$1 $2 $3`
                    // digits : `9999999999` (10 digits)
                    //
                    // '9999999999'.replace(new RegExp(/(\d{2})(\d{3,4})(\d{4})/g), '$1 $2 $3') = "99 9999 9999"
                    //
                    // template : xx xxxx xxxx
                    //
                    // But the correct template in this case is `xx xxx xxxx`.
                    // The template was generated incorrectly because of the
                    // `{3,4}` variability in the `pattern`.
                    //
                    // The fix is, if `this.nationalSignificantNumber` has already sufficient length
                    // to satisfy the `pattern` completely then `this.nationalSignificantNumber`
                    // is used instead of `digits`.

                    var strictPattern = new RegExp("^" + pattern + "$");
                    var nationalNumberDummyDigits = nationalSignificantNumber.replace(/\d/g, DUMMY_DIGIT); // If `this.nationalSignificantNumber` has already sufficient length
                    // to satisfy the `pattern` completely then use it
                    // instead of `digits`.

                    if (strictPattern.test(nationalNumberDummyDigits)) {
                        digits = nationalNumberDummyDigits;
                    }

                    var numberFormat = this.getFormatFormat(format, international);
                    var nationalPrefixIncludedInTemplate; // If a user did input a national prefix (and that's guaranteed),
                    // and if a `format` does have a national prefix formatting rule,
                    // then see if that national prefix formatting rule
                    // prepends exactly the same national prefix the user has input.
                    // If that's the case, then use the `format` with the national prefix formatting rule.
                    // Otherwise, use  the `format` without the national prefix formatting rule,
                    // and prepend a national prefix manually to it.

                    if (
                        this.shouldTryNationalPrefixFormattingRule(format, {
                            international: international,
                            nationalPrefix: nationalPrefix,
                        })
                    ) {
                        var numberFormatWithNationalPrefix = numberFormat.replace(
                            FIRST_GROUP_PATTERN,
                            format.nationalPrefixFormattingRule()
                        ); // If `national_prefix_formatting_rule` of a `format` simply prepends
                        // national prefix at the start of a national (significant) number,
                        // then such formatting can be used with `AsYouType` formatter.
                        // There seems to be no `else` case: everywhere in metadata,
                        // national prefix formatting rule is national prefix + $1,
                        // or `($1)`, in which case such format isn't even considered
                        // when the user has input a national prefix.

                        /* istanbul ignore else */

                        if (
                            parseDigits(format.nationalPrefixFormattingRule()) ===
                            (nationalPrefix || "") + parseDigits("$1")
                        ) {
                            numberFormat = numberFormatWithNationalPrefix;
                            nationalPrefixIncludedInTemplate = true; // Replace all digits of the national prefix in the formatting template
                            // with `DIGIT_PLACEHOLDER`s.

                            if (nationalPrefix) {
                                var i = nationalPrefix.length;

                                while (i > 0) {
                                    numberFormat = numberFormat.replace(/\d/, DIGIT_PLACEHOLDER);
                                    i--;
                                }
                            }
                        }
                    } // Generate formatting template for this phone number format.

                    var template = digits // Format the dummy phone number according to the format.
                        .replace(new RegExp(pattern), numberFormat) // Replace each dummy digit with a DIGIT_PLACEHOLDER.
                        .replace(new RegExp(DUMMY_DIGIT, "g"), DIGIT_PLACEHOLDER); // If a prefix of a national (significant) number is not as simple
                    // as just a basic national prefix, then just prepend such prefix
                    // before the national (significant) number, optionally spacing
                    // the two with a whitespace.

                    if (!nationalPrefixIncludedInTemplate) {
                        if (complexPrefixBeforeNationalSignificantNumber) {
                            // Prepend the prefix to the template manually.
                            template =
                                repeat(DIGIT_PLACEHOLDER, complexPrefixBeforeNationalSignificantNumber.length) +
                                " " +
                                template;
                        } else if (nationalPrefix) {
                            // Prepend national prefix to the template manually.
                            template =
                                repeat(DIGIT_PLACEHOLDER, nationalPrefix.length) +
                                this.getSeparatorAfterNationalPrefix(format) +
                                template;
                        }
                    }

                    if (international) {
                        template = applyInternationalSeparatorStyle(template);
                    }

                    return template;
                },
            },
            {
                key: "formatNextNationalNumberDigits",
                value: function formatNextNationalNumberDigits(digits) {
                    var result = populateTemplateWithDigits(
                        this.populatedNationalNumberTemplate,
                        this.populatedNationalNumberTemplatePosition,
                        digits
                    );

                    if (!result) {
                        // Reset the format.
                        this.resetFormat();
                        return;
                    }

                    this.populatedNationalNumberTemplate = result[0];
                    this.populatedNationalNumberTemplatePosition = result[1]; // Return the formatted phone number so far.

                    return cutAndStripNonPairedParens(
                        this.populatedNationalNumberTemplate,
                        this.populatedNationalNumberTemplatePosition + 1
                    ); // The old way which was good for `input-format` but is not so good
                    // for `react-phone-number-input`'s default input (`InputBasic`).
                    // return closeNonPairedParens(this.populatedNationalNumberTemplate, this.populatedNationalNumberTemplatePosition + 1)
                    // 	.replace(new RegExp(DIGIT_PLACEHOLDER, 'g'), ' ')
                },
            },
        ]);

        return AsYouTypeFormatter;
    })();

function _slicedToArray$2(arr, i) {
    return _arrayWithHoles$2(arr) || _iterableToArrayLimit$2(arr, i) || _nonIterableRest$2();
}

function _nonIterableRest$2() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance");
}

function _iterableToArrayLimit$2(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;
    try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
            _arr.push(_s.value);
            if (i && _arr.length === i) break;
        }
    } catch (err) {
        _d = true;
        _e = err;
    } finally {
        try {
            if (!_n && _i["return"] != null) _i["return"]();
        } finally {
            if (_d) throw _e;
        }
    }
    return _arr;
}

function _arrayWithHoles$2(arr) {
    if (Array.isArray(arr)) return arr;
}

function _classCallCheck$3(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _defineProperties$3(target, props) {
    for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
    }
}

function _createClass$3(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties$3(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties$3(Constructor, staticProps);
    return Constructor;
}
var VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART = "[" + VALID_PUNCTUATION + VALID_DIGITS + "]+";
var VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART_PATTERN = new RegExp(
    "^" + VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART + "$",
    "i"
);
var VALID_FORMATTED_PHONE_NUMBER_PART =
    "(?:" +
    "[" +
    PLUS_CHARS +
    "]" +
    "[" +
    VALID_PUNCTUATION +
    VALID_DIGITS +
    "]*" +
    "|" +
    "[" +
    VALID_PUNCTUATION +
    VALID_DIGITS +
    "]+" +
    ")";
var AFTER_PHONE_NUMBER_DIGITS_END_PATTERN = new RegExp("[^" + VALID_PUNCTUATION + VALID_DIGITS + "]+" + ".*" + "$"); // Tests whether `national_prefix_for_parsing` could match
// different national prefixes.
// Matches anything that's not a digit or a square bracket.

var COMPLEX_NATIONAL_PREFIX = /[^\d\[\]]/;

var AsYouTypeParser =
    /*#__PURE__*/
    (function () {
        function AsYouTypeParser(_ref) {
            var defaultCountry = _ref.defaultCountry,
                defaultCallingCode = _ref.defaultCallingCode,
                metadata = _ref.metadata,
                onNationalSignificantNumberChange = _ref.onNationalSignificantNumberChange;

            _classCallCheck$3(this, AsYouTypeParser);

            this.defaultCountry = defaultCountry;
            this.defaultCallingCode = defaultCallingCode;
            this.metadata = metadata;
            this.onNationalSignificantNumberChange = onNationalSignificantNumberChange;
        }

        _createClass$3(AsYouTypeParser, [
            {
                key: "input",
                value: function input(text, state) {
                    var _extractFormattedDigi = extractFormattedDigitsAndPlus(text),
                        _extractFormattedDigi2 = _slicedToArray$2(_extractFormattedDigi, 2),
                        formattedDigits = _extractFormattedDigi2[0],
                        hasPlus = _extractFormattedDigi2[1];

                    var digits = parseDigits(formattedDigits); // Checks for a special case: just a leading `+` has been entered.

                    var justLeadingPlus;

                    if (hasPlus) {
                        if (!state.digits) {
                            state.startInternationalNumber();

                            if (!digits) {
                                justLeadingPlus = true;
                            }
                        }
                    }

                    if (digits) {
                        this.inputDigits(digits, state);
                    }

                    return {
                        digits: digits,
                        justLeadingPlus: justLeadingPlus,
                    };
                },
                /**
                 * Inputs "next" phone number digits.
                 * @param  {string} digits
                 * @return {string} [formattedNumber] Formatted national phone number (if it can be formatted at this stage). Returning `undefined` means "don't format the national phone number at this stage".
                 */
            },
            {
                key: "inputDigits",
                value: function inputDigits(nextDigits, state) {
                    var digits = state.digits;
                    var hasReceivedThreeLeadingDigits = digits.length < 3 && digits.length + nextDigits.length >= 3; // Append phone number digits.

                    state.appendDigits(nextDigits); // Attempt to extract IDD prefix:
                    // Some users input their phone number in international format,
                    // but in an "out-of-country" dialing format instead of using the leading `+`.
                    // https://github.com/catamphetamine/libphonenumber-js/issues/185
                    // Detect such numbers as soon as there're at least 3 digits.
                    // Google's library attempts to extract IDD prefix at 3 digits,
                    // so this library just copies that behavior.
                    // I guess that's because the most commot IDD prefixes are
                    // `00` (Europe) and `011` (US).
                    // There exist really long IDD prefixes too:
                    // for example, in Australia the default IDD prefix is `0011`,
                    // and it could even be as long as `14880011`.
                    // An IDD prefix is extracted here, and then every time when
                    // there's a new digit and the number couldn't be formatted.

                    if (hasReceivedThreeLeadingDigits) {
                        this.extractIddPrefix(state);
                    }

                    if (this.isWaitingForCountryCallingCode(state)) {
                        if (!this.extractCountryCallingCode(state)) {
                            return;
                        }
                    } else {
                        state.appendNationalSignificantNumberDigits(nextDigits);
                    } // If a phone number is being input in international format,
                    // then it's not valid for it to have a national prefix.
                    // Still, some people incorrectly input such numbers with a national prefix.
                    // In such cases, only attempt to strip a national prefix if the number becomes too long.
                    // (but that is done later, not here)

                    if (!state.international) {
                        if (!this.hasExtractedNationalSignificantNumber) {
                            this.extractNationalSignificantNumber(state.getNationalDigits(), state.update);
                        }
                    }
                },
            },
            {
                key: "isWaitingForCountryCallingCode",
                value: function isWaitingForCountryCallingCode(_ref2) {
                    var international = _ref2.international,
                        callingCode = _ref2.callingCode;
                    return international && !callingCode;
                }, // Extracts a country calling code from a number
                // being entered in internatonal format.
            },
            {
                key: "extractCountryCallingCode",
                value: function extractCountryCallingCode$1(state) {
                    var _extractCountryCallin = extractCountryCallingCode(
                            "+" + state.getDigitsWithoutInternationalPrefix(),
                            this.defaultCountry,
                            this.defaultCallingCode,
                            this.metadata.metadata
                        ),
                        countryCallingCode = _extractCountryCallin.countryCallingCode,
                        number = _extractCountryCallin.number;

                    if (countryCallingCode) {
                        state.setCallingCode(countryCallingCode);
                        state.update({
                            nationalSignificantNumber: number,
                        });
                        return true;
                    }
                },
            },
            {
                key: "reset",
                value: function reset(numberingPlan) {
                    if (numberingPlan) {
                        this.hasSelectedNumberingPlan = true;

                        var nationalPrefixForParsing = numberingPlan._nationalPrefixForParsing();

                        this.couldPossiblyExtractAnotherNationalSignificantNumber =
                            nationalPrefixForParsing && COMPLEX_NATIONAL_PREFIX.test(nationalPrefixForParsing);
                    } else {
                        this.hasSelectedNumberingPlan = undefined;
                        this.couldPossiblyExtractAnotherNationalSignificantNumber = undefined;
                    }
                },
                /**
                 * Extracts a national (significant) number from user input.
                 * Google's library is different in that it only applies `national_prefix_for_parsing`
                 * and doesn't apply `national_prefix_transform_rule` after that.
                 * https://github.com/google/libphonenumber/blob/a3d70b0487875475e6ad659af404943211d26456/java/libphonenumber/src/com/google/i18n/phonenumbers/AsYouTypeFormatter.java#L539
                 * @return {boolean} [extracted]
                 */
            },
            {
                key: "extractNationalSignificantNumber",
                value: function extractNationalSignificantNumber(nationalDigits, setState) {
                    if (!this.hasSelectedNumberingPlan) {
                        return;
                    }

                    var _extractNationalNumbe = extractNationalNumberFromPossiblyIncompleteNumber(
                            nationalDigits,
                            this.metadata
                        ),
                        nationalPrefix = _extractNationalNumbe.nationalPrefix,
                        nationalNumber = _extractNationalNumbe.nationalNumber,
                        carrierCode = _extractNationalNumbe.carrierCode;

                    if (nationalNumber === nationalDigits) {
                        return;
                    }

                    this.onExtractedNationalNumber(
                        nationalPrefix,
                        carrierCode,
                        nationalNumber,
                        nationalDigits,
                        setState
                    );
                    return true;
                },
                /**
                 * In Google's code this function is called "attempt to extract longer NDD".
                 * "Some national prefixes are a substring of others", they say.
                 * @return {boolean} [result]  Returns `true` if extracting a national prefix produced different results from what they were.
                 */
            },
            {
                key: "extractAnotherNationalSignificantNumber",
                value: function extractAnotherNationalSignificantNumber(
                    nationalDigits,
                    prevNationalSignificantNumber,
                    setState
                ) {
                    if (!this.hasExtractedNationalSignificantNumber) {
                        return this.extractNationalSignificantNumber(nationalDigits, setState);
                    }

                    if (!this.couldPossiblyExtractAnotherNationalSignificantNumber) {
                        return;
                    }

                    var _extractNationalNumbe2 = extractNationalNumberFromPossiblyIncompleteNumber(
                            nationalDigits,
                            this.metadata
                        ),
                        nationalPrefix = _extractNationalNumbe2.nationalPrefix,
                        nationalNumber = _extractNationalNumbe2.nationalNumber,
                        carrierCode = _extractNationalNumbe2.carrierCode; // If a national prefix has been extracted previously,
                    // then it's always extracted as additional digits are added.
                    // That's assuming `extractNationalNumberFromPossiblyIncompleteNumber()`
                    // doesn't do anything different from what it currently does.
                    // So, just in case, here's this check, though it doesn't occur.

                    /* istanbul ignore if */

                    if (nationalNumber === prevNationalSignificantNumber) {
                        return;
                    }

                    this.onExtractedNationalNumber(
                        nationalPrefix,
                        carrierCode,
                        nationalNumber,
                        nationalDigits,
                        setState
                    );
                    return true;
                },
            },
            {
                key: "onExtractedNationalNumber",
                value: function onExtractedNationalNumber(
                    nationalPrefix,
                    carrierCode,
                    nationalSignificantNumber,
                    nationalDigits,
                    setState
                ) {
                    var complexPrefixBeforeNationalSignificantNumber;
                    var nationalSignificantNumberMatchesInput; // This check also works with empty `this.nationalSignificantNumber`.

                    var nationalSignificantNumberIndex = nationalDigits.lastIndexOf(nationalSignificantNumber); // If the extracted national (significant) number is the
                    // last substring of the `digits`, then it means that it hasn't been altered:
                    // no digits have been removed from the national (significant) number
                    // while applying `national_prefix_transform_rule`.
                    // https://gitlab.com/catamphetamine/libphonenumber-js/-/blob/master/METADATA.md#national_prefix_for_parsing--national_prefix_transform_rule

                    if (
                        nationalSignificantNumberIndex >= 0 &&
                        nationalSignificantNumberIndex === nationalDigits.length - nationalSignificantNumber.length
                    ) {
                        nationalSignificantNumberMatchesInput = true; // If a prefix of a national (significant) number is not as simple
                        // as just a basic national prefix, then such prefix is stored in
                        // `this.complexPrefixBeforeNationalSignificantNumber` property and will be
                        // prepended "as is" to the national (significant) number to produce
                        // a formatted result.

                        var prefixBeforeNationalNumber = nationalDigits.slice(0, nationalSignificantNumberIndex); // `prefixBeforeNationalNumber` is always non-empty,
                        // because `onExtractedNationalNumber()` isn't called
                        // when a national (significant) number hasn't been actually "extracted":
                        // when a national (significant) number is equal to the national part of `digits`,
                        // then `onExtractedNationalNumber()` doesn't get called.

                        if (prefixBeforeNationalNumber !== nationalPrefix) {
                            complexPrefixBeforeNationalSignificantNumber = prefixBeforeNationalNumber;
                        }
                    }

                    setState({
                        nationalPrefix: nationalPrefix,
                        carrierCode: carrierCode,
                        nationalSignificantNumber: nationalSignificantNumber,
                        nationalSignificantNumberMatchesInput: nationalSignificantNumberMatchesInput,
                        complexPrefixBeforeNationalSignificantNumber: complexPrefixBeforeNationalSignificantNumber,
                    }); // `onExtractedNationalNumber()` is only called when
                    // the national (significant) number actually did change.

                    this.hasExtractedNationalSignificantNumber = true;
                    this.onNationalSignificantNumberChange();
                },
            },
            {
                key: "reExtractNationalSignificantNumber",
                value: function reExtractNationalSignificantNumber(state) {
                    // Attempt to extract a national prefix.
                    //
                    // Some people incorrectly input national prefix
                    // in an international phone number.
                    // For example, some people write British phone numbers as `+44(0)...`.
                    //
                    // Also, in some rare cases, it is valid for a national prefix
                    // to be a part of an international phone number.
                    // For example, mobile phone numbers in Mexico are supposed to be
                    // dialled internationally using a `1` national prefix,
                    // so the national prefix will be part of an international number.
                    //
                    // Quote from:
                    // https://www.mexperience.com/dialing-cell-phones-in-mexico/
                    //
                    // "Dialing a Mexican cell phone from abroad
                    // When you are calling a cell phone number in Mexico from outside Mexico,
                    // its necessary to dial an additional 1 after Mexicos country code
                    // (which is 52) and before the area code.
                    // You also ignore the 045, and simply dial the area code and the
                    // cell phones number.
                    //
                    // If you dont add the 1, youll receive a recorded announcement
                    // asking you to redial using it.
                    //
                    // For example, if you are calling from the USA to a cell phone
                    // in Mexico City, you would dial +52  1  55  1234 5678.
                    // (Note that this is different to calling a land line in Mexico City
                    // from abroad, where the number dialed would be +52  55  1234 5678)".
                    //
                    // Google's demo output:
                    // https://libphonenumber.appspot.com/phonenumberparser?number=%2b5215512345678&country=MX
                    //
                    if (
                        this.extractAnotherNationalSignificantNumber(
                            state.getNationalDigits(),
                            state.nationalSignificantNumber,
                            state.update
                        )
                    ) {
                        return true;
                    } // If no format matches the phone number, then it could be
                    // "a really long IDD" (quote from a comment in Google's library).
                    // An IDD prefix is first extracted when the user has entered at least 3 digits,
                    // and then here  every time when there's a new digit and the number
                    // couldn't be formatted.
                    // For example, in Australia the default IDD prefix is `0011`,
                    // and it could even be as long as `14880011`.
                    //
                    // Could also check `!hasReceivedThreeLeadingDigits` here
                    // to filter out the case when this check duplicates the one
                    // already performed when there're 3 leading digits,
                    // but it's not a big deal, and in most cases there
                    // will be a suitable `format` when there're 3 leading digits.
                    //

                    if (this.extractIddPrefix(state)) {
                        this.extractCallingCodeAndNationalSignificantNumber(state);
                        return true;
                    } // Google's AsYouType formatter supports sort of an "autocorrection" feature
                    // when it "autocorrects" numbers that have been input for a country
                    // with that country's calling code.
                    // Such "autocorrection" feature looks weird, but different people have been requesting it:
                    // https://github.com/catamphetamine/libphonenumber-js/issues/376
                    // https://github.com/catamphetamine/libphonenumber-js/issues/375
                    // https://github.com/catamphetamine/libphonenumber-js/issues/316

                    if (this.fixMissingPlus(state)) {
                        this.extractCallingCodeAndNationalSignificantNumber(state);
                        return true;
                    }
                },
            },
            {
                key: "extractIddPrefix",
                value: function extractIddPrefix(state) {
                    // An IDD prefix can't be present in a number written with a `+`.
                    // Also, don't re-extract an IDD prefix if has already been extracted.
                    var international = state.international,
                        IDDPrefix = state.IDDPrefix,
                        digits = state.digits;
                    state.nationalSignificantNumber;

                    if (international || IDDPrefix) {
                        return;
                    } // Some users input their phone number in "out-of-country"
                    // dialing format instead of using the leading `+`.
                    // https://github.com/catamphetamine/libphonenumber-js/issues/185
                    // Detect such numbers.

                    var numberWithoutIDD = stripIddPrefix(
                        digits,
                        this.defaultCountry,
                        this.defaultCallingCode,
                        this.metadata.metadata
                    );

                    if (numberWithoutIDD !== undefined && numberWithoutIDD !== digits) {
                        // If an IDD prefix was stripped then convert the IDD-prefixed number
                        // to international number for subsequent parsing.
                        state.update({
                            IDDPrefix: digits.slice(0, digits.length - numberWithoutIDD.length),
                        });
                        this.startInternationalNumber(state);
                        return true;
                    }
                },
            },
            {
                key: "fixMissingPlus",
                value: function fixMissingPlus(state) {
                    if (!state.international) {
                        var _extractCountryCallin2 = extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(
                                state.digits,
                                this.defaultCountry,
                                this.defaultCallingCode,
                                this.metadata.metadata
                            ),
                            newCallingCode = _extractCountryCallin2.countryCallingCode;
                        _extractCountryCallin2.number;

                        if (newCallingCode) {
                            state.update({
                                missingPlus: true,
                            });
                            this.startInternationalNumber(state);
                            return true;
                        }
                    }
                },
            },
            {
                key: "startInternationalNumber",
                value: function startInternationalNumber(state) {
                    state.startInternationalNumber(); // If a national (significant) number has been extracted before, reset it.

                    if (state.nationalSignificantNumber) {
                        state.resetNationalSignificantNumber();
                        this.onNationalSignificantNumberChange();
                        this.hasExtractedNationalSignificantNumber = undefined;
                    }
                },
            },
            {
                key: "extractCallingCodeAndNationalSignificantNumber",
                value: function extractCallingCodeAndNationalSignificantNumber(state) {
                    if (this.extractCountryCallingCode(state)) {
                        // `this.extractCallingCode()` is currently called when the number
                        // couldn't be formatted during the standard procedure.
                        // Normally, the national prefix would be re-extracted
                        // for an international number if such number couldn't be formatted,
                        // but since it's already not able to be formatted,
                        // there won't be yet another retry, so also extract national prefix here.
                        this.extractNationalSignificantNumber(state.getNationalDigits(), state.update);
                    }
                },
            },
        ]);

        return AsYouTypeParser;
    })();

function extractFormattedPhoneNumber(text) {
    // Attempt to extract a possible number from the string passed in.
    var startsAt = text.search(VALID_FORMATTED_PHONE_NUMBER_PART);

    if (startsAt < 0) {
        return;
    } // Trim everything to the left of the phone number.

    text = text.slice(startsAt); // Trim the `+`.

    var hasPlus;

    if (text[0] === "+") {
        hasPlus = true;
        text = text.slice("+".length);
    } // Trim everything to the right of the phone number.

    text = text.replace(AFTER_PHONE_NUMBER_DIGITS_END_PATTERN, ""); // Re-add the previously trimmed `+`.

    if (hasPlus) {
        text = "+" + text;
    }

    return text;
}
/**
 * Extracts formatted phone number digits (and a `+`) from text (if there're any).
 * @param  {string} text
 * @return {any[]}
 */

function _extractFormattedDigitsAndPlus(text) {
    // Extract a formatted phone number part from text.
    var extractedNumber = extractFormattedPhoneNumber(text) || ""; // Trim a `+`.

    if (extractedNumber[0] === "+") {
        return [extractedNumber.slice("+".length), true];
    }

    return [extractedNumber];
}
/**
 * Extracts formatted phone number digits (and a `+`) from text (if there're any).
 * @param  {string} text
 * @return {any[]}
 */

function extractFormattedDigitsAndPlus(text) {
    var _extractFormattedDigi3 = _extractFormattedDigitsAndPlus(text),
        _extractFormattedDigi4 = _slicedToArray$2(_extractFormattedDigi3, 2),
        formattedDigits = _extractFormattedDigi4[0],
        hasPlus = _extractFormattedDigi4[1]; // If the extracted phone number part
    // can possibly be a part of some valid phone number
    // then parse phone number characters from a formatted phone number.

    if (!VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART_PATTERN.test(formattedDigits)) {
        formattedDigits = "";
    }

    return [formattedDigits, hasPlus];
}

function _typeof$3(obj) {
    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof$3 = function _typeof(obj) {
            return typeof obj;
        };
    } else {
        _typeof$3 = function _typeof(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype
                ? "symbol"
                : typeof obj;
        };
    }
    return _typeof$3(obj);
}

function _slicedToArray$1(arr, i) {
    return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1();
}

function _nonIterableRest$1() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance");
}

function _iterableToArrayLimit$1(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;
    try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
            _arr.push(_s.value);
            if (i && _arr.length === i) break;
        }
    } catch (err) {
        _d = true;
        _e = err;
    } finally {
        try {
            if (!_n && _i["return"] != null) _i["return"]();
        } finally {
            if (_d) throw _e;
        }
    }
    return _arr;
}

function _arrayWithHoles$1(arr) {
    if (Array.isArray(arr)) return arr;
}

function _classCallCheck$2(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _defineProperties$2(target, props) {
    for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
    }
}

function _createClass$2(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties$2(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties$2(Constructor, staticProps);
    return Constructor;
}

var AsYouType =
    /*#__PURE__*/
    (function () {
        /**
         * @param {(string|object)?} [optionsOrDefaultCountry] - The default country used for parsing non-international phone numbers. Can also be an `options` object.
         * @param {Object} metadata
         */
        function AsYouType(optionsOrDefaultCountry, metadata) {
            _classCallCheck$2(this, AsYouType);

            this.metadata = new Metadata(metadata);

            var _this$getCountryAndCa = this.getCountryAndCallingCode(optionsOrDefaultCountry),
                _this$getCountryAndCa2 = _slicedToArray$1(_this$getCountryAndCa, 2),
                defaultCountry = _this$getCountryAndCa2[0],
                defaultCallingCode = _this$getCountryAndCa2[1];

            this.defaultCountry = defaultCountry;
            this.defaultCallingCode = defaultCallingCode;
            this.reset();
        }

        _createClass$2(AsYouType, [
            {
                key: "getCountryAndCallingCode",
                value: function getCountryAndCallingCode(optionsOrDefaultCountry) {
                    // Set `defaultCountry` and `defaultCallingCode` options.
                    var defaultCountry;
                    var defaultCallingCode; // Turns out `null` also has type "object". Weird.

                    if (optionsOrDefaultCountry) {
                        if (_typeof$3(optionsOrDefaultCountry) === "object") {
                            defaultCountry = optionsOrDefaultCountry.defaultCountry;
                            defaultCallingCode = optionsOrDefaultCountry.defaultCallingCode;
                        } else {
                            defaultCountry = optionsOrDefaultCountry;
                        }
                    }

                    if (defaultCountry && !this.metadata.hasCountry(defaultCountry)) {
                        defaultCountry = undefined;
                    }

                    return [defaultCountry, defaultCallingCode];
                },
                /**
                 * Inputs "next" phone number characters.
                 * @param  {string} text
                 * @return {string} Formatted phone number characters that have been input so far.
                 */
            },
            {
                key: "input",
                value: function input(text) {
                    var _this$parser$input = this.parser.input(text, this.state),
                        digits = _this$parser$input.digits,
                        justLeadingPlus = _this$parser$input.justLeadingPlus;

                    if (justLeadingPlus) {
                        this.formattedOutput = "+";
                    } else if (digits) {
                        this.determineTheCountryIfNeeded(); // Match the available formats by the currently available leading digits.

                        if (this.state.nationalSignificantNumber) {
                            this.formatter.narrowDownMatchingFormats(this.state);
                        }

                        var formattedNationalNumber;

                        if (this.metadata.hasSelectedNumberingPlan()) {
                            formattedNationalNumber = this.formatter.format(digits, this.state);
                        }

                        if (formattedNationalNumber === undefined) {
                            // See if another national (significant) number could be re-extracted.
                            if (this.parser.reExtractNationalSignificantNumber(this.state)) {
                                this.determineTheCountryIfNeeded(); // If it could, then re-try formatting the new national (significant) number.

                                var nationalDigits = this.state.getNationalDigits();

                                if (nationalDigits) {
                                    formattedNationalNumber = this.formatter.format(nationalDigits, this.state);
                                }
                            }
                        }

                        this.formattedOutput = formattedNationalNumber
                            ? this.getFullNumber(formattedNationalNumber)
                            : this.getNonFormattedNumber();
                    }

                    return this.formattedOutput;
                },
            },
            {
                key: "reset",
                value: function reset() {
                    var _this = this;

                    this.state = new AsYouTypeState({
                        onCountryChange: function onCountryChange(country) {
                            // Before version `1.6.0`, the official `AsYouType` formatter API
                            // included the `.country` property of an `AsYouType` instance.
                            // Since that property (along with the others) have been moved to
                            // `this.state`, `this.country` property is emulated for compatibility
                            // with the old versions.
                            _this.country = country;
                        },
                        onCallingCodeChange: function onCallingCodeChange(country, callingCode) {
                            _this.metadata.selectNumberingPlan(country, callingCode);

                            _this.formatter.reset(_this.metadata.numberingPlan, _this.state);

                            _this.parser.reset(_this.metadata.numberingPlan);
                        },
                    });
                    this.formatter = new AsYouTypeFormatter({
                        state: this.state,
                        metadata: this.metadata,
                    });
                    this.parser = new AsYouTypeParser({
                        defaultCountry: this.defaultCountry,
                        defaultCallingCode: this.defaultCallingCode,
                        metadata: this.metadata,
                        state: this.state,
                        onNationalSignificantNumberChange: function onNationalSignificantNumberChange() {
                            _this.determineTheCountryIfNeeded();

                            _this.formatter.reset(_this.metadata.numberingPlan, _this.state);
                        },
                    });
                    this.state.reset(this.defaultCountry, this.defaultCallingCode);
                    this.formattedOutput = "";
                    return this;
                },
                /**
                 * Returns `true` if the phone number is being input in international format.
                 * In other words, returns `true` if and only if the parsed phone number starts with a `"+"`.
                 * @return {boolean}
                 */
            },
            {
                key: "isInternational",
                value: function isInternational() {
                    return this.state.international;
                },
                /**
                 * Returns the "country calling code" part of the phone number.
                 * Returns `undefined` if the number is not being input in international format.
                 * Returns "country calling code" for "non-geographic" phone numbering plans too.
                 * @return {string} [callingCode]
                 */
            },
            {
                key: "getCallingCode",
                value: function getCallingCode() {
                    return this.state.callingCode;
                }, // A legacy alias.
            },
            {
                key: "getCountryCallingCode",
                value: function getCountryCallingCode() {
                    return this.getCallingCode();
                },
                /**
                 * Returns a two-letter country code of the phone number.
                 * Returns `undefined` for "non-geographic" phone numbering plans.
                 * Returns `undefined` if no phone number has been input yet.
                 * @return {string} [country]
                 */
            },
            {
                key: "getCountry",
                value: function getCountry() {
                    var _this$state = this.state,
                        digits = _this$state.digits,
                        country = _this$state.country; // If no digits have been input yet,
                    // then `this.country` is the `defaultCountry`.
                    // Won't return the `defaultCountry` in such case.

                    if (!digits) {
                        return;
                    }

                    var countryCode = country;

                    return countryCode;
                },
            },
            {
                key: "determineTheCountryIfNeeded",
                value: function determineTheCountryIfNeeded() {
                    // Suppose a user enters a phone number in international format,
                    // and there're several countries corresponding to that country calling code,
                    // and a country has been derived from the number, and then
                    // a user enters one more digit and the number is no longer
                    // valid for the derived country, so the country should be re-derived
                    // on every new digit in those cases.
                    //
                    // If the phone number is being input in national format,
                    // then it could be a case when `defaultCountry` wasn't specified
                    // when creating `AsYouType` instance, and just `defaultCallingCode` was specified,
                    // and that "calling code" could correspond to a "non-geographic entity",
                    // or there could be several countries corresponding to that country calling code.
                    // In those cases, `this.country` is `undefined` and should be derived
                    // from the number. Again, if country calling code is ambiguous, then
                    // `this.country` should be re-derived with each new digit.
                    //
                    if (!this.state.country || this.isCountryCallingCodeAmbiguous()) {
                        this.determineTheCountry();
                    }
                }, // Prepends `+CountryCode ` in case of an international phone number
            },
            {
                key: "getFullNumber",
                value: function getFullNumber(formattedNationalNumber) {
                    var _this2 = this;

                    if (this.isInternational()) {
                        var prefix = function prefix(text) {
                            return (
                                _this2.formatter.getInternationalPrefixBeforeCountryCallingCode(_this2.state, {
                                    spacing: text ? true : false,
                                }) + text
                            );
                        };

                        var callingCode = this.state.callingCode;

                        if (!callingCode) {
                            return prefix("".concat(this.state.getDigitsWithoutInternationalPrefix()));
                        }

                        if (!formattedNationalNumber) {
                            return prefix(callingCode);
                        }

                        return prefix("".concat(callingCode, " ").concat(formattedNationalNumber));
                    }

                    return formattedNationalNumber;
                },
            },
            {
                key: "getNonFormattedNationalNumberWithPrefix",
                value: function getNonFormattedNationalNumberWithPrefix() {
                    var _this$state2 = this.state,
                        nationalSignificantNumber = _this$state2.nationalSignificantNumber,
                        complexPrefixBeforeNationalSignificantNumber =
                            _this$state2.complexPrefixBeforeNationalSignificantNumber,
                        nationalPrefix = _this$state2.nationalPrefix;
                    var number = nationalSignificantNumber;
                    var prefix = complexPrefixBeforeNationalSignificantNumber || nationalPrefix;

                    if (prefix) {
                        number = prefix + number;
                    }

                    return number;
                },
            },
            {
                key: "getNonFormattedNumber",
                value: function getNonFormattedNumber() {
                    var nationalSignificantNumberMatchesInput = this.state.nationalSignificantNumberMatchesInput;
                    return this.getFullNumber(
                        nationalSignificantNumberMatchesInput
                            ? this.getNonFormattedNationalNumberWithPrefix()
                            : this.state.getNationalDigits()
                    );
                },
            },
            {
                key: "getNonFormattedTemplate",
                value: function getNonFormattedTemplate() {
                    var number = this.getNonFormattedNumber();

                    if (number) {
                        return number.replace(/[\+\d]/g, DIGIT_PLACEHOLDER);
                    }
                },
            },
            {
                key: "isCountryCallingCodeAmbiguous",
                value: function isCountryCallingCodeAmbiguous() {
                    var callingCode = this.state.callingCode;
                    var countryCodes = this.metadata.getCountryCodesForCallingCode(callingCode);
                    return countryCodes && countryCodes.length > 1;
                }, // Determines the country of the phone number
                // entered so far based on the country phone code
                // and the national phone number.
            },
            {
                key: "determineTheCountry",
                value: function determineTheCountry() {
                    this.state.setCountry(
                        getCountryByCallingCode(
                            this.isInternational() ? this.state.callingCode : this.defaultCallingCode,
                            this.state.nationalSignificantNumber,
                            this.metadata
                        )
                    );
                },
                /**
                 * Returns an instance of `PhoneNumber` class.
                 * Will return `undefined` if no national (significant) number
                 * digits have been entered so far, or if no `defaultCountry` has been
                 * set and the user enters a phone number not in international format.
                 */
            },
            {
                key: "getNumber",
                value: function getNumber() {
                    var _this$state3 = this.state,
                        nationalSignificantNumber = _this$state3.nationalSignificantNumber,
                        carrierCode = _this$state3.carrierCode;

                    if (this.isInternational()) {
                        if (!this.state.callingCode) {
                            return;
                        }
                    } else {
                        if (!this.state.country && !this.defaultCallingCode) {
                            return;
                        }
                    }

                    if (!nationalSignificantNumber) {
                        return;
                    }

                    var countryCode = this.getCountry();
                    var callingCode = this.getCountryCallingCode() || this.defaultCallingCode;
                    var phoneNumber = new PhoneNumber(
                        countryCode || callingCode,
                        nationalSignificantNumber,
                        this.metadata.metadata
                    );

                    if (carrierCode) {
                        phoneNumber.carrierCode = carrierCode;
                    } // Phone number extensions are not supported by "As You Type" formatter.

                    return phoneNumber;
                },
                /**
                 * Returns `true` if the phone number is "possible".
                 * Is just a shortcut for `PhoneNumber.isPossible()`.
                 * @return {boolean}
                 */
            },
            {
                key: "isPossible",
                value: function isPossible() {
                    var phoneNumber = this.getNumber();

                    if (!phoneNumber) {
                        return false;
                    }

                    return phoneNumber.isPossible();
                },
                /**
                 * Returns `true` if the phone number is "valid".
                 * Is just a shortcut for `PhoneNumber.isValid()`.
                 * @return {boolean}
                 */
            },
            {
                key: "isValid",
                value: function isValid() {
                    var phoneNumber = this.getNumber();

                    if (!phoneNumber) {
                        return false;
                    }

                    return phoneNumber.isValid();
                },
                /**
                 * @deprecated
                 * This method is used in `react-phone-number-input/source/input-control.js`
                 * in versions before `3.0.16`.
                 */
            },
            {
                key: "getNationalNumber",
                value: function getNationalNumber() {
                    return this.state.nationalSignificantNumber;
                },
                /**
                 * Returns the phone number characters entered by the user.
                 * @return {string}
                 */
            },
            {
                key: "getChars",
                value: function getChars() {
                    return (this.state.international ? "+" : "") + this.state.digits;
                },
                /**
                 * Returns the template for the formatted phone number.
                 * @return {string}
                 */
            },
            {
                key: "getTemplate",
                value: function getTemplate() {
                    return this.formatter.getTemplate(this.state) || this.getNonFormattedTemplate() || "";
                },
            },
        ]);

        return AsYouType;
    })();

function getCountries$1(metadata) {
    return new Metadata(metadata).getCountries();
}

/**
 * Formats a (possibly incomplete) phone number.
 * The phone number can be either in E.164 format
 * or in a form of national number digits.
 * @param {string} value - A possibly incomplete phone number. Either in E.164 format or in a form of national number digits.
 * @param {string?} country - Two-letter ("ISO 3166-1 alpha-2") country code.
 * @return {string} Formatted (possibly incomplete) phone number.
 */

function formatIncompletePhoneNumber$1(value, country, metadata) {
    if (!metadata) {
        metadata = country;
        country = undefined;
    }

    return new AsYouType(country, metadata).input(value);
}

function parsePhoneNumberFromString() {
    return withMetadata(parsePhoneNumberFromString$1, arguments);
}

function formatIncompletePhoneNumber() {
    return withMetadata(formatIncompletePhoneNumber$1, arguments);
}

var version = 4;
var country_calling_codes = {
    1: [
        "US",
        "AG",
        "AI",
        "AS",
        "BB",
        "BM",
        "BS",
        "CA",
        "DM",
        "DO",
        "GD",
        "GU",
        "JM",
        "KN",
        "KY",
        "LC",
        "MP",
        "MS",
        "PR",
        "SX",
        "TC",
        "TT",
        "VC",
        "VG",
        "VI",
    ],
    7: ["RU", "KZ"],
    20: ["EG"],
    27: ["ZA"],
    30: ["GR"],
    31: ["NL"],
    32: ["BE"],
    33: ["FR"],
    34: ["ES"],
    36: ["HU"],
    39: ["IT", "VA"],
    40: ["RO"],
    41: ["CH"],
    43: ["AT"],
    44: ["GB", "GG", "IM", "JE"],
    45: ["DK"],
    46: ["SE"],
    47: ["NO", "SJ"],
    48: ["PL"],
    49: ["DE"],
    51: ["PE"],
    52: ["MX"],
    53: ["CU"],
    54: ["AR"],
    55: ["BR"],
    56: ["CL"],
    57: ["CO"],
    58: ["VE"],
    60: ["MY"],
    61: ["AU", "CC", "CX"],
    62: ["ID"],
    63: ["PH"],
    64: ["NZ"],
    65: ["SG"],
    66: ["TH"],
    81: ["JP"],
    82: ["KR"],
    84: ["VN"],
    86: ["CN"],
    90: ["TR"],
    91: ["IN"],
    92: ["PK"],
    93: ["AF"],
    94: ["LK"],
    95: ["MM"],
    98: ["IR"],
    211: ["SS"],
    212: ["MA", "EH"],
    213: ["DZ"],
    216: ["TN"],
    218: ["LY"],
    220: ["GM"],
    221: ["SN"],
    222: ["MR"],
    223: ["ML"],
    224: ["GN"],
    225: ["CI"],
    226: ["BF"],
    227: ["NE"],
    228: ["TG"],
    229: ["BJ"],
    230: ["MU"],
    231: ["LR"],
    232: ["SL"],
    233: ["GH"],
    234: ["NG"],
    235: ["TD"],
    236: ["CF"],
    237: ["CM"],
    238: ["CV"],
    239: ["ST"],
    240: ["GQ"],
    241: ["GA"],
    242: ["CG"],
    243: ["CD"],
    244: ["AO"],
    245: ["GW"],
    246: ["IO"],
    247: ["AC"],
    248: ["SC"],
    249: ["SD"],
    250: ["RW"],
    251: ["ET"],
    252: ["SO"],
    253: ["DJ"],
    254: ["KE"],
    255: ["TZ"],
    256: ["UG"],
    257: ["BI"],
    258: ["MZ"],
    260: ["ZM"],
    261: ["MG"],
    262: ["RE", "YT"],
    263: ["ZW"],
    264: ["NA"],
    265: ["MW"],
    266: ["LS"],
    267: ["BW"],
    268: ["SZ"],
    269: ["KM"],
    290: ["SH", "TA"],
    291: ["ER"],
    297: ["AW"],
    298: ["FO"],
    299: ["GL"],
    350: ["GI"],
    351: ["PT"],
    352: ["LU"],
    353: ["IE"],
    354: ["IS"],
    355: ["AL"],
    356: ["MT"],
    357: ["CY"],
    358: ["FI", "AX"],
    359: ["BG"],
    370: ["LT"],
    371: ["LV"],
    372: ["EE"],
    373: ["MD"],
    374: ["AM"],
    375: ["BY"],
    376: ["AD"],
    377: ["MC"],
    378: ["SM"],
    380: ["UA"],
    381: ["RS"],
    382: ["ME"],
    383: ["XK"],
    385: ["HR"],
    386: ["SI"],
    387: ["BA"],
    389: ["MK"],
    420: ["CZ"],
    421: ["SK"],
    423: ["LI"],
    500: ["FK"],
    501: ["BZ"],
    502: ["GT"],
    503: ["SV"],
    504: ["HN"],
    505: ["NI"],
    506: ["CR"],
    507: ["PA"],
    508: ["PM"],
    509: ["HT"],
    590: ["GP", "BL", "MF"],
    591: ["BO"],
    592: ["GY"],
    593: ["EC"],
    594: ["GF"],
    595: ["PY"],
    596: ["MQ"],
    597: ["SR"],
    598: ["UY"],
    599: ["CW", "BQ"],
    670: ["TL"],
    672: ["NF"],
    673: ["BN"],
    674: ["NR"],
    675: ["PG"],
    676: ["TO"],
    677: ["SB"],
    678: ["VU"],
    679: ["FJ"],
    680: ["PW"],
    681: ["WF"],
    682: ["CK"],
    683: ["NU"],
    685: ["WS"],
    686: ["KI"],
    687: ["NC"],
    688: ["TV"],
    689: ["PF"],
    690: ["TK"],
    691: ["FM"],
    692: ["MH"],
    850: ["KP"],
    852: ["HK"],
    853: ["MO"],
    855: ["KH"],
    856: ["LA"],
    880: ["BD"],
    886: ["TW"],
    960: ["MV"],
    961: ["LB"],
    962: ["JO"],
    963: ["SY"],
    964: ["IQ"],
    965: ["KW"],
    966: ["SA"],
    967: ["YE"],
    968: ["OM"],
    970: ["PS"],
    971: ["AE"],
    972: ["IL"],
    973: ["BH"],
    974: ["QA"],
    975: ["BT"],
    976: ["MN"],
    977: ["NP"],
    992: ["TJ"],
    993: ["TM"],
    994: ["AZ"],
    995: ["GE"],
    996: ["KG"],
    998: ["UZ"],
};
var countries = {
    AC: ["247", "00", "(?:[01589]\\d|[46])\\d{4}", [5, 6]],
    AD: [
        "376",
        "00",
        "(?:1|6\\d)\\d{7}|[135-9]\\d{5}",
        [6, 8, 9],
        [
            ["(\\d{3})(\\d{3})", "$1 $2", ["[135-9]"]],
            ["(\\d{4})(\\d{4})", "$1 $2", ["1"]],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["6"]],
        ],
    ],
    AE: [
        "971",
        "00",
        "(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",
        [5, 6, 7, 8, 9, 10, 11, 12],
        [
            ["(\\d{3})(\\d{2,9})", "$1 $2", ["60|8"]],
            ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["[236]|[479][2-8]"], "0$1"],
            ["(\\d{3})(\\d)(\\d{5})", "$1 $2 $3", ["[479]"]],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["5"], "0$1"],
        ],
        "0",
    ],
    AF: ["93", "00", "[2-7]\\d{8}", [9], [["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[2-7]"], "0$1"]], "0"],
    AG: ["1", "011", "(?:268|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([457]\\d{6})$", "268$1", 0, "268"],
    AI: ["1", "011", "(?:264|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2457]\\d{6})$", "264$1", 0, "264"],
    AL: [
        "355",
        "00",
        "(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",
        [6, 7, 8, 9],
        [
            ["(\\d{3})(\\d{3,4})", "$1 $2", ["80|9"], "0$1"],
            ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["4[2-6]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2358][2-5]|4"], "0$1"],
            ["(\\d{3})(\\d{5})", "$1 $2", ["[23578]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["6"], "0$1"],
        ],
        "0",
    ],
    AM: [
        "374",
        "00",
        "(?:[1-489]\\d|55|60|77)\\d{6}",
        [8],
        [
            ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["[89]0"], "0 $1"],
            ["(\\d{3})(\\d{5})", "$1 $2", ["2|3[12]"], "(0$1)"],
            ["(\\d{2})(\\d{6})", "$1 $2", ["1|47"], "(0$1)"],
            ["(\\d{2})(\\d{6})", "$1 $2", ["[3-9]"], "0$1"],
        ],
        "0",
    ],
    AO: ["244", "00", "[29]\\d{8}", [9], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[29]"]]]],
    AR: [
        "54",
        "00",
        "(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",
        [10, 11],
        [
            [
                "(\\d{4})(\\d{2})(\\d{4})",
                "$1 $2-$3",
                [
                    "2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])",
                    "2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)",
                    "2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]",
                    "2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]",
                ],
                "0$1",
                1,
            ],
            ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2-$3", ["1"], "0$1", 1],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1-$2-$3", ["[68]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2-$3", ["[23]"], "0$1", 1],
            [
                "(\\d)(\\d{4})(\\d{2})(\\d{4})",
                "$2 15-$3-$4",
                [
                    "9(?:2[2-469]|3[3-578])",
                    "9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))",
                    "9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)",
                    "9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]",
                    "9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]",
                ],
                "0$1",
                0,
                "$1 $2 $3-$4",
            ],
            ["(\\d)(\\d{2})(\\d{4})(\\d{4})", "$2 15-$3-$4", ["91"], "0$1", 0, "$1 $2 $3-$4"],
            ["(\\d{3})(\\d{3})(\\d{5})", "$1-$2-$3", ["8"], "0$1"],
            ["(\\d)(\\d{3})(\\d{3})(\\d{4})", "$2 15-$3-$4", ["9"], "0$1", 0, "$1 $2 $3-$4"],
        ],
        "0",
        0,
        "0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?",
        "9$1",
    ],
    AS: ["1", "011", "(?:[58]\\d\\d|684|900)\\d{7}", [10], 0, "1", 0, "1|([267]\\d{6})$", "684$1", 0, "684"],
    AT: [
        "43",
        "00",
        "1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",
        [4, 5, 6, 7, 8, 9, 10, 11, 12, 13],
        [
            ["(\\d)(\\d{3,12})", "$1 $2", ["1(?:11|[2-9])"], "0$1"],
            ["(\\d{3})(\\d{2})", "$1 $2", ["517"], "0$1"],
            ["(\\d{2})(\\d{3,5})", "$1 $2", ["5[079]"], "0$1"],
            ["(\\d{3})(\\d{3,10})", "$1 $2", ["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"], "0$1"],
            ["(\\d{4})(\\d{3,9})", "$1 $2", ["[2-467]|5[2-6]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["5"], "0$1"],
            ["(\\d{2})(\\d{4})(\\d{4,7})", "$1 $2 $3", ["5"], "0$1"],
        ],
        "0",
    ],
    AU: [
        "61",
        "001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011",
        "1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",
        [5, 6, 7, 8, 9, 10, 12],
        [
            ["(\\d{2})(\\d{3,4})", "$1 $2", ["16"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{2,4})", "$1 $2 $3", ["16"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["14|4"], "0$1"],
            ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["[2378]"], "(0$1)"],
            ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1(?:30|[89])"]],
        ],
        "0",
        0,
        "0|(183[12])",
        0,
        0,
        0,
        [
            [
                "(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8]))\\d{3}|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4]))|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",
                [9],
            ],
            [
                "4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",
                [9],
            ],
            ["180(?:0\\d{3}|2)\\d{3}", [7, 10]],
            ["190[0-26]\\d{6}", [10]],
            0,
            0,
            0,
            ["163\\d{2,6}", [5, 6, 7, 8, 9]],
            ["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}", [9]],
            ["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}", [6, 8, 10, 12]],
        ],
        "0011",
    ],
    AW: ["297", "00", "(?:[25-79]\\d\\d|800)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[25-9]"]]]],
    AX: [
        "358",
        "00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))",
        "2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",
        [5, 6, 7, 8, 9, 10, 11, 12],
        0,
        "0",
        0,
        0,
        0,
        0,
        "18",
        0,
        "00",
    ],
    AZ: [
        "994",
        "00",
        "365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",
        [9],
        [
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["90"], "0$1"],
            [
                "(\\d{2})(\\d{3})(\\d{2})(\\d{2})",
                "$1 $2 $3 $4",
                ["1[28]|2|365|46", "1[28]|2|365[45]|46", "1[28]|2|365(?:4|5[02])|46"],
                "(0$1)",
            ],
            ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[13-9]"], "0$1"],
        ],
        "0",
    ],
    BA: [
        "387",
        "00",
        "6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",
        [8, 9],
        [
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["6[1-3]|[7-9]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2-$3", ["[3-5]|6[56]"], "0$1"],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3 $4", ["6"], "0$1"],
        ],
        "0",
    ],
    BB: ["1", "011", "(?:246|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-9]\\d{6})$", "246$1", 0, "246"],
    BD: [
        "880",
        "00",
        "[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",
        [6, 7, 8, 9, 10],
        [
            ["(\\d{2})(\\d{4,6})", "$1-$2", ["31[5-8]|[459]1"], "0$1"],
            [
                "(\\d{3})(\\d{3,7})",
                "$1-$2",
                [
                    "3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:28|4[14]|5)|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]",
                ],
                "0$1",
            ],
            ["(\\d{4})(\\d{3,6})", "$1-$2", ["[13-9]|22"], "0$1"],
            ["(\\d)(\\d{7,8})", "$1-$2", ["2"], "0$1"],
        ],
        "0",
    ],
    BE: [
        "32",
        "00",
        "4\\d{8}|[1-9]\\d{7}",
        [8, 9],
        [
            ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["(?:80|9)0"], "0$1"],
            ["(\\d)(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[239]|4[23]"], "0$1"],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[15-8]"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["4"], "0$1"],
        ],
        "0",
    ],
    BF: ["226", "00", "[025-7]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[025-7]"]]]],
    BG: [
        "359",
        "00",
        "[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",
        [6, 7, 8, 9],
        [
            ["(\\d)(\\d)(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["2"], "0$1"],
            ["(\\d{3})(\\d{4})", "$1 $2", ["43[1-6]|70[1-9]"], "0$1"],
            ["(\\d)(\\d{3})(\\d{3,4})", "$1 $2 $3", ["2"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{2,3})", "$1 $2 $3", ["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["(?:70|8)0"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{2})", "$1 $2 $3", ["43[1-7]|7"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[48]|9[08]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["9"], "0$1"],
        ],
        "0",
    ],
    BH: ["973", "00", "[136-9]\\d{7}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[13679]|8[047]"]]]],
    BI: ["257", "00", "(?:[267]\\d|31)\\d{6}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2367]"]]]],
    BJ: ["229", "00", "[25689]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[25689]"]]]],
    BL: [
        "590",
        "00",
        "(?:590|(?:69|80)\\d|976)\\d{6}",
        [9],
        0,
        "0",
        0,
        0,
        0,
        0,
        0,
        [
            ["590(?:2[7-9]|5[12]|87)\\d{4}"],
            ["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],
            ["80[0-5]\\d{6}"],
            0,
            0,
            0,
            0,
            0,
            ["976[01]\\d{5}"],
        ],
    ],
    BM: ["1", "011", "(?:441|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-8]\\d{6})$", "441$1", 0, "441"],
    BN: ["673", "00", "[2-578]\\d{6}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[2-578]"]]]],
    BO: [
        "591",
        "00(?:1\\d)?",
        "(?:[2-467]\\d\\d|8001)\\d{5}",
        [8, 9],
        [
            ["(\\d)(\\d{7})", "$1 $2", ["[23]|4[46]"]],
            ["(\\d{8})", "$1", ["[67]"]],
            ["(\\d{3})(\\d{2})(\\d{4})", "$1 $2 $3", ["8"]],
        ],
        "0",
        0,
        "0(1\\d)?",
    ],
    BQ: ["599", "00", "(?:[34]1|7\\d)\\d{5}", [7], 0, 0, 0, 0, 0, 0, "[347]"],
    BR: [
        "55",
        "00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)",
        "(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-24679]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",
        [8, 9, 10, 11],
        [
            ["(\\d{4})(\\d{4})", "$1-$2", ["300|4(?:0[02]|37)", "4(?:02|37)0|[34]00"]],
            ["(\\d{3})(\\d{2,3})(\\d{4})", "$1 $2 $3", ["(?:[358]|90)0"], "0$1"],
            [
                "(\\d{2})(\\d{4})(\\d{4})",
                "$1 $2-$3",
                ["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],
                "($1)",
            ],
            ["(\\d{2})(\\d{5})(\\d{4})", "$1 $2-$3", ["[16][1-9]|[2-57-9]"], "($1)"],
        ],
        "0",
        0,
        "(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?",
        "$2",
    ],
    BS: ["1", "011", "(?:242|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([3-8]\\d{6})$", "242$1", 0, "242"],
    BT: [
        "975",
        "00",
        "[17]\\d{7}|[2-8]\\d{6}",
        [7, 8],
        [
            ["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-68]|7[246]"]],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["1[67]|7"]],
        ],
    ],
    BW: [
        "267",
        "00",
        "(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",
        [7, 8, 10],
        [
            ["(\\d{2})(\\d{5})", "$1 $2", ["90"]],
            ["(\\d{3})(\\d{4})", "$1 $2", ["[24-6]|3[15-79]"]],
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[37]"]],
            ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["0"]],
            ["(\\d{3})(\\d{4})(\\d{3})", "$1 $2 $3", ["8"]],
        ],
    ],
    BY: [
        "375",
        "810",
        "(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",
        [6, 7, 8, 9, 10, 11],
        [
            ["(\\d{3})(\\d{3})", "$1 $2", ["800"], "8 $1"],
            ["(\\d{3})(\\d{2})(\\d{2,4})", "$1 $2 $3", ["800"], "8 $1"],
            [
                "(\\d{4})(\\d{2})(\\d{3})",
                "$1 $2-$3",
                [
                    "1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])",
                    "1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])",
                ],
                "8 0$1",
            ],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["1(?:[56]|7[467])|2[1-3]"], "8 0$1"],
            ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["[1-4]"], "8 0$1"],
            ["(\\d{3})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["[89]"], "8 $1"],
        ],
        "8",
        0,
        "0|80?",
        0,
        0,
        0,
        0,
        "8~10",
    ],
    BZ: [
        "501",
        "00",
        "(?:0800\\d|[2-8])\\d{6}",
        [7, 11],
        [
            ["(\\d{3})(\\d{4})", "$1-$2", ["[2-8]"]],
            ["(\\d)(\\d{3})(\\d{4})(\\d{3})", "$1-$2-$3-$4", ["0"]],
        ],
    ],
    CA: [
        "1",
        "011",
        "(?:[2-8]\\d|90)\\d{8}",
        [10],
        0,
        "1",
        0,
        0,
        0,
        0,
        0,
        [
            [
                "(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|6[578])|4(?:03|1[68]|3[178]|50|74)|5(?:06|1[49]|48|79|8[17])|6(?:04|13|39|47|72)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",
            ],
            [""],
            ["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],
            ["900[2-9]\\d{6}"],
            [
                "52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:00|2[12]|33|44|66|77|88)|622)[2-9]\\d{6}",
            ],
            0,
            0,
            0,
            ["600[2-9]\\d{6}"],
        ],
    ],
    CC: [
        "61",
        "001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011",
        "1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",
        [6, 7, 8, 9, 10, 12],
        0,
        "0",
        0,
        "0|([59]\\d{7})$",
        "8$1",
        0,
        0,
        [
            [
                "8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",
                [9],
            ],
            [
                "4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",
                [9],
            ],
            ["180(?:0\\d{3}|2)\\d{3}", [7, 10]],
            ["190[0-26]\\d{6}", [10]],
            0,
            0,
            0,
            0,
            ["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}", [9]],
            ["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}", [6, 8, 10, 12]],
        ],
        "0011",
    ],
    CD: [
        "243",
        "00",
        "[189]\\d{8}|[1-68]\\d{6}",
        [7, 9],
        [
            ["(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3", ["88"], "0$1"],
            ["(\\d{2})(\\d{5})", "$1 $2", ["[1-6]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[89]"], "0$1"],
        ],
        "0",
    ],
    CF: [
        "236",
        "00",
        "(?:[27]\\d{3}|8776)\\d{4}",
        [8],
        [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[278]"]]],
    ],
    CG: [
        "242",
        "00",
        "(?:0\\d\\d|222|800)\\d{6}",
        [9],
        [
            ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["8"]],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[02]"]],
        ],
    ],
    CH: [
        "41",
        "00",
        "8\\d{11}|[2-9]\\d{8}",
        [9],
        [
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8[047]|90"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-79]|81"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4 $5", ["8"], "0$1"],
        ],
        "0",
    ],
    CI: [
        "225",
        "00",
        "[02]\\d{9}",
        [10],
        [
            ["(\\d{2})(\\d{2})(\\d)(\\d{5})", "$1 $2 $3 $4", ["2"]],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3 $4", ["0"]],
        ],
    ],
    CK: ["682", "00", "[2-578]\\d{4}", [5], [["(\\d{2})(\\d{3})", "$1 $2", ["[2-578]"]]]],
    CL: [
        "56",
        "(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0",
        "12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",
        [9, 10, 11],
        [
            ["(\\d{5})(\\d{4})", "$1 $2", ["219", "2196"], "($1)"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["44"]],
            ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["2[1-3]"], "($1)"],
            ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["9[2-9]"]],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"], "($1)"],
            ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["60|8"]],
            ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"]],
            ["(\\d{3})(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3 $4", ["60"]],
        ],
    ],
    CM: [
        "237",
        "00",
        "[26]\\d{8}|88\\d{6,7}",
        [8, 9],
        [
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["88"]],
            ["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4 $5", ["[26]|88"]],
        ],
    ],
    CN: [
        "86",
        "00|1(?:[12]\\d|79)\\d\\d00",
        "1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",
        [7, 8, 9, 10, 11, 12],
        [
            [
                "(\\d{2})(\\d{5,6})",
                "$1 $2",
                ["(?:10|2[0-57-9])[19]", "(?:10|2[0-57-9])(?:10|9[56])", "(?:10|2[0-57-9])(?:100|9[56])"],
                "0$1",
            ],
            [
                "(\\d{3})(\\d{5,6})",
                "$1 $2",
                [
                    "3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]",
                    "(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]",
                    "85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])",
                    "85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])",
                ],
                "0$1",
            ],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["(?:4|80)0"]],
            [
                "(\\d{2})(\\d{4})(\\d{4})",
                "$1 $2 $3",
                [
                    "10|2(?:[02-57-9]|1[1-9])",
                    "10|2(?:[02-57-9]|1[1-9])",
                    "10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])",
                ],
                "0$1",
                1,
            ],
            [
                "(\\d{3})(\\d{3})(\\d{4})",
                "$1 $2 $3",
                [
                    "3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]",
                ],
                "0$1",
                1,
            ],
            ["(\\d{3})(\\d{7,8})", "$1 $2", ["9"]],
            ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["80"], "0$1", 1],
            ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["[3-578]"], "0$1", 1],
            ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["1[3-9]"]],
            ["(\\d{2})(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3 $4", ["[12]"], "0$1", 1],
        ],
        "0",
        0,
        "0|(1(?:[12]\\d|79)\\d\\d)",
        0,
        0,
        0,
        0,
        "00",
    ],
    CO: [
        "57",
        "00(?:4(?:[14]4|56)|[579])",
        "(?:(?:1\\d|[36])\\d{3}|9101)\\d{6}|[124-8]\\d{7}",
        [8, 10, 11],
        [
            ["(\\d)(\\d{7})", "$1 $2", ["[146][2-9]|[2578]"], "($1)"],
            ["(\\d{3})(\\d{7})", "$1 $2", ["6"], "($1)"],
            ["(\\d{3})(\\d{7})", "$1 $2", ["[39]"]],
            ["(\\d)(\\d{3})(\\d{7})", "$1-$2-$3", ["1"], "0$1", 0, "$1 $2 $3"],
        ],
        "0",
        0,
        "0([3579]|4(?:[14]4|56))?",
    ],
    CR: [
        "506",
        "00",
        "(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",
        [8, 10],
        [
            ["(\\d{4})(\\d{4})", "$1 $2", ["[2-7]|8[3-9]"]],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1-$2-$3", ["[89]"]],
        ],
        0,
        0,
        "(19(?:0[0-2468]|1[09]|20|66|77|99))",
    ],
    CU: [
        "53",
        "119",
        "[27]\\d{6,7}|[34]\\d{5,7}|(?:5|8\\d\\d)\\d{7}",
        [6, 7, 8, 10],
        [
            ["(\\d{2})(\\d{4,6})", "$1 $2", ["2[1-4]|[34]"], "(0$1)"],
            ["(\\d)(\\d{6,7})", "$1 $2", ["7"], "(0$1)"],
            ["(\\d)(\\d{7})", "$1 $2", ["5"], "0$1"],
            ["(\\d{3})(\\d{7})", "$1 $2", ["8"], "0$1"],
        ],
        "0",
    ],
    CV: ["238", "0", "(?:[2-59]\\d\\d|800)\\d{4}", [7], [["(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3", ["[2-589]"]]]],
    CW: [
        "599",
        "00",
        "(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",
        [7, 8],
        [
            ["(\\d{3})(\\d{4})", "$1 $2", ["[3467]"]],
            ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["9[4-8]"]],
        ],
        0,
        0,
        0,
        0,
        0,
        "[69]",
    ],
    CX: [
        "61",
        "001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011",
        "1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",
        [6, 7, 8, 9, 10, 12],
        0,
        "0",
        0,
        "0|([59]\\d{7})$",
        "8$1",
        0,
        0,
        [
            [
                "8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",
                [9],
            ],
            [
                "4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",
                [9],
            ],
            ["180(?:0\\d{3}|2)\\d{3}", [7, 10]],
            ["190[0-26]\\d{6}", [10]],
            0,
            0,
            0,
            0,
            ["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}", [9]],
            ["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}", [6, 8, 10, 12]],
        ],
        "0011",
    ],
    CY: ["357", "00", "(?:[279]\\d|[58]0)\\d{6}", [8], [["(\\d{2})(\\d{6})", "$1 $2", ["[257-9]"]]]],
    CZ: [
        "420",
        "00",
        "(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",
        [9],
        [
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-8]|9[015-7]"]],
            ["(\\d{2})(\\d{3})(\\d{3})(\\d{2})", "$1 $2 $3 $4", ["96"]],
            ["(\\d{2})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["9"]],
            ["(\\d{3})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["9"]],
        ],
    ],
    DE: [
        "49",
        "00",
        "[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:1\\d|2[02-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[05]\\d|[23]1|[46][1-8])\\d{1,9}",
        [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],
        [
            ["(\\d{2})(\\d{3,13})", "$1 $2", ["3[02]|40|[68]9"], "0$1"],
            [
                "(\\d{3})(\\d{3,12})",
                "$1 $2",
                [
                    "2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1",
                    "2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1",
                ],
                "0$1",
            ],
            [
                "(\\d{4})(\\d{2,11})",
                "$1 $2",
                [
                    "[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]",
                    "[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]",
                ],
                "0$1",
            ],
            ["(\\d{3})(\\d{4})", "$1 $2", ["138"], "0$1"],
            ["(\\d{5})(\\d{2,10})", "$1 $2", ["3"], "0$1"],
            ["(\\d{3})(\\d{5,11})", "$1 $2", ["181"], "0$1"],
            ["(\\d{3})(\\d)(\\d{4,10})", "$1 $2 $3", ["1(?:3|80)|9"], "0$1"],
            ["(\\d{3})(\\d{7,8})", "$1 $2", ["1[67]"], "0$1"],
            ["(\\d{3})(\\d{7,12})", "$1 $2", ["8"], "0$1"],
            ["(\\d{5})(\\d{6})", "$1 $2", ["185", "1850", "18500"], "0$1"],
            ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["7"], "0$1"],
            ["(\\d{4})(\\d{7})", "$1 $2", ["18[68]"], "0$1"],
            ["(\\d{5})(\\d{6})", "$1 $2", ["15[0568]"], "0$1"],
            ["(\\d{4})(\\d{7})", "$1 $2", ["15[1279]"], "0$1"],
            ["(\\d{3})(\\d{8})", "$1 $2", ["18"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{7,8})", "$1 $2 $3", ["1(?:6[023]|7)"], "0$1"],
            ["(\\d{4})(\\d{2})(\\d{7})", "$1 $2 $3", ["15[279]"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{8})", "$1 $2 $3", ["15"], "0$1"],
        ],
        "0",
    ],
    DJ: ["253", "00", "(?:2\\d|77)\\d{6}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[27]"]]]],
    DK: ["45", "00", "[2-9]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-9]"]]]],
    DM: ["1", "011", "(?:[58]\\d\\d|767|900)\\d{7}", [10], 0, "1", 0, "1|([2-7]\\d{6})$", "767$1", 0, "767"],
    DO: ["1", "011", "(?:[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, 0, 0, 0, "8001|8[024]9"],
    DZ: [
        "213",
        "00",
        "(?:[1-4]|[5-79]\\d|80)\\d{7}",
        [8, 9],
        [
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[1-4]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["9"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[5-8]"], "0$1"],
        ],
        "0",
    ],
    EC: [
        "593",
        "00",
        "1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",
        [8, 9, 10, 11],
        [
            ["(\\d)(\\d{3})(\\d{4})", "$1 $2-$3", ["[2-7]"], "(0$1)", 0, "$1-$2-$3"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["9"], "0$1"],
            ["(\\d{4})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["1"]],
        ],
        "0",
    ],
    EE: [
        "372",
        "00",
        "8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",
        [7, 8, 10],
        [
            [
                "(\\d{3})(\\d{4})",
                "$1 $2",
                [
                    "[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88",
                    "[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88",
                ],
            ],
            ["(\\d{4})(\\d{3,4})", "$1 $2", ["[45]|8(?:00|[1-49])", "[45]|8(?:00[1-9]|[1-49])"]],
            ["(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3", ["7"]],
            ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"]],
        ],
    ],
    EG: [
        "20",
        "00",
        "[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",
        [8, 9, 10],
        [
            ["(\\d)(\\d{7,8})", "$1 $2", ["[23]"], "0$1"],
            ["(\\d{2})(\\d{6,7})", "$1 $2", ["1[35]|[4-6]|8[2468]|9[235-7]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[189]"], "0$1"],
        ],
        "0",
    ],
    EH: ["212", "00", "[5-8]\\d{8}", [9], 0, "0", 0, 0, 0, 0, "528[89]"],
    ER: ["291", "00", "[178]\\d{6}", [7], [["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[178]"], "0$1"]], "0"],
    ES: [
        "34",
        "00",
        "[5-9]\\d{8}",
        [9],
        [
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[89]00"]],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[5-9]"]],
        ],
    ],
    ET: [
        "251",
        "00",
        "(?:11|[2-59]\\d)\\d{7}",
        [9],
        [["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[1-59]"], "0$1"]],
        "0",
    ],
    FI: [
        "358",
        "00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))",
        "[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",
        [5, 6, 7, 8, 9, 10, 11, 12],
        [
            ["(\\d)(\\d{4,9})", "$1 $2", ["[2568][1-8]|3(?:0[1-9]|[1-9])|9"], "0$1"],
            ["(\\d{3})(\\d{3,7})", "$1 $2", ["[12]00|[368]|70[07-9]"], "0$1"],
            ["(\\d{2})(\\d{4,8})", "$1 $2", ["[1245]|7[135]"], "0$1"],
            ["(\\d{2})(\\d{6,10})", "$1 $2", ["7"], "0$1"],
        ],
        "0",
        0,
        0,
        0,
        0,
        "1[03-79]|[2-9]",
        0,
        "00",
    ],
    FJ: [
        "679",
        "0(?:0|52)",
        "45\\d{5}|(?:0800\\d|[235-9])\\d{6}",
        [7, 11],
        [
            ["(\\d{3})(\\d{4})", "$1 $2", ["[235-9]|45"]],
            ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["0"]],
        ],
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        "00",
    ],
    FK: ["500", "00", "[2-7]\\d{4}", [5]],
    FM: ["691", "00", "(?:[39]\\d\\d|820)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[389]"]]]],
    FO: ["298", "00", "[2-9]\\d{5}", [6], [["(\\d{6})", "$1", ["[2-9]"]]], 0, 0, "(10(?:01|[12]0|88))"],
    FR: [
        "33",
        "00",
        "[1-9]\\d{8}",
        [9],
        [
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0 $1"],
            ["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4 $5", ["[1-79]"], "0$1"],
        ],
        "0",
    ],
    GA: [
        "241",
        "00",
        "(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",
        [7, 8],
        [
            ["(\\d)(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-7]"], "0$1"],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["11|[67]"], "0$1"],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["0"]],
        ],
        0,
        0,
        "0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[47]\\d{6}|76\\d{6})",
        "$1",
    ],
    GB: [
        "44",
        "00",
        "[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",
        [7, 9, 10],
        [
            ["(\\d{3})(\\d{4})", "$1 $2", ["800", "8001", "80011", "800111", "8001111"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3", ["845", "8454", "84546", "845464"], "0$1"],
            ["(\\d{3})(\\d{6})", "$1 $2", ["800"], "0$1"],
            [
                "(\\d{5})(\\d{4,5})",
                "$1 $2",
                [
                    "1(?:38|5[23]|69|76|94)",
                    "1(?:(?:38|69)7|5(?:24|39)|768|946)",
                    "1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)",
                ],
                "0$1",
            ],
            ["(\\d{4})(\\d{5,6})", "$1 $2", ["1(?:[2-69][02-9]|[78])"], "0$1"],
            ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["[25]|7(?:0|6[02-9])", "[25]|7(?:0|6(?:[03-9]|2[356]))"], "0$1"],
            ["(\\d{4})(\\d{6})", "$1 $2", ["7"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[1389]"], "0$1"],
        ],
        "0",
        0,
        0,
        0,
        0,
        0,
        [
            [
                "(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0235])|4(?:[0-5]\\d\\d|69[7-9]|70[0359])|(?:5[0-26-9]|[78][0-49])\\d\\d|6(?:[0-4]\\d\\d|50[0-24-69]))|2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d\\d|1(?:[0-7]\\d\\d|8(?:[02]\\d|1[0-278])))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",
                [9, 10],
            ],
            [
                "7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",
                [10],
            ],
            ["80[08]\\d{7}|800\\d{6}|8001111"],
            ["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d", [7, 10]],
            ["70\\d{8}", [10]],
            0,
            ["(?:3[0347]|55)\\d{8}", [10]],
            ["76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}", [10]],
            ["56\\d{8}", [10]],
        ],
        0,
        " x",
    ],
    GD: ["1", "011", "(?:473|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-9]\\d{6})$", "473$1", 0, "473"],
    GE: [
        "995",
        "00",
        "(?:[3-57]\\d\\d|800)\\d{6}",
        [9],
        [
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["70"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["32"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[57]"]],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[348]"], "0$1"],
        ],
        "0",
    ],
    GF: [
        "594",
        "00",
        "(?:[56]94|80\\d|976)\\d{6}",
        [9],
        [
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[569]"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0$1"],
        ],
        "0",
    ],
    GG: [
        "44",
        "00",
        "(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",
        [7, 9, 10],
        0,
        "0",
        0,
        "0|([25-9]\\d{5})$",
        "1481$1",
        0,
        0,
        [
            ["1481[25-9]\\d{5}", [10]],
            ["7(?:(?:781|839)\\d|911[17])\\d{5}", [10]],
            ["80[08]\\d{7}|800\\d{6}|8001111"],
            ["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d", [7, 10]],
            ["70\\d{8}", [10]],
            0,
            ["(?:3[0347]|55)\\d{8}", [10]],
            ["76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}", [10]],
            ["56\\d{8}", [10]],
        ],
    ],
    GH: [
        "233",
        "00",
        "(?:[235]\\d{3}|800)\\d{5}",
        [8, 9],
        [
            ["(\\d{3})(\\d{5})", "$1 $2", ["8"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[235]"], "0$1"],
        ],
        "0",
    ],
    GI: ["350", "00", "(?:[25]\\d\\d|606)\\d{5}", [8], [["(\\d{3})(\\d{5})", "$1 $2", ["2"]]]],
    GL: ["299", "00", "(?:19|[2-689]\\d|70)\\d{4}", [6], [["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["19|[2-9]"]]]],
    GM: ["220", "00", "[2-9]\\d{6}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[2-9]"]]]],
    GN: [
        "224",
        "00",
        "722\\d{6}|(?:3|6\\d)\\d{7}",
        [8, 9],
        [
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["3"]],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[67]"]],
        ],
    ],
    GP: [
        "590",
        "00",
        "(?:590|(?:69|80)\\d|976)\\d{6}",
        [9],
        [
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[569]"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0$1"],
        ],
        "0",
        0,
        0,
        0,
        0,
        0,
        [
            ["590(?:0[1-68]|1[0-2]|2[0-68]|3[1289]|4[0-24-9]|5[3-579]|6[0189]|7[08]|8[0-689]|9\\d)\\d{4}"],
            ["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],
            ["80[0-5]\\d{6}"],
            0,
            0,
            0,
            0,
            0,
            ["976[01]\\d{5}"],
        ],
    ],
    GQ: [
        "240",
        "00",
        "222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",
        [9],
        [
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[235]"]],
            ["(\\d{3})(\\d{6})", "$1 $2", ["[89]"]],
        ],
    ],
    GR: [
        "30",
        "00",
        "5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",
        [10, 11, 12],
        [
            ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["21|7"]],
            ["(\\d{4})(\\d{6})", "$1 $2", ["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[2689]"]],
            ["(\\d{3})(\\d{3,4})(\\d{5})", "$1 $2 $3", ["8"]],
        ],
    ],
    GT: [
        "502",
        "00",
        "(?:1\\d{3}|[2-7])\\d{7}",
        [8, 11],
        [
            ["(\\d{4})(\\d{4})", "$1 $2", ["[2-7]"]],
            ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"]],
        ],
    ],
    GU: ["1", "011", "(?:[58]\\d\\d|671|900)\\d{7}", [10], 0, "1", 0, "1|([3-9]\\d{6})$", "671$1", 0, "671"],
    GW: [
        "245",
        "00",
        "[49]\\d{8}|4\\d{6}",
        [7, 9],
        [
            ["(\\d{3})(\\d{4})", "$1 $2", ["40"]],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[49]"]],
        ],
    ],
    GY: [
        "592",
        "001",
        "(?:862\\d|9008)\\d{3}|(?:[2-46]\\d|77)\\d{5}",
        [7],
        [["(\\d{3})(\\d{4})", "$1 $2", ["[2-46-9]"]]],
    ],
    HK: [
        "852",
        "00(?:30|5[09]|[126-9]?)",
        "8[0-46-9]\\d{6,7}|9\\d{4}(?:\\d(?:\\d(?:\\d{4})?)?)?|(?:[235-79]\\d|46)\\d{6}",
        [5, 6, 7, 8, 9, 11],
        [
            ["(\\d{3})(\\d{2,5})", "$1 $2", ["900", "9003"]],
            ["(\\d{4})(\\d{4})", "$1 $2", ["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"]],
            ["(\\d{3})(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["9"]],
        ],
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        "00",
    ],
    HN: ["504", "00", "8\\d{10}|[237-9]\\d{7}", [8, 11], [["(\\d{4})(\\d{4})", "$1-$2", ["[237-9]"]]]],
    HR: [
        "385",
        "00",
        "(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",
        [6, 7, 8, 9],
        [
            ["(\\d{2})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["6[01]"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["8"], "0$1"],
            ["(\\d)(\\d{4})(\\d{3})", "$1 $2 $3", ["1"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[67]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["9"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2-5]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"], "0$1"],
        ],
        "0",
    ],
    HT: ["509", "00", "[2-489]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3", ["[2-489]"]]]],
    HU: [
        "36",
        "00",
        "[235-7]\\d{8}|[1-9]\\d{7}",
        [8, 9],
        [
            ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "(06 $1)"],
            [
                "(\\d{2})(\\d{3})(\\d{3})",
                "$1 $2 $3",
                ["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],
                "(06 $1)",
            ],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2-9]"], "06 $1"],
        ],
        "06",
    ],
    ID: [
        "62",
        "00[89]",
        "(?:(?:00[1-9]|8\\d)\\d{4}|[1-36])\\d{6}|00\\d{10}|[1-9]\\d{8,10}|[2-9]\\d{7}",
        [7, 8, 9, 10, 11, 12, 13],
        [
            ["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["15"]],
            ["(\\d{2})(\\d{5,9})", "$1 $2", ["2[124]|[36]1"], "(0$1)"],
            ["(\\d{3})(\\d{5,7})", "$1 $2", ["800"], "0$1"],
            ["(\\d{3})(\\d{5,8})", "$1 $2", ["[2-79]"], "(0$1)"],
            ["(\\d{3})(\\d{3,4})(\\d{3})", "$1-$2-$3", ["8[1-35-9]"], "0$1"],
            ["(\\d{3})(\\d{6,8})", "$1 $2", ["1"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["804"], "0$1"],
            ["(\\d{3})(\\d)(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["80"], "0$1"],
            ["(\\d{3})(\\d{4})(\\d{4,5})", "$1-$2-$3", ["8"], "0$1"],
        ],
        "0",
    ],
    IE: [
        "353",
        "00",
        "(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",
        [7, 8, 9, 10],
        [
            ["(\\d{2})(\\d{5})", "$1 $2", ["2[24-9]|47|58|6[237-9]|9[35-9]"], "(0$1)"],
            ["(\\d{3})(\\d{5})", "$1 $2", ["[45]0"], "(0$1)"],
            ["(\\d)(\\d{3,4})(\\d{4})", "$1 $2 $3", ["1"], "(0$1)"],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2569]|4[1-69]|7[14]"], "(0$1)"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["70"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["81"], "(0$1)"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[78]"], "0$1"],
            ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1"]],
            ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["4"], "(0$1)"],
            ["(\\d{2})(\\d)(\\d{3})(\\d{4})", "$1 $2 $3 $4", ["8"], "0$1"],
        ],
        "0",
    ],
    IL: [
        "972",
        "0(?:0|1[2-9])",
        "1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",
        [7, 8, 9, 10, 11, 12],
        [
            ["(\\d{4})(\\d{3})", "$1-$2", ["125"]],
            ["(\\d{4})(\\d{2})(\\d{2})", "$1-$2-$3", ["121"]],
            ["(\\d)(\\d{3})(\\d{4})", "$1-$2-$3", ["[2-489]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1-$2-$3", ["[57]"], "0$1"],
            ["(\\d{4})(\\d{3})(\\d{3})", "$1-$2-$3", ["12"]],
            ["(\\d{4})(\\d{6})", "$1-$2", ["159"]],
            ["(\\d)(\\d{3})(\\d{3})(\\d{3})", "$1-$2-$3-$4", ["1[7-9]"]],
            ["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})", "$1-$2 $3-$4", ["15"]],
        ],
        "0",
    ],
    IM: [
        "44",
        "00",
        "1624\\d{6}|(?:[3578]\\d|90)\\d{8}",
        [10],
        0,
        "0",
        0,
        "0|([25-8]\\d{5})$",
        "1624$1",
        0,
        "74576|(?:16|7[56])24",
    ],
    IN: [
        "91",
        "00",
        "(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",
        [8, 9, 10, 11, 12, 13],
        [
            [
                "(\\d{8})",
                "$1",
                [
                    "5(?:0|2[23]|3[03]|[67]1|88)",
                    "5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)",
                    "5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)",
                ],
                0,
                1,
            ],
            ["(\\d{4})(\\d{4,5})", "$1 $2", ["180", "1800"], 0, 1],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["140"], 0, 1],
            [
                "(\\d{2})(\\d{4})(\\d{4})",
                "$1 $2 $3",
                [
                    "11|2[02]|33|4[04]|79[1-7]|80[2-46]",
                    "11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])",
                    "11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])",
                ],
                "0$1",
                1,
            ],
            [
                "(\\d{3})(\\d{3})(\\d{4})",
                "$1 $2 $3",
                [
                    "1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]",
                    "1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]",
                    "1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]",
                ],
                "0$1",
                1,
            ],
            [
                "(\\d{4})(\\d{3})(\\d{3})",
                "$1 $2 $3",
                [
                    "1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807",
                    "1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]",
                    "1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]",
                ],
                "0$1",
                1,
            ],
            ["(\\d{5})(\\d{5})", "$1 $2", ["[6-9]"], "0$1", 1],
            ["(\\d{4})(\\d{2,4})(\\d{4})", "$1 $2 $3", ["1(?:6|8[06])", "1(?:6|8[06]0)"], 0, 1],
            ["(\\d{4})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["18"], 0, 1],
        ],
        "0",
    ],
    IO: ["246", "00", "3\\d{6}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["3"]]]],
    IQ: [
        "964",
        "00",
        "(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",
        [8, 9, 10],
        [
            ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2-6]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["7"], "0$1"],
        ],
        "0",
    ],
    IR: [
        "98",
        "00",
        "[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",
        [4, 5, 6, 7, 10],
        [
            ["(\\d{4,5})", "$1", ["96"], "0$1"],
            [
                "(\\d{2})(\\d{4,5})",
                "$1 $2",
                ["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],
                "0$1",
            ],
            ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["9"], "0$1"],
            ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["[1-8]"], "0$1"],
        ],
        "0",
    ],
    IS: [
        "354",
        "00|1(?:0(?:01|[12]0)|100)",
        "(?:38\\d|[4-9])\\d{6}",
        [7, 9],
        [
            ["(\\d{3})(\\d{4})", "$1 $2", ["[4-9]"]],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["3"]],
        ],
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        "00",
    ],
    IT: [
        "39",
        "00",
        "0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|55\\d{8}|8\\d{5}(?:\\d{2,4})?",
        [6, 7, 8, 9, 10, 11],
        [
            ["(\\d{2})(\\d{4,6})", "$1 $2", ["0[26]"]],
            [
                "(\\d{3})(\\d{3,6})",
                "$1 $2",
                ["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])", "0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"],
            ],
            ["(\\d{4})(\\d{2,6})", "$1 $2", ["0(?:[13-579][2-46-8]|8[236-8])"]],
            ["(\\d{4})(\\d{4})", "$1 $2", ["894"]],
            ["(\\d{2})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["0[26]|5"]],
            ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["1(?:44|[679])|[38]"]],
            ["(\\d{3})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["0[13-57-9][0159]|14"]],
            ["(\\d{2})(\\d{4})(\\d{5})", "$1 $2 $3", ["0[26]"]],
            ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["0"]],
            ["(\\d{3})(\\d{4})(\\d{4,5})", "$1 $2 $3", ["3"]],
        ],
        0,
        0,
        0,
        0,
        0,
        0,
        [
            [
                "0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",
            ],
            ["3[1-9]\\d{8}|3[2-9]\\d{7}", [9, 10]],
            ["80(?:0\\d{3}|3)\\d{3}", [6, 9]],
            [
                "(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",
                [6, 8, 9, 10],
            ],
            ["1(?:78\\d|99)\\d{6}", [9, 10]],
            0,
            0,
            0,
            ["55\\d{8}", [10]],
            ["84(?:[08]\\d{3}|[17])\\d{3}", [6, 9]],
        ],
    ],
    JE: [
        "44",
        "00",
        "1534\\d{6}|(?:[3578]\\d|90)\\d{8}",
        [10],
        0,
        "0",
        0,
        "0|([0-24-8]\\d{5})$",
        "1534$1",
        0,
        0,
        [
            ["1534[0-24-8]\\d{5}"],
            ["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}"],
            ["80(?:07(?:35|81)|8901)\\d{4}"],
            ["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],
            ["701511\\d{4}"],
            0,
            [
                "(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}",
            ],
            ["76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}"],
            ["56\\d{8}"],
        ],
    ],
    JM: ["1", "011", "(?:[58]\\d\\d|658|900)\\d{7}", [10], 0, "1", 0, 0, 0, 0, "658|876"],
    JO: [
        "962",
        "00",
        "(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",
        [8, 9],
        [
            ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["[2356]|87"], "(0$1)"],
            ["(\\d{3})(\\d{5,6})", "$1 $2", ["[89]"], "0$1"],
            ["(\\d{2})(\\d{7})", "$1 $2", ["70"], "0$1"],
            ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["7"], "0$1"],
        ],
        "0",
    ],
    JP: [
        "81",
        "010",
        "00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",
        [8, 9, 10, 11, 12, 13, 14, 15, 16, 17],
        [
            ["(\\d{3})(\\d{3})(\\d{3})", "$1-$2-$3", ["(?:12|57|99)0"], "0$1"],
            [
                "(\\d{4})(\\d)(\\d{4})",
                "$1-$2-$3",
                [
                    "1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])",
                    "1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9]|636)|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]",
                    "1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9]|636[457-9])|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]",
                ],
                "0$1",
            ],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1-$2-$3", ["60"], "0$1"],
            [
                "(\\d)(\\d{4})(\\d{4})",
                "$1-$2-$3",
                ["[36]|4(?:2[09]|7[01])", "[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],
                "0$1",
            ],
            [
                "(\\d{2})(\\d{3})(\\d{4})",
                "$1-$2-$3",
                [
                    "1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[27-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])",
                    "1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(?:2|3[045]|4[0-369]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|49|51|6(?:[0-24]|36|5[0-3589]|72|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:49|55|83)[29]|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]",
                    "1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]",
                    "1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|7[015-9]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17|3[015-9]))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|829(?:2|66)|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]",
                ],
                "0$1",
            ],
            ["(\\d{3})(\\d{2})(\\d{4})", "$1-$2-$3", ["[14]|[289][2-9]|5[3-9]|7[2-4679]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1-$2-$3", ["800"], "0$1"],
            ["(\\d{2})(\\d{4})(\\d{4})", "$1-$2-$3", ["[257-9]"], "0$1"],
        ],
        "0",
    ],
    KE: [
        "254",
        "000",
        "(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",
        [7, 8, 9, 10],
        [
            ["(\\d{2})(\\d{5,7})", "$1 $2", ["[24-6]"], "0$1"],
            ["(\\d{3})(\\d{6})", "$1 $2", ["[17]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[89]"], "0$1"],
        ],
        "0",
    ],
    KG: [
        "996",
        "00",
        "8\\d{9}|(?:[235-8]\\d|99)\\d{7}",
        [9, 10],
        [
            ["(\\d{4})(\\d{5})", "$1 $2", ["3(?:1[346]|[24-79])"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[235-79]|88"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d)(\\d{2,3})", "$1 $2 $3 $4", ["8"], "0$1"],
        ],
        "0",
    ],
    KH: [
        "855",
        "00[14-9]",
        "1\\d{9}|[1-9]\\d{7,8}",
        [8, 9, 10],
        [
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[1-9]"], "0$1"],
            ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1"]],
        ],
        "0",
    ],
    KI: ["686", "00", "(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}", [5, 8], 0, "0"],
    KM: ["269", "00", "[3478]\\d{6}", [7], [["(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3", ["[3478]"]]]],
    KN: ["1", "011", "(?:[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-7]\\d{6})$", "869$1", 0, "869"],
    KP: [
        "850",
        "00|99",
        "85\\d{6}|(?:19\\d|[2-7])\\d{7}",
        [8, 10],
        [
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"], "0$1"],
            ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["[2-7]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "0$1"],
        ],
        "0",
    ],
    KR: [
        "82",
        "00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))",
        "00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",
        [5, 6, 8, 9, 10, 11, 12, 13, 14],
        [
            ["(\\d{2})(\\d{3,4})", "$1-$2", ["(?:3[1-3]|[46][1-4]|5[1-5])1"], "0$1"],
            ["(\\d{4})(\\d{4})", "$1-$2", ["1"]],
            ["(\\d)(\\d{3,4})(\\d{4})", "$1-$2-$3", ["2"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1-$2-$3", ["60|8"], "0$1"],
            ["(\\d{2})(\\d{3,4})(\\d{4})", "$1-$2-$3", ["[1346]|5[1-5]"], "0$1"],
            ["(\\d{2})(\\d{4})(\\d{4})", "$1-$2-$3", ["[57]"], "0$1"],
            ["(\\d{2})(\\d{5})(\\d{4})", "$1-$2-$3", ["5"], "0$1"],
        ],
        "0",
        0,
        "0(8(?:[1-46-8]|5\\d\\d))?",
    ],
    KW: [
        "965",
        "00",
        "18\\d{5}|(?:[2569]\\d|41)\\d{6}",
        [7, 8],
        [
            ["(\\d{4})(\\d{3,4})", "$1 $2", ["[169]|2(?:[235]|4[1-35-9])|52"]],
            ["(\\d{3})(\\d{5})", "$1 $2", ["[245]"]],
        ],
    ],
    KY: ["1", "011", "(?:345|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-9]\\d{6})$", "345$1", 0, "345"],
    KZ: ["7", "810", "(?:33622|8\\d{8})\\d{5}|[78]\\d{9}", [10, 14], 0, "8", 0, 0, 0, 0, "33|7", 0, "8~10"],
    LA: [
        "856",
        "00",
        "[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",
        [8, 9, 10],
        [
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["2[13]|3[14]|[4-8]"], "0$1"],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3 $4", ["30[013-9]"], "0$1"],
            ["(\\d{2})(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["[23]"], "0$1"],
        ],
        "0",
    ],
    LB: [
        "961",
        "00",
        "[27-9]\\d{7}|[13-9]\\d{6}",
        [7, 8],
        [
            ["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[27-9]"]],
        ],
        "0",
    ],
    LC: ["1", "011", "(?:[58]\\d\\d|758|900)\\d{7}", [10], 0, "1", 0, "1|([2-8]\\d{6})$", "758$1", 0, "758"],
    LI: [
        "423",
        "00",
        "90\\d{5}|(?:[2378]|6\\d\\d)\\d{6}",
        [7, 9],
        [
            ["(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3", ["[237-9]"]],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["69"]],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["6"]],
        ],
        "0",
        0,
        "0|(1001)",
    ],
    LK: [
        "94",
        "00",
        "[1-9]\\d{8}",
        [9],
        [
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["7"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[1-689]"], "0$1"],
        ],
        "0",
    ],
    LR: [
        "231",
        "00",
        "(?:2|33|5\\d|77|88)\\d{7}|[4-6]\\d{6}",
        [7, 8, 9],
        [
            ["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[4-6]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["2"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[3578]"], "0$1"],
        ],
        "0",
    ],
    LS: ["266", "00", "(?:[256]\\d\\d|800)\\d{5}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[2568]"]]]],
    LT: [
        "370",
        "00",
        "(?:[3469]\\d|52|[78]0)\\d{6}",
        [8],
        [
            ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["52[0-7]"], "(8-$1)", 1],
            ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["[7-9]"], "8 $1", 1],
            ["(\\d{2})(\\d{6})", "$1 $2", ["37|4(?:[15]|6[1-8])"], "(8-$1)", 1],
            ["(\\d{3})(\\d{5})", "$1 $2", ["[3-6]"], "(8-$1)", 1],
        ],
        "8",
        0,
        "[08]",
    ],
    LU: [
        "352",
        "00",
        "35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",
        [4, 5, 6, 7, 8, 9, 10, 11],
        [
            ["(\\d{2})(\\d{3})", "$1 $2", ["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],
            [
                "(\\d{2})(\\d{2})(\\d{2})",
                "$1 $2 $3",
                ["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"],
            ],
            ["(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3", ["20[2-689]"]],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})", "$1 $2 $3 $4", ["2(?:[0367]|4[3-8])"]],
            ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["80[01]|90[015]"]],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3 $4", ["20"]],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["6"]],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})", "$1 $2 $3 $4 $5", ["2(?:[0367]|4[3-8])"]],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})", "$1 $2 $3 $4", ["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]],
        ],
        0,
        0,
        "(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)",
    ],
    LV: ["371", "00", "(?:[268]\\d|90)\\d{6}", [8], [["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[269]|8[01]"]]]],
    LY: ["218", "00", "[2-9]\\d{8}", [9], [["(\\d{2})(\\d{7})", "$1-$2", ["[2-9]"], "0$1"]], "0"],
    MA: [
        "212",
        "00",
        "[5-8]\\d{8}",
        [9],
        [
            ["(\\d{5})(\\d{4})", "$1-$2", ["5(?:29|38)", "5(?:29|38)[89]", "5(?:29|38)[89]0"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["5[45]"], "0$1"],
            [
                "(\\d{4})(\\d{5})",
                "$1-$2",
                ["5(?:2[2-489]|3[5-9]|9)|892", "5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|892"],
                "0$1",
            ],
            ["(\\d{2})(\\d{7})", "$1-$2", ["8"], "0$1"],
            ["(\\d{3})(\\d{6})", "$1-$2", ["[5-7]"], "0$1"],
        ],
        "0",
        0,
        0,
        0,
        0,
        0,
        [
            [
                "5(?:29(?:[189][05]|2[29]|3[01])|38[89][05])\\d{4}|5(?:2(?:[0-25-7]\\d|3[1-578]|4[02-46-8]|8[0235-7]|90)|3(?:[0-47]\\d|5[02-9]|6[02-8]|80|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}",
            ],
            ["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0\\d|1[0-5]|6[1267]|7[0-57]))\\d{6}"],
            ["80\\d{7}"],
            ["89\\d{7}"],
            0,
            0,
            0,
            0,
            ["592(?:4[0-2]|93)\\d{4}"],
        ],
    ],
    MC: [
        "377",
        "00",
        "(?:[3489]|6\\d)\\d{7}",
        [8, 9],
        [
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["4"], "0$1"],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[389]"]],
            ["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4 $5", ["6"], "0$1"],
        ],
        "0",
    ],
    MD: [
        "373",
        "00",
        "(?:[235-7]\\d|[89]0)\\d{6}",
        [8],
        [
            ["(\\d{3})(\\d{5})", "$1 $2", ["[89]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["22|3"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["[25-7]"], "0$1"],
        ],
        "0",
    ],
    ME: [
        "382",
        "00",
        "(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",
        [8, 9],
        [["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[2-9]"], "0$1"]],
        "0",
    ],
    MF: [
        "590",
        "00",
        "(?:590|(?:69|80)\\d|976)\\d{6}",
        [9],
        0,
        "0",
        0,
        0,
        0,
        0,
        0,
        [
            ["590(?:0[079]|[14]3|[27][79]|30|5[0-268]|87)\\d{4}"],
            ["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],
            ["80[0-5]\\d{6}"],
            0,
            0,
            0,
            0,
            0,
            ["976[01]\\d{5}"],
        ],
    ],
    MG: [
        "261",
        "00",
        "[23]\\d{8}",
        [9],
        [["(\\d{2})(\\d{2})(\\d{3})(\\d{2})", "$1 $2 $3 $4", ["[23]"], "0$1"]],
        "0",
        0,
        "0|([24-9]\\d{6})$",
        "20$1",
    ],
    MH: ["692", "011", "329\\d{4}|(?:[256]\\d|45)\\d{5}", [7], [["(\\d{3})(\\d{4})", "$1-$2", ["[2-6]"]]], "1"],
    MK: [
        "389",
        "00",
        "[2-578]\\d{7}",
        [8],
        [
            ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["2"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[347]"], "0$1"],
            ["(\\d{3})(\\d)(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[58]"], "0$1"],
        ],
        "0",
    ],
    ML: ["223", "00", "[24-9]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[24-9]"]]]],
    MM: [
        "95",
        "00",
        "1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",
        [6, 7, 8, 9, 10],
        [
            ["(\\d)(\\d{2})(\\d{3})", "$1 $2 $3", ["16|2"], "0$1"],
            [
                "(\\d{2})(\\d{2})(\\d{3})",
                "$1 $2 $3",
                ["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],
                "0$1",
            ],
            ["(\\d)(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[12]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[4-7]|8[1-35]"], "0$1"],
            ["(\\d)(\\d{3})(\\d{4,6})", "$1 $2 $3", ["9(?:2[0-4]|[35-9]|4[137-9])"], "0$1"],
            ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["2"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"], "0$1"],
            ["(\\d)(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["92"], "0$1"],
            ["(\\d)(\\d{5})(\\d{4})", "$1 $2 $3", ["9"], "0$1"],
        ],
        "0",
    ],
    MN: [
        "976",
        "001",
        "[12]\\d{7,9}|[57-9]\\d{7}",
        [8, 9, 10],
        [
            ["(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3", ["[12]1"], "0$1"],
            ["(\\d{4})(\\d{4})", "$1 $2", ["[57-9]"]],
            ["(\\d{3})(\\d{5,6})", "$1 $2", ["[12]2[1-3]"], "0$1"],
            [
                "(\\d{4})(\\d{5,6})",
                "$1 $2",
                ["[12](?:27|3[2-8]|4[2-68]|5[1-4689])", "[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],
                "0$1",
            ],
            ["(\\d{5})(\\d{4,5})", "$1 $2", ["[12]"], "0$1"],
        ],
        "0",
    ],
    MO: [
        "853",
        "00",
        "0800\\d{3}|(?:28|[68]\\d)\\d{6}",
        [7, 8],
        [
            ["(\\d{4})(\\d{3})", "$1 $2", ["0"]],
            ["(\\d{4})(\\d{4})", "$1 $2", ["[268]"]],
        ],
    ],
    MP: ["1", "011", "[58]\\d{9}|(?:67|90)0\\d{7}", [10], 0, "1", 0, "1|([2-9]\\d{6})$", "670$1", 0, "670"],
    MQ: [
        "596",
        "00",
        "(?:69|80)\\d{7}|(?:59|97)6\\d{6}",
        [9],
        [
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[569]"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0$1"],
        ],
        "0",
    ],
    MR: [
        "222",
        "00",
        "(?:[2-4]\\d\\d|800)\\d{5}",
        [8],
        [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2-48]"]]],
    ],
    MS: ["1", "011", "(?:[58]\\d\\d|664|900)\\d{7}", [10], 0, "1", 0, "1|([34]\\d{6})$", "664$1", 0, "664"],
    MT: ["356", "00", "3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[2357-9]"]]]],
    MU: [
        "230",
        "0(?:0|[24-7]0|3[03])",
        "(?:5|8\\d\\d)\\d{7}|[2-468]\\d{6}",
        [7, 8, 10],
        [
            ["(\\d{3})(\\d{4})", "$1 $2", ["[2-46]|8[013]"]],
            ["(\\d{4})(\\d{4})", "$1 $2", ["5"]],
            ["(\\d{5})(\\d{5})", "$1 $2", ["8"]],
        ],
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        "020",
    ],
    MV: [
        "960",
        "0(?:0|19)",
        "(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",
        [7, 10],
        [
            ["(\\d{3})(\\d{4})", "$1-$2", ["[3467]|9[13-9]"]],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[89]"]],
        ],
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        "00",
    ],
    MW: [
        "265",
        "00",
        "(?:[19]\\d|[23]1|77|88)\\d{7}|1\\d{6}",
        [7, 9],
        [
            ["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["1[2-9]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["2"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[137-9]"], "0$1"],
        ],
        "0",
    ],
    MX: [
        "52",
        "0[09]",
        "1(?:(?:44|99)[1-9]|65[0-689])\\d{7}|(?:1(?:[017]\\d|[235][1-9]|4[0-35-9]|6[0-46-9]|8[1-79]|9[1-8])|[2-9]\\d)\\d{8}",
        [10, 11],
        [
            ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["33|5[56]|81"], 0, 1],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[2-9]"], 0, 1],
            ["(\\d)(\\d{2})(\\d{4})(\\d{4})", "$2 $3 $4", ["1(?:33|5[56]|81)"], 0, 1],
            ["(\\d)(\\d{3})(\\d{3})(\\d{4})", "$2 $3 $4", ["1"], 0, 1],
        ],
        "01",
        0,
        "0(?:[12]|4[45])|1",
        0,
        0,
        0,
        0,
        "00",
    ],
    MY: [
        "60",
        "00",
        "1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",
        [8, 9, 10],
        [
            ["(\\d)(\\d{3})(\\d{4})", "$1-$2 $3", ["[4-79]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1-$2 $3", ["1(?:[02469]|[378][1-9])|8"], "0$1"],
            ["(\\d)(\\d{4})(\\d{4})", "$1-$2 $3", ["3"], "0$1"],
            ["(\\d)(\\d{3})(\\d{2})(\\d{4})", "$1-$2-$3-$4", ["1[36-8]"]],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1-$2 $3", ["15"], "0$1"],
            ["(\\d{2})(\\d{4})(\\d{4})", "$1-$2 $3", ["1"], "0$1"],
        ],
        "0",
    ],
    MZ: [
        "258",
        "00",
        "(?:2|8\\d)\\d{7}",
        [8, 9],
        [
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["2|8[2-79]"]],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["8"]],
        ],
    ],
    NA: [
        "264",
        "00",
        "[68]\\d{7,8}",
        [8, 9],
        [
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["88"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["6"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["87"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"], "0$1"],
        ],
        "0",
    ],
    NC: ["687", "00", "[2-57-9]\\d{5}", [6], [["(\\d{2})(\\d{2})(\\d{2})", "$1.$2.$3", ["[2-57-9]"]]]],
    NE: [
        "227",
        "00",
        "[027-9]\\d{7}",
        [8],
        [
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["08"]],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[089]|2[013]|7[04]"]],
        ],
    ],
    NF: [
        "672",
        "00",
        "[13]\\d{5}",
        [6],
        [
            ["(\\d{2})(\\d{4})", "$1 $2", ["1[0-3]"]],
            ["(\\d)(\\d{5})", "$1 $2", ["[13]"]],
        ],
        0,
        0,
        "([0-258]\\d{4})$",
        "3$1",
    ],
    NG: [
        "234",
        "009",
        "(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}",
        [7, 8, 10, 11, 12, 13, 14],
        [
            ["(\\d{2})(\\d{2})(\\d{3})", "$1 $2 $3", ["78"], "0$1"],
            ["(\\d)(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[12]|9(?:0[3-9]|[1-9])"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{2,3})", "$1 $2 $3", ["[3-7]|8[2-9]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[7-9]"], "0$1"],
            ["(\\d{3})(\\d{4})(\\d{4,5})", "$1 $2 $3", ["[78]"], "0$1"],
            ["(\\d{3})(\\d{5})(\\d{5,6})", "$1 $2 $3", ["[78]"], "0$1"],
        ],
        "0",
    ],
    NI: ["505", "00", "(?:1800|[25-8]\\d{3})\\d{4}", [8], [["(\\d{4})(\\d{4})", "$1 $2", ["[125-8]"]]]],
    NL: [
        "31",
        "00",
        "(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|[89]\\d{6,9}|1\\d{4,5}",
        [5, 6, 7, 8, 9, 10],
        [
            ["(\\d{3})(\\d{4,7})", "$1 $2", ["[89]0"], "0$1"],
            ["(\\d{2})(\\d{7})", "$1 $2", ["66"], "0$1"],
            ["(\\d)(\\d{8})", "$1 $2", ["6"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[1-57-9]"], "0$1"],
        ],
        "0",
    ],
    NO: [
        "47",
        "00",
        "(?:0|[2-9]\\d{3})\\d{4}",
        [5, 8],
        [
            ["(\\d{3})(\\d{2})(\\d{3})", "$1 $2 $3", ["[489]|59"]],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[235-7]"]],
        ],
        0,
        0,
        0,
        0,
        0,
        "[02-689]|7[0-8]",
    ],
    NP: [
        "977",
        "00",
        "(?:1\\d|9)\\d{9}|[1-9]\\d{7}",
        [8, 10, 11],
        [
            ["(\\d)(\\d{7})", "$1-$2", ["1[2-6]"], "0$1"],
            ["(\\d{2})(\\d{6})", "$1-$2", ["1[01]|[2-8]|9(?:[1-579]|6[2-6])"], "0$1"],
            ["(\\d{3})(\\d{7})", "$1-$2", ["9"]],
        ],
        "0",
    ],
    NR: ["674", "00", "(?:444|(?:55|8\\d)\\d|666)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[4-68]"]]]],
    NU: ["683", "00", "(?:[47]|888\\d)\\d{3}", [4, 7], [["(\\d{3})(\\d{4})", "$1 $2", ["8"]]]],
    NZ: [
        "64",
        "0(?:0|161)",
        "[29]\\d{7,9}|50\\d{5}(?:\\d{2,3})?|6[0-35-9]\\d{6}|7\\d{7,8}|8\\d{4,9}|(?:11\\d|[34])\\d{7}",
        [5, 6, 7, 8, 9, 10],
        [
            ["(\\d{2})(\\d{3,8})", "$1 $2", ["8[1-579]"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["50[036-8]|[89]0", "50(?:[0367]|88)|[89]0"], "0$1"],
            ["(\\d)(\\d{3})(\\d{4})", "$1-$2 $3", ["24|[346]|7[2-57-9]|9[2-9]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["2(?:10|74)|[59]|80"], "0$1"],
            ["(\\d{2})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["1|2[028]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3,5})", "$1 $2 $3", ["2(?:[169]|7[0-35-9])|7|86"], "0$1"],
        ],
        "0",
        0,
        0,
        0,
        0,
        0,
        0,
        "00",
    ],
    OM: [
        "968",
        "00",
        "(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",
        [7, 8, 9],
        [
            ["(\\d{3})(\\d{4,6})", "$1 $2", ["[58]"]],
            ["(\\d{2})(\\d{6})", "$1 $2", ["2"]],
            ["(\\d{4})(\\d{4})", "$1 $2", ["[179]"]],
        ],
    ],
    PA: [
        "507",
        "00",
        "(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",
        [7, 8, 10, 11],
        [
            ["(\\d{3})(\\d{4})", "$1-$2", ["[1-57-9]"]],
            ["(\\d{4})(\\d{4})", "$1-$2", ["[68]"]],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"]],
        ],
    ],
    PE: [
        "51",
        "19(?:1[124]|77|90)00",
        "(?:[14-8]|9\\d)\\d{7}",
        [8, 9],
        [
            ["(\\d{3})(\\d{5})", "$1 $2", ["80"], "(0$1)"],
            ["(\\d)(\\d{7})", "$1 $2", ["1"], "(0$1)"],
            ["(\\d{2})(\\d{6})", "$1 $2", ["[4-8]"], "(0$1)"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["9"]],
        ],
        "0",
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        " Anexo ",
    ],
    PF: [
        "689",
        "00",
        "4\\d{5}(?:\\d{2})?|8\\d{7,8}",
        [6, 8, 9],
        [
            ["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["44"]],
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["4|8[7-9]"]],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"]],
        ],
    ],
    PG: [
        "675",
        "00|140[1-3]",
        "(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",
        [7, 8],
        [
            ["(\\d{3})(\\d{4})", "$1 $2", ["18|[2-69]|85"]],
            ["(\\d{4})(\\d{4})", "$1 $2", ["[78]"]],
        ],
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        "00",
    ],
    PH: [
        "63",
        "00",
        "(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",
        [6, 8, 9, 10, 11, 12, 13],
        [
            ["(\\d)(\\d{5})", "$1 $2", ["2"], "(0$1)"],
            [
                "(\\d{4})(\\d{4,6})",
                "$1 $2",
                [
                    "3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2",
                    "3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))",
                ],
                "(0$1)",
            ],
            ["(\\d{5})(\\d{4})", "$1 $2", ["346|4(?:27|9[35])|883", "3469|4(?:279|9(?:30|56))|8834"], "(0$1)"],
            ["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["2"], "(0$1)"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[3-7]|8[2-8]"], "(0$1)"],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["[89]"], "0$1"],
            ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"]],
            ["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})", "$1 $2 $3 $4", ["1"]],
        ],
        "0",
    ],
    PK: [
        "92",
        "00",
        "122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",
        [8, 9, 10, 11, 12],
        [
            ["(\\d{3})(\\d{3})(\\d{2,7})", "$1 $2 $3", ["[89]0"], "0$1"],
            ["(\\d{4})(\\d{5})", "$1 $2", ["1"]],
            [
                "(\\d{3})(\\d{6,7})",
                "$1 $2",
                [
                    "2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])",
                    "9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]",
                ],
                "(0$1)",
            ],
            ["(\\d{2})(\\d{7,8})", "$1 $2", ["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"], "(0$1)"],
            ["(\\d{5})(\\d{5})", "$1 $2", ["58"], "(0$1)"],
            ["(\\d{3})(\\d{7})", "$1 $2", ["3"], "0$1"],
            [
                "(\\d{2})(\\d{3})(\\d{3})(\\d{3})",
                "$1 $2 $3 $4",
                ["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],
                "(0$1)",
            ],
            ["(\\d{3})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["[24-9]"], "(0$1)"],
        ],
        "0",
    ],
    PL: [
        "48",
        "00",
        "6\\d{5}(?:\\d{2})?|8\\d{9}|[1-9]\\d{6}(?:\\d{2})?",
        [6, 7, 8, 9, 10],
        [
            ["(\\d{5})", "$1", ["19"]],
            ["(\\d{3})(\\d{3})", "$1 $2", ["11|64"]],
            [
                "(\\d{2})(\\d{2})(\\d{3})",
                "$1 $2 $3",
                [
                    "(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1",
                    "(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19",
                ],
            ],
            ["(\\d{3})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["64"]],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],
            ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["1[2-8]|[2-7]|8[1-79]|9[145]"]],
            ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["8"]],
        ],
    ],
    PM: [
        "508",
        "00",
        "(?:[45]|80\\d\\d)\\d{5}",
        [6, 9],
        [
            ["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["[45]"], "0$1"],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"], "0$1"],
        ],
        "0",
    ],
    PR: ["1", "011", "(?:[589]\\d\\d|787)\\d{7}", [10], 0, "1", 0, 0, 0, 0, "787|939"],
    PS: [
        "970",
        "00",
        "[2489]2\\d{6}|(?:1\\d|5)\\d{8}",
        [8, 9, 10],
        [
            ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["[2489]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["5"], "0$1"],
            ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1"]],
        ],
        "0",
    ],
    PT: [
        "351",
        "00",
        "1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",
        [9],
        [
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["2[12]"]],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["16|[236-9]"]],
        ],
    ],
    PW: ["680", "01[12]", "(?:[24-8]\\d\\d|345|900)\\d{4}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[2-9]"]]]],
    PY: [
        "595",
        "00",
        "59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",
        [6, 7, 8, 9, 10, 11],
        [
            ["(\\d{3})(\\d{3,6})", "$1 $2", ["[2-9]0"], "0$1"],
            ["(\\d{2})(\\d{5})", "$1 $2", ["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"], "(0$1)"],
            ["(\\d{3})(\\d{4,5})", "$1 $2", ["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"], "(0$1)"],
            [
                "(\\d{2})(\\d{3})(\\d{3,4})",
                "$1 $2 $3",
                ["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],
                "(0$1)",
            ],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["87"]],
            ["(\\d{3})(\\d{6})", "$1 $2", ["9(?:[5-79]|8[1-6])"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-8]"], "0$1"],
            ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["9"]],
        ],
        "0",
    ],
    QA: [
        "974",
        "00",
        "[2-7]\\d{7}|800\\d{4}(?:\\d{2})?|2\\d{6}",
        [7, 8, 9],
        [
            ["(\\d{3})(\\d{4})", "$1 $2", ["2[126]|8"]],
            ["(\\d{4})(\\d{4})", "$1 $2", ["[2-7]"]],
        ],
    ],
    RE: [
        "262",
        "00",
        "9769\\d{5}|(?:26|[68]\\d)\\d{7}",
        [9],
        [["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2689]"], "0$1"]],
        "0",
        0,
        0,
        0,
        0,
        "26[23]|69|[89]",
    ],
    RO: [
        "40",
        "00",
        "(?:[2378]\\d|90)\\d{7}|[23]\\d{5}",
        [6, 9],
        [
            ["(\\d{3})(\\d{3})", "$1 $2", ["2[3-6]", "2[3-6]\\d9"], "0$1"],
            ["(\\d{2})(\\d{4})", "$1 $2", ["219|31"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[23]1"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[237-9]"], "0$1"],
        ],
        "0",
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        " int ",
    ],
    RS: [
        "381",
        "00",
        "38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",
        [6, 7, 8, 9, 10, 11, 12],
        [
            ["(\\d{3})(\\d{3,9})", "$1 $2", ["(?:2[389]|39)0|[7-9]"], "0$1"],
            ["(\\d{2})(\\d{5,10})", "$1 $2", ["[1-36]"], "0$1"],
        ],
        "0",
    ],
    RU: [
        "7",
        "810",
        "8\\d{13}|[347-9]\\d{9}",
        [10, 14],
        [
            [
                "(\\d{4})(\\d{2})(\\d{2})(\\d{2})",
                "$1 $2 $3 $4",
                [
                    "7(?:1[0-8]|2[1-9])",
                    "7(?:1(?:[0-6]2|7|8[27])|2(?:1[23]|[2-9]2))",
                    "7(?:1(?:[0-6]2|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2",
                ],
                "8 ($1)",
                1,
            ],
            [
                "(\\d{5})(\\d)(\\d{2})(\\d{2})",
                "$1 $2 $3 $4",
                [
                    "7(?:1[0-68]|2[1-9])",
                    "7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))",
                    "7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]",
                ],
                "8 ($1)",
                1,
            ],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["7"], "8 ($1)", 1],
            ["(\\d{3})(\\d{3})(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["[349]|8(?:[02-7]|1[1-8])"], "8 ($1)", 1],
            ["(\\d{4})(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["8"], "8 ($1)"],
        ],
        "8",
        0,
        0,
        0,
        0,
        "3[04-689]|[489]",
        0,
        "8~10",
    ],
    RW: [
        "250",
        "00",
        "(?:06|[27]\\d\\d|[89]00)\\d{6}",
        [8, 9],
        [
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["0"]],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[7-9]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["2"]],
        ],
        "0",
    ],
    SA: [
        "966",
        "00",
        "92\\d{7}|(?:[15]|8\\d)\\d{8}",
        [9, 10],
        [
            ["(\\d{4})(\\d{5})", "$1 $2", ["9"]],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["5"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["81"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"]],
        ],
        "0",
    ],
    SB: [
        "677",
        "0[01]",
        "(?:[1-6]|[7-9]\\d\\d)\\d{4}",
        [5, 7],
        [["(\\d{2})(\\d{5})", "$1 $2", ["7|8[4-9]|9(?:[1-8]|9[0-8])"]]],
    ],
    SC: [
        "248",
        "010|0[0-2]",
        "8000\\d{3}|(?:[249]\\d|64)\\d{5}",
        [7],
        [["(\\d)(\\d{3})(\\d{3})", "$1 $2 $3", ["[246]|9[57]"]]],
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        "00",
    ],
    SD: ["249", "00", "[19]\\d{8}", [9], [["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[19]"], "0$1"]], "0"],
    SE: [
        "46",
        "00",
        "(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",
        [6, 7, 8, 9, 10],
        [
            ["(\\d{2})(\\d{2,3})(\\d{2})", "$1-$2 $3", ["20"], "0$1", 0, "$1 $2 $3"],
            ["(\\d{3})(\\d{4})", "$1-$2", ["9(?:00|39|44)"], "0$1", 0, "$1 $2"],
            ["(\\d{2})(\\d{3})(\\d{2})", "$1-$2 $3", ["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"], "0$1", 0, "$1 $2 $3"],
            ["(\\d)(\\d{2,3})(\\d{2})(\\d{2})", "$1-$2 $3 $4", ["8"], "0$1", 0, "$1 $2 $3 $4"],
            [
                "(\\d{3})(\\d{2,3})(\\d{2})",
                "$1-$2 $3",
                [
                    "1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])",
                ],
                "0$1",
                0,
                "$1 $2 $3",
            ],
            ["(\\d{3})(\\d{2,3})(\\d{3})", "$1-$2 $3", ["9(?:00|39|44)"], "0$1", 0, "$1 $2 $3"],
            [
                "(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})",
                "$1-$2 $3 $4",
                ["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],
                "0$1",
                0,
                "$1 $2 $3 $4",
            ],
            ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1-$2 $3 $4", ["10|7"], "0$1", 0, "$1 $2 $3 $4"],
            ["(\\d)(\\d{3})(\\d{3})(\\d{2})", "$1-$2 $3 $4", ["8"], "0$1", 0, "$1 $2 $3 $4"],
            [
                "(\\d{3})(\\d{2})(\\d{2})(\\d{2})",
                "$1-$2 $3 $4",
                ["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],
                "0$1",
                0,
                "$1 $2 $3 $4",
            ],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{3})", "$1-$2 $3 $4", ["9"], "0$1", 0, "$1 $2 $3 $4"],
            ["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1-$2 $3 $4 $5", ["[26]"], "0$1", 0, "$1 $2 $3 $4 $5"],
        ],
        "0",
    ],
    SG: [
        "65",
        "0[0-3]\\d",
        "(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",
        [8, 10, 11],
        [
            ["(\\d{4})(\\d{4})", "$1 $2", ["[369]|8(?:0[1-4]|[1-9])"]],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"]],
            ["(\\d{4})(\\d{4})(\\d{3})", "$1 $2 $3", ["7"]],
            ["(\\d{4})(\\d{3})(\\d{4})", "$1 $2 $3", ["1"]],
        ],
    ],
    SH: ["290", "00", "(?:[256]\\d|8)\\d{3}", [4, 5], 0, 0, 0, 0, 0, 0, "[256]"],
    SI: [
        "386",
        "00|10(?:22|66|88|99)",
        "[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",
        [5, 6, 7, 8],
        [
            ["(\\d{2})(\\d{3,6})", "$1 $2", ["8[09]|9"], "0$1"],
            ["(\\d{3})(\\d{5})", "$1 $2", ["59|8"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[37][01]|4[0139]|51|6"], "0$1"],
            ["(\\d)(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[1-57]"], "(0$1)"],
        ],
        "0",
        0,
        0,
        0,
        0,
        0,
        0,
        "00",
    ],
    SJ: ["47", "00", "0\\d{4}|(?:[489]\\d|[57]9)\\d{6}", [5, 8], 0, 0, 0, 0, 0, 0, "79"],
    SK: [
        "421",
        "00",
        "[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",
        [6, 7, 9],
        [
            ["(\\d)(\\d{2})(\\d{3,4})", "$1 $2 $3", ["21"], "0$1"],
            ["(\\d{2})(\\d{2})(\\d{2,3})", "$1 $2 $3", ["[3-5][1-8]1", "[3-5][1-8]1[67]"], "0$1"],
            ["(\\d)(\\d{3})(\\d{3})(\\d{2})", "$1/$2 $3 $4", ["2"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[689]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1/$2 $3 $4", ["[3-5]"], "0$1"],
        ],
        "0",
    ],
    SL: ["232", "00", "(?:[237-9]\\d|66)\\d{6}", [8], [["(\\d{2})(\\d{6})", "$1 $2", ["[236-9]"], "(0$1)"]], "0"],
    SM: [
        "378",
        "00",
        "(?:0549|[5-7]\\d)\\d{6}",
        [8, 10],
        [
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[5-7]"]],
            ["(\\d{4})(\\d{6})", "$1 $2", ["0"]],
        ],
        0,
        0,
        "([89]\\d{5})$",
        "0549$1",
    ],
    SN: [
        "221",
        "00",
        "(?:[378]\\d|93)\\d{7}",
        [9],
        [
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"]],
            ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[379]"]],
        ],
    ],
    SO: [
        "252",
        "00",
        "[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",
        [6, 7, 8, 9],
        [
            ["(\\d{2})(\\d{4})", "$1 $2", ["8[125]"]],
            ["(\\d{6})", "$1", ["[134]"]],
            ["(\\d)(\\d{6})", "$1 $2", ["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],
            ["(\\d)(\\d{7})", "$1 $2", ["24|[67]"]],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[3478]|64|90"]],
            ["(\\d{2})(\\d{5,7})", "$1 $2", ["1|28|6(?:0[5-7]|[1-35-9])|9[2-9]"]],
        ],
        "0",
    ],
    SR: [
        "597",
        "00",
        "(?:[2-5]|68|[78]\\d)\\d{5}",
        [6, 7],
        [
            ["(\\d{2})(\\d{2})(\\d{2})", "$1-$2-$3", ["56"]],
            ["(\\d{3})(\\d{3})", "$1-$2", ["[2-5]"]],
            ["(\\d{3})(\\d{4})", "$1-$2", ["[6-8]"]],
        ],
    ],
    SS: ["211", "00", "[19]\\d{8}", [9], [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[19]"], "0$1"]], "0"],
    ST: ["239", "00", "(?:22|9\\d)\\d{5}", [7], [["(\\d{3})(\\d{4})", "$1 $2", ["[29]"]]]],
    SV: [
        "503",
        "00",
        "[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",
        [7, 8, 11],
        [
            ["(\\d{3})(\\d{4})", "$1 $2", ["[89]"]],
            ["(\\d{4})(\\d{4})", "$1 $2", ["[267]"]],
            ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["[89]"]],
        ],
    ],
    SX: ["1", "011", "7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|(5\\d{6})$", "721$1", 0, "721"],
    SY: [
        "963",
        "00",
        "[1-39]\\d{8}|[1-5]\\d{7}",
        [8, 9],
        [
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[1-5]"], "0$1", 1],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["9"], "0$1", 1],
        ],
        "0",
    ],
    SZ: [
        "268",
        "00",
        "0800\\d{4}|(?:[237]\\d|900)\\d{6}",
        [8, 9],
        [
            ["(\\d{4})(\\d{4})", "$1 $2", ["[0237]"]],
            ["(\\d{5})(\\d{4})", "$1 $2", ["9"]],
        ],
    ],
    TA: ["290", "00", "8\\d{3}", [4], 0, 0, 0, 0, 0, 0, "8"],
    TC: ["1", "011", "(?:[58]\\d\\d|649|900)\\d{7}", [10], 0, "1", 0, "1|([2-479]\\d{6})$", "649$1", 0, "649"],
    TD: [
        "235",
        "00|16",
        "(?:22|[69]\\d|77)\\d{6}",
        [8],
        [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[2679]"]]],
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        "00",
    ],
    TG: ["228", "00", "[279]\\d{7}", [8], [["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[279]"]]]],
    TH: [
        "66",
        "00[1-9]",
        "(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",
        [8, 9, 10, 13],
        [
            ["(\\d)(\\d{3})(\\d{4})", "$1 $2 $3", ["2"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[13-9]"], "0$1"],
            ["(\\d{4})(\\d{3})(\\d{3})", "$1 $2 $3", ["1"]],
        ],
        "0",
    ],
    TJ: [
        "992",
        "810",
        "(?:00|[1-57-9]\\d)\\d{7}",
        [9],
        [
            ["(\\d{6})(\\d)(\\d{2})", "$1 $2 $3", ["331", "3317"]],
            ["(\\d{3})(\\d{2})(\\d{4})", "$1 $2 $3", ["[34]7|91[78]"]],
            ["(\\d{4})(\\d)(\\d{4})", "$1 $2 $3", ["3[1-5]"]],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[0-57-9]"]],
        ],
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        "8~10",
    ],
    TK: ["690", "00", "[2-47]\\d{3,6}", [4, 5, 6, 7]],
    TL: [
        "670",
        "00",
        "7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",
        [7, 8],
        [
            ["(\\d{3})(\\d{4})", "$1 $2", ["[2-489]|70"]],
            ["(\\d{4})(\\d{4})", "$1 $2", ["7"]],
        ],
    ],
    TM: [
        "993",
        "810",
        "[1-6]\\d{7}",
        [8],
        [
            ["(\\d{2})(\\d{2})(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["12"], "(8 $1)"],
            ["(\\d{3})(\\d)(\\d{2})(\\d{2})", "$1 $2-$3-$4", ["[1-5]"], "(8 $1)"],
            ["(\\d{2})(\\d{6})", "$1 $2", ["6"], "8 $1"],
        ],
        "8",
        0,
        0,
        0,
        0,
        0,
        0,
        "8~10",
    ],
    TN: ["216", "00", "[2-57-9]\\d{7}", [8], [["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-57-9]"]]]],
    TO: [
        "676",
        "00",
        "(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",
        [5, 7],
        [
            ["(\\d{2})(\\d{3})", "$1-$2", ["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],
            ["(\\d{4})(\\d{3})", "$1 $2", ["0"]],
            ["(\\d{3})(\\d{4})", "$1 $2", ["[5-9]"]],
        ],
    ],
    TR: [
        "90",
        "00",
        "4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",
        [7, 10, 12, 13],
        [
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["512|8[01589]|90"], "0$1", 1],
            [
                "(\\d{3})(\\d{3})(\\d{2})(\\d{2})",
                "$1 $2 $3 $4",
                ["5(?:[0-59]|61)", "5(?:[0-59]|616)", "5(?:[0-59]|6161)"],
                "0$1",
                1,
            ],
            ["(\\d{3})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[24][1-8]|3[1-9]"], "(0$1)", 1],
            ["(\\d{3})(\\d{3})(\\d{6,7})", "$1 $2 $3", ["80"], "0$1", 1],
        ],
        "0",
    ],
    TT: ["1", "011", "(?:[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-46-8]\\d{6})$", "868$1", 0, "868"],
    TV: [
        "688",
        "00",
        "(?:2|7\\d\\d|90)\\d{4}",
        [5, 6, 7],
        [
            ["(\\d{2})(\\d{3})", "$1 $2", ["2"]],
            ["(\\d{2})(\\d{4})", "$1 $2", ["90"]],
            ["(\\d{2})(\\d{5})", "$1 $2", ["7"]],
        ],
    ],
    TW: [
        "886",
        "0(?:0[25-79]|19)",
        "[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",
        [7, 8, 9, 10, 11],
        [
            ["(\\d{2})(\\d)(\\d{4})", "$1 $2 $3", ["202"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[258]0"], "0$1"],
            [
                "(\\d)(\\d{3,4})(\\d{4})",
                "$1 $2 $3",
                ["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]", "[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],
                "0$1",
            ],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[49]"], "0$1"],
            ["(\\d{2})(\\d{4})(\\d{4,5})", "$1 $2 $3", ["7"], "0$1"],
        ],
        "0",
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        "#",
    ],
    TZ: [
        "255",
        "00[056]",
        "(?:[26-8]\\d|41|90)\\d{7}",
        [9],
        [
            ["(\\d{3})(\\d{2})(\\d{4})", "$1 $2 $3", ["[89]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[24]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[67]"], "0$1"],
        ],
        "0",
    ],
    UA: [
        "380",
        "00",
        "[89]\\d{9}|[3-9]\\d{8}",
        [9, 10],
        [
            [
                "(\\d{3})(\\d{3})(\\d{3})",
                "$1 $2 $3",
                [
                    "6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]",
                    "6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]",
                ],
                "0$1",
            ],
            [
                "(\\d{2})(\\d{3})(\\d{4})",
                "$1 $2 $3",
                [
                    "4[45][0-5]|5(?:0|6[37])|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]",
                    "4[45][0-5]|5(?:0|6(?:3[14-7]|7))|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]",
                ],
                "0$1",
            ],
            ["(\\d{4})(\\d{5})", "$1 $2", ["[3-6]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[89]"], "0$1"],
        ],
        "0",
        0,
        0,
        0,
        0,
        0,
        0,
        "0~0",
    ],
    UG: [
        "256",
        "00[057]",
        "800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",
        [9],
        [
            ["(\\d{4})(\\d{5})", "$1 $2", ["202", "2024"], "0$1"],
            ["(\\d{3})(\\d{6})", "$1 $2", ["[27-9]|4(?:6[45]|[7-9])"], "0$1"],
            ["(\\d{2})(\\d{7})", "$1 $2", ["[34]"], "0$1"],
        ],
        "0",
    ],
    US: [
        "1",
        "011",
        "[2-9]\\d{9}",
        [10],
        [["(\\d{3})(\\d{3})(\\d{4})", "($1) $2-$3", ["[2-9]"], 0, 1, "$1-$2-$3"]],
        "1",
        0,
        0,
        0,
        0,
        0,
        [
            [
                "5(?:05(?:[2-57-9]\\d\\d|6(?:[0-35-9]\\d|44))|82(?:2(?:0[0-3]|[268]2)|3(?:0[02]|33)|4(?:00|4[24]|65|82)|5(?:00|29|83)|6(?:00|66|82)|777|8(?:00|88)|9(?:00|9[89])))\\d{4}|(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[01356]|3[0-24679]|4[167]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[39]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[0-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[0179]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-289]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01579]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}",
            ],
            [""],
            ["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],
            ["900[2-9]\\d{6}"],
            [
                "52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",
            ],
        ],
    ],
    UY: [
        "598",
        "0(?:0|1[3-9]\\d)",
        "4\\d{9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",
        [7, 8, 10],
        [
            ["(\\d{3})(\\d{4})", "$1 $2", ["405|8|90"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["9"], "0$1"],
            ["(\\d{4})(\\d{4})", "$1 $2", ["[124]"]],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["4"], "0$1"],
        ],
        "0",
        0,
        0,
        0,
        0,
        0,
        0,
        "00",
        " int. ",
    ],
    UZ: [
        "998",
        "810",
        "(?:33|55|[679]\\d|88)\\d{7}",
        [9],
        [["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[35-9]"], "8 $1"]],
        "8",
        0,
        0,
        0,
        0,
        0,
        0,
        "8~10",
    ],
    VA: [
        "39",
        "00",
        "0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",
        [6, 7, 8, 9, 10, 11],
        0,
        0,
        0,
        0,
        0,
        0,
        "06698",
    ],
    VC: ["1", "011", "(?:[58]\\d\\d|784|900)\\d{7}", [10], 0, "1", 0, "1|([2-7]\\d{6})$", "784$1", 0, "784"],
    VE: [
        "58",
        "00",
        "[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",
        [10],
        [["(\\d{3})(\\d{7})", "$1-$2", ["[24-689]"], "0$1"]],
        "0",
    ],
    VG: ["1", "011", "(?:284|[58]\\d\\d|900)\\d{7}", [10], 0, "1", 0, "1|([2-578]\\d{6})$", "284$1", 0, "284"],
    VI: ["1", "011", "[58]\\d{9}|(?:34|90)0\\d{7}", [10], 0, "1", 0, "1|([2-9]\\d{6})$", "340$1", 0, "340"],
    VN: [
        "84",
        "00",
        "[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",
        [7, 8, 9, 10],
        [
            ["(\\d{2})(\\d{5})", "$1 $2", ["80"], "0$1", 1],
            ["(\\d{4})(\\d{4,6})", "$1 $2", ["1"], 0, 1],
            ["(\\d{2})(\\d{3})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["[69]"], "0$1", 1],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[3578]"], "0$1", 1],
            ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["2[48]"], "0$1", 1],
            ["(\\d{3})(\\d{4})(\\d{3})", "$1 $2 $3", ["2"], "0$1", 1],
        ],
        "0",
    ],
    VU: ["678", "00", "[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}", [5, 7], [["(\\d{3})(\\d{4})", "$1 $2", ["[57-9]"]]]],
    WF: [
        "681",
        "00",
        "(?:40|72)\\d{4}|8\\d{5}(?:\\d{3})?",
        [6, 9],
        [
            ["(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3", ["[478]"]],
            ["(\\d{3})(\\d{2})(\\d{2})(\\d{2})", "$1 $2 $3 $4", ["8"]],
        ],
    ],
    WS: [
        "685",
        "0",
        "(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",
        [5, 6, 7, 10],
        [
            ["(\\d{5})", "$1", ["[2-5]|6[1-9]"]],
            ["(\\d{3})(\\d{3,7})", "$1 $2", ["[68]"]],
            ["(\\d{2})(\\d{5})", "$1 $2", ["7"]],
        ],
    ],
    XK: [
        "383",
        "00",
        "[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}",
        [8, 9],
        [
            ["(\\d{3})(\\d{5})", "$1 $2", ["[89]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{3})", "$1 $2 $3", ["[2-4]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[23]"], "0$1"],
        ],
        "0",
    ],
    YE: [
        "967",
        "00",
        "(?:1|7\\d)\\d{7}|[1-7]\\d{6}",
        [7, 8, 9],
        [
            ["(\\d)(\\d{3})(\\d{3,4})", "$1 $2 $3", ["[1-6]|7[24-68]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["7"], "0$1"],
        ],
        "0",
    ],
    YT: ["262", "00", "80\\d{7}|(?:26|63)9\\d{6}", [9], 0, "0", 0, 0, 0, 0, "269|63"],
    ZA: [
        "27",
        "00",
        "[1-79]\\d{8}|8\\d{4,9}",
        [5, 6, 7, 8, 9, 10],
        [
            ["(\\d{2})(\\d{3,4})", "$1 $2", ["8[1-4]"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{2,3})", "$1 $2 $3", ["8[1-4]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["860"], "0$1"],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["[1-9]"], "0$1"],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["8"], "0$1"],
        ],
        "0",
    ],
    ZM: [
        "260",
        "00",
        "(?:63|80)0\\d{6}|(?:21|[79]\\d)\\d{7}",
        [9],
        [
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[28]"], "0$1"],
            ["(\\d{2})(\\d{7})", "$1 $2", ["[79]"], "0$1"],
        ],
        "0",
    ],
    ZW: [
        "263",
        "00",
        "2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",
        [5, 6, 7, 8, 9, 10],
        [
            [
                "(\\d{3})(\\d{3,5})",
                "$1 $2",
                ["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],
                "0$1",
            ],
            ["(\\d)(\\d{3})(\\d{2,4})", "$1 $2 $3", ["[49]"], "0$1"],
            ["(\\d{3})(\\d{4})", "$1 $2", ["80"], "0$1"],
            [
                "(\\d{2})(\\d{7})",
                "$1 $2",
                [
                    "24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2",
                    "2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]",
                ],
                "(0$1)",
            ],
            ["(\\d{2})(\\d{3})(\\d{4})", "$1 $2 $3", ["7"], "0$1"],
            [
                "(\\d{3})(\\d{3})(\\d{3,4})",
                "$1 $2 $3",
                ["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)", "2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],
                "0$1",
            ],
            ["(\\d{4})(\\d{6})", "$1 $2", ["8"], "0$1"],
            [
                "(\\d{2})(\\d{3,5})",
                "$1 $2",
                [
                    "1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]",
                ],
                "0$1",
            ],
            ["(\\d{2})(\\d{3})(\\d{3,4})", "$1 $2 $3", ["29[013-9]|39|54"], "0$1"],
            ["(\\d{4})(\\d{3,5})", "$1 $2", ["(?:25|54)8", "258|5483"], "0$1"],
        ],
        "0",
    ],
};
var nonGeographic = {
    800: [
        "800",
        0,
        "(?:005|[1-9]\\d\\d)\\d{5}",
        [8],
        [["(\\d{4})(\\d{4})", "$1 $2", ["\\d"]]],
        0,
        0,
        0,
        0,
        0,
        0,
        [0, 0, ["(?:005|[1-9]\\d\\d)\\d{5}"]],
    ],
    808: [
        "808",
        0,
        "[1-9]\\d{7}",
        [8],
        [["(\\d{4})(\\d{4})", "$1 $2", ["[1-9]"]]],
        0,
        0,
        0,
        0,
        0,
        0,
        [0, 0, 0, 0, 0, 0, 0, 0, 0, ["[1-9]\\d{7}"]],
    ],
    870: [
        "870",
        0,
        "7\\d{11}|[35-7]\\d{8}",
        [9, 12],
        [["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["[35-7]"]]],
        0,
        0,
        0,
        0,
        0,
        0,
        [0, ["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"]],
    ],
    878: [
        "878",
        0,
        "10\\d{10}",
        [12],
        [["(\\d{2})(\\d{5})(\\d{5})", "$1 $2 $3", ["1"]]],
        0,
        0,
        0,
        0,
        0,
        0,
        [0, 0, 0, 0, 0, 0, 0, 0, ["10\\d{10}"]],
    ],
    881: [
        "881",
        0,
        "[0-36-9]\\d{8}",
        [9],
        [["(\\d)(\\d{3})(\\d{5})", "$1 $2 $3", ["[0-36-9]"]]],
        0,
        0,
        0,
        0,
        0,
        0,
        [0, ["[0-36-9]\\d{8}"]],
    ],
    882: [
        "882",
        0,
        "[13]\\d{6}(?:\\d{2,5})?|285\\d{9}|(?:[19]\\d|49)\\d{6}",
        [7, 8, 9, 10, 11, 12],
        [
            ["(\\d{2})(\\d{5})", "$1 $2", ["16|342"]],
            ["(\\d{2})(\\d{6})", "$1 $2", ["4"]],
            ["(\\d{2})(\\d{2})(\\d{4})", "$1 $2 $3", ["[19]"]],
            ["(\\d{2})(\\d{4})(\\d{3})", "$1 $2 $3", ["3[23]"]],
            ["(\\d{2})(\\d{3,4})(\\d{4})", "$1 $2 $3", ["1"]],
            ["(\\d{2})(\\d{4})(\\d{4})", "$1 $2 $3", ["34[57]"]],
            ["(\\d{3})(\\d{4})(\\d{4})", "$1 $2 $3", ["34"]],
            ["(\\d{2})(\\d{4,5})(\\d{5})", "$1 $2 $3", ["[1-3]"]],
        ],
        0,
        0,
        0,
        0,
        0,
        0,
        [
            0,
            ["342\\d{4}|(?:337|49)\\d{6}|3(?:2|47|7\\d{3})\\d{7}", [7, 8, 9, 10, 12]],
            0,
            0,
            0,
            0,
            0,
            0,
            [
                "1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:(?:285\\d\\d|3(?:45|[69]\\d{3}))\\d|9[89])\\d{6}",
            ],
        ],
    ],
    883: [
        "883",
        0,
        "210\\d{7}|51\\d{7}(?:\\d{3})?",
        [9, 10, 12],
        [
            ["(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3", ["510"]],
            ["(\\d{3})(\\d{3})(\\d{4})", "$1 $2 $3", ["2"]],
            ["(\\d{3})(\\d{3})(\\d{3})(\\d{3})", "$1 $2 $3 $4", ["510"]],
            ["(\\d{4})(\\d{4})(\\d{4})", "$1 $2 $3", ["5"]],
        ],
        0,
        0,
        0,
        0,
        0,
        0,
        [0, 0, 0, 0, 0, 0, 0, 0, ["(?:210|51[013]0\\d)\\d{7}|5100\\d{5}"]],
    ],
    888: [
        "888",
        0,
        "\\d{11}",
        [11],
        [["(\\d{3})(\\d{3})(\\d{5})", "$1 $2 $3"]],
        0,
        0,
        0,
        0,
        0,
        0,
        [0, 0, 0, 0, 0, 0, ["\\d{11}"]],
    ],
    979: [
        "979",
        0,
        "[1359]\\d{8}",
        [9],
        [["(\\d)(\\d{4})(\\d{4})", "$1 $2 $3", ["[1359]"]]],
        0,
        0,
        0,
        0,
        0,
        0,
        [0, 0, 0, ["[1359]\\d{8}"]],
    ],
};
var metadata$1 = {
    version: version,
    country_calling_codes: country_calling_codes,
    countries: countries,
    nonGeographic: nonGeographic,
};

var classnames$1 = authRecipe.createCommonjsModule(function (module) {
    /*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
    /* global define */

    (function () {
        var hasOwn = {}.hasOwnProperty;

        function classNames() {
            var classes = [];

            for (var i = 0; i < arguments.length; i++) {
                var arg = arguments[i];
                if (!arg) continue;

                var argType = typeof arg;

                if (argType === "string" || argType === "number") {
                    classes.push(arg);
                } else if (Array.isArray(arg)) {
                    if (arg.length) {
                        var inner = classNames.apply(null, arg);
                        if (inner) {
                            classes.push(inner);
                        }
                    }
                } else if (argType === "object") {
                    if (
                        arg.toString !== Object.prototype.toString &&
                        !arg.toString.toString().includes("[native code]")
                    ) {
                        classes.push(arg.toString());
                        continue;
                    }

                    for (var key in arg) {
                        if (hasOwn.call(arg, key) && arg[key]) {
                            classes.push(key);
                        }
                    }
                }
            }

            return classes.join(" ");
        }

        if (module.exports) {
            classNames.default = classNames;
            module.exports = classNames;
        } else {
            window.classNames = classNames;
        }
    })();
});

// Edits text `value` (if `operation` is passed) and repositions the `caret` if needed.
//
// Example:
//
// value - '88005553535'
// caret - 2 // starting from 0; is positioned before the first zero
// operation - 'Backspace'
//
// Returns
// {
// 	value: '8005553535'
// 	caret: 1
// }
//
// Currently supports just 'Delete' and 'Backspace' operations
//
function edit(value, caret, operation) {
    switch (operation) {
        case "Backspace":
            // If there exists the previous character,
            // then erase it and reposition the caret.
            if (caret > 0) {
                // Remove the previous character
                value = value.slice(0, caret - 1) + value.slice(caret); // Position the caret where the previous (erased) character was

                caret--;
            }

            break;

        case "Delete":
            // Remove current digit (if any)
            value = value.slice(0, caret) + value.slice(caret + 1);
            break;
    }

    return {
        value: value,
        caret: caret,
    };
}

// Parses the `text`.
//
// Returns `{ value, caret }` where `caret` is
// the caret position inside `value`
// corresponding to the `caret_position` inside `text`.
//
// The `text` is parsed by feeding each character sequentially to
// `parse_character(character, value)` function
// and appending the result (if it's not `undefined`) to `value`.
//
// Example:
//
// `text` is `8 (800) 555-35-35`,
// `caret_position` is `4` (before the first `0`).
// `parse_character` is `(character, value) =>
//   if (character >= '0' && character <= '9') { return character }`.
//
// then `parse()` outputs `{ value: '88005553535', caret: 2 }`.
//
function parse(text, caret_position, parse_character) {
    var value = "";
    var focused_input_character_index = 0;
    var index = 0;

    while (index < text.length) {
        var character = parse_character(text[index], value);

        if (character !== undefined) {
            value += character;

            if (caret_position !== undefined) {
                if (caret_position === index) {
                    focused_input_character_index = value.length - 1;
                } else if (caret_position > index) {
                    focused_input_character_index = value.length;
                }
            }
        }

        index++;
    } // If caret position wasn't specified

    if (caret_position === undefined) {
        // Then set caret position to "after the last input character"
        focused_input_character_index = value.length;
    }

    var result = {
        value: value,
        caret: focused_input_character_index,
    };
    return result;
}

function _createForOfIteratorHelperLoose$1(o, allowArrayLike) {
    var it = (typeof Symbol !== "undefined" && o[Symbol.iterator]) || o["@@iterator"];
    if (it) return (it = it.call(o)).next.bind(it);
    if (
        Array.isArray(o) ||
        (it = _unsupportedIterableToArray$2(o)) ||
        (allowArrayLike && o && typeof o.length === "number")
    ) {
        if (it) o = it;
        var i = 0;
        return function () {
            if (i >= o.length) return { done: true };
            return { done: false, value: o[i++] };
        };
    }
    throw new TypeError(
        "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
    );
}

function _unsupportedIterableToArray$2(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray$2(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen);
}

function _arrayLikeToArray$2(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for (var i = 0, arr2 = new Array(len); i < len; i++) {
        arr2[i] = arr[i];
    }
    return arr2;
}

// Counts all occurences of a symbol in a string
function count_occurences(symbol, string) {
    var count = 0; // Using `.split('')` here instead of normal `for ... of`
    // because the importing application doesn't neccessarily include an ES6 polyfill.
    // The `.split('')` approach discards "exotic" UTF-8 characters
    // (the ones consisting of four bytes)
    // but template placeholder characters don't fall into that range
    // so skipping such miscellaneous "exotic" characters
    // won't matter here for just counting placeholder character occurrences.

    for (var _iterator = _createForOfIteratorHelperLoose$1(string.split("")), _step; !(_step = _iterator()).done; ) {
        var character = _step.value;

        if (character === symbol) {
            count++;
        }
    }

    return count;
}

function closeBraces(retained_template, template) {
    var placeholder = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "x";
    var empty_placeholder = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : " ";
    var cut_before = retained_template.length;
    var opening_braces = count_occurences("(", retained_template);
    var closing_braces = count_occurences(")", retained_template);
    var dangling_braces = opening_braces - closing_braces;

    while (dangling_braces > 0 && cut_before < template.length) {
        retained_template += template[cut_before].replace(placeholder, empty_placeholder);

        if (template[cut_before] === ")") {
            dangling_braces--;
        }

        cut_before++;
    }

    return retained_template;
}

function _createForOfIteratorHelperLoose(o, allowArrayLike) {
    var it = (typeof Symbol !== "undefined" && o[Symbol.iterator]) || o["@@iterator"];
    if (it) return (it = it.call(o)).next.bind(it);
    if (
        Array.isArray(o) ||
        (it = _unsupportedIterableToArray$1(o)) ||
        (allowArrayLike && o && typeof o.length === "number")
    ) {
        if (it) o = it;
        var i = 0;
        return function () {
            if (i >= o.length) return { done: true };
            return { done: false, value: o[i++] };
        };
    }
    throw new TypeError(
        "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
    );
}

function _unsupportedIterableToArray$1(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray$1(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);
}

function _arrayLikeToArray$1(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for (var i = 0, arr2 = new Array(len); i < len; i++) {
        arr2[i] = arr[i];
    }
    return arr2;
}
// are denoted by 'x'es (e.g. 'x (xxx) xxx-xx-xx').
//
// Returns a function which takes `value` characters
// and returns the `template` filled with those characters.
// If the `template` can only be partially filled
// then it is cut off.
//
// If `should_close_braces` is `true`,
// then it will also make sure all dangling braces are closed,
// e.g. "8 (8" -> "8 (8  )" (iPhone style phone number input).
//

function template_formatter(template) {
    var placeholder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "x";
    var should_close_braces = arguments.length > 2 ? arguments[2] : undefined;

    if (!template) {
        return function (value) {
            return {
                text: value,
            };
        };
    }

    var characters_in_template = count_occurences(placeholder, template);
    return function (value) {
        if (!value) {
            return {
                text: "",
                template: template,
            };
        }

        var value_character_index = 0;
        var filled_in_template = ""; // Using `.split('')` here instead of normal `for ... of`
        // because the importing application doesn't neccessarily include an ES6 polyfill.
        // The `.split('')` approach discards "exotic" UTF-8 characters
        // (the ones consisting of four bytes)
        // but template placeholder characters don't fall into that range
        // and appending UTF-8 characters to a string in parts still works.

        for (
            var _iterator = _createForOfIteratorHelperLoose(template.split("")), _step;
            !(_step = _iterator()).done;

        ) {
            var character = _step.value;

            if (character !== placeholder) {
                filled_in_template += character;
                continue;
            }

            filled_in_template += value[value_character_index];
            value_character_index++; // If the last available value character has been filled in,
            // then return the filled in template
            // (either trim the right part or retain it,
            //  if no more character placeholders in there)

            if (value_character_index === value.length) {
                // If there are more character placeholders
                // in the right part of the template
                // then simply trim it.
                if (value.length < characters_in_template) {
                    break;
                }
            }
        }

        if (should_close_braces) {
            filled_in_template = closeBraces(filled_in_template, template);
        }

        return {
            text: filled_in_template,
            template: template,
        };
    };
}

//
// `{ value, caret }` attribute is the result of `parse()` function call.
//
// Returns `{ text, caret }` where the new `caret` is the caret position
// inside `text` text corresponding to the original `caret` position inside `value`.
//
// `formatter(value)` is a function returning `{ text, template }`.
//
// `text` is the `value` value formatted using `template`.
// It may either cut off the non-filled right part of the `template`
// or it may fill the non-filled character placeholders
// in the right part of the `template` with `spacer`
// which is a space (' ') character by default.
//
// `template` is the template used to format the `value`.
// It can be either a full-length template or a partial template.
//
// `formatter` can also be a string  a `template`
// where character placeholders are denoted by 'x'es.
// In this case `formatter` function is automatically created.
//
// Example:
//
// `value` is '880',
// `caret` is `2` (before the first `0`)
//
// `formatter` is `'880' =>
//   { text: '8 (80 )', template: 'x (xxx) xxx-xx-xx' }`
//
// The result is `{ text: '8 (80 )', caret: 4 }`.
//

function format$1(value, caret, formatter) {
    if (typeof formatter === "string") {
        formatter = template_formatter(formatter);
    }

    var _ref = formatter(value) || {},
        text = _ref.text,
        template = _ref.template;

    if (text === undefined) {
        text = value;
    }

    if (template) {
        if (caret === undefined) {
            caret = text.length;
        } else {
            var index = 0;
            var found = false;
            var possibly_last_input_character_index = -1;

            while (index < text.length && index < template.length) {
                // Character placeholder found
                if (text[index] !== template[index]) {
                    if (caret === 0) {
                        found = true;
                        caret = index;
                        break;
                    }

                    possibly_last_input_character_index = index;
                    caret--;
                }

                index++;
            } // If the caret was positioned after last input character,
            // then the text caret index is just after the last input character.

            if (!found) {
                caret = possibly_last_input_character_index + 1;
            }
        }
    }

    return {
        text: text,
        caret: caret,
    };
}

function isReadOnly(element) {
    return element.hasAttribute("readonly");
} // Gets <input/> selection bounds

function getSelection(element) {
    // If no selection, return nothing
    if (element.selectionStart === element.selectionEnd) {
        return;
    }

    return {
        start: element.selectionStart,
        end: element.selectionEnd,
    };
} // Key codes

var Keys = {
    Backspace: 8,
    Delete: 46,
}; // Finds out the operation to be intercepted and performed
// based on the key down event `keyCode`.

function getOperation(event) {
    switch (event.keyCode) {
        case Keys.Backspace:
            return "Backspace";

        case Keys.Delete:
            return "Delete";
    }
} // Gets <input/> caret position

function getCaretPosition(element) {
    return element.selectionStart;
} // Sets <input/> caret position

function setCaretPosition(element, caret_position) {
    // Sanity check
    if (caret_position === undefined) {
        return;
    } // Set caret position.
    // There has been an issue with caret positioning on Android devices.
    // https://github.com/catamphetamine/input-format/issues/2
    // I was revisiting this issue and looked for similar issues in other libraries.
    // For example, there's [`text-mask`](https://github.com/text-mask/text-mask) library.
    // They've had exactly the same issue when the caret seemingly refused to be repositioned programmatically.
    // The symptoms were the same: whenever the caret passed through a non-digit character of a mask (a whitespace, a bracket, a dash, etc), it looked as if it placed itself one character before its correct position.
    // https://github.com/text-mask/text-mask/issues/300
    // They seem to have found a basic fix for it: calling `input.setSelectionRange()` in a timeout rather than instantly for Android devices.
    // https://github.com/text-mask/text-mask/pull/400/files
    // I've implemented the same workaround here.

    if (isAndroid()) {
        setTimeout(function () {
            return element.setSelectionRange(caret_position, caret_position);
        }, 0);
    } else {
        element.setSelectionRange(caret_position, caret_position);
    }
}

function isAndroid() {
    // `navigator` is not defined when running mocha tests.
    if (typeof navigator !== "undefined") {
        return ANDROID_USER_AGENT_REG_EXP.test(navigator.userAgent);
    }
}

var ANDROID_USER_AGENT_REG_EXP = /Android/i;

function onChange(event, input, _parse, _format, on_change) {
    formatInputText(input, _parse, _format, undefined, on_change);
} // "Delete" and "Backspace" keys are special
// in a way that they're not handled by the regular `onChange()` handler
// and instead are intercepted and re-applied manually.
// The reason is that normally hitting "Backspace" or "Delete"
// results in erasing a character, but that character might be any character,
// while it would be a better "user experience" if it erased not just any character
// but the closest "meaningful" character.
// For example, if a template is `(xxx) xxx-xxxx`,
// and the `<input/>` value is `(111) 222-3333`,
// then, if a user begins erasing the `3333` part via "Backspace"
// and reaches the "-" character, then it would just erase the "-" character.
// Nothing wrong with that, but it would be a better "user experience"
// if hitting "Backspace" at that position would erase the closest "meaningful"
// character, which would be the rightmost `2`.
// So, what this `onKeyDown()` handler does is it intercepts
// "Backspace" and "Delete" keys and re-applies those operations manually
// following the logic described above.

function onKeyDown(event, input, _parse, _format, on_change) {
    if (isReadOnly(input)) {
        return;
    }

    var operation = getOperation(event);

    switch (operation) {
        case "Delete":
        case "Backspace":
            // Intercept this operation and perform it manually.
            event.preventDefault();
            var selection = getSelection(input); // If a selection is made, just erase the selected text.

            if (selection) {
                eraseSelection(input, selection);
                return formatInputText(input, _parse, _format, undefined, on_change);
            } // Else, perform the (character erasing) operation manually.

            return formatInputText(input, _parse, _format, operation, on_change);
    }
}
/**
 * Erases the selected text inside an `<input/>`.
 * @param  {DOMElement} input
 * @param  {Selection} selection
 */

function eraseSelection(input, selection) {
    var text = input.value;
    text = text.slice(0, selection.start) + text.slice(selection.end);
    input.value = text;
    setCaretPosition(input, selection.start);
}
/**
 * Parses and re-formats `<input/>` textual value.
 * E.g. when a user enters something into the `<input/>`
 * that raw input must first be parsed and the re-formatted properly.
 * Is called either after some user input (e.g. entered a character, pasted something)
 * or after the user performed an `operation` (e.g. "Backspace", "Delete").
 * @param  {DOMElement} input
 * @param  {Function} parse
 * @param  {Function} format
 * @param  {string} [operation] - The operation that triggered `<input/>` textual value change. E.g. "Backspace", "Delete".
 * @param  {Function} onChange
 */

function formatInputText(input, _parse, _format, operation, on_change) {
    // Parse `<input/>` textual value.
    // Get the `value` and `caret` position.
    var _parse2 = parse(input.value, getCaretPosition(input), _parse),
        value = _parse2.value,
        caret = _parse2.caret; // If a user performed an operation ("Backspace", "Delete")
    // then apply that operation and get the new `value` and `caret` position.

    if (operation) {
        var newValueAndCaret = edit(value, caret, operation);
        value = newValueAndCaret.value;
        caret = newValueAndCaret.caret;
    } // Format the `value`.
    // (and reposition the caret accordingly)

    var formatted = format$1(value, caret, _format);
    var text = formatted.text;
    caret = formatted.caret; // Set `<input/>` textual value manually
    // to prevent React from resetting the caret position
    // later inside a subsequent `render()`.
    // Doesn't work for custom `inputComponent`s for some reason.

    input.value = text; // Position the caret properly.

    setCaretPosition(input, caret); // If the `<input/>` textual value did change,
    // then the parsed `value` may have changed too.

    on_change(value);
}

var _excluded$5 = ["value", "parse", "format", "inputComponent", "onChange", "onKeyDown"];

function _extends$8() {
    _extends$8 =
        Object.assign ||
        function (target) {
            for (var i = 1; i < arguments.length; i++) {
                var source = arguments[i];
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
            return target;
        };
    return _extends$8.apply(this, arguments);
}

function _objectWithoutProperties$7(source, excluded) {
    if (source == null) return {};
    var target = _objectWithoutPropertiesLoose$7(source, excluded);
    var key, i;
    if (Object.getOwnPropertySymbols) {
        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
        for (i = 0; i < sourceSymbolKeys.length; i++) {
            key = sourceSymbolKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
            target[key] = source[key];
        }
    }
    return target;
}

function _objectWithoutPropertiesLoose$7(source, excluded) {
    if (source == null) return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i;
    for (i = 0; i < sourceKeys.length; i++) {
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0) continue;
        target[key] = source[key];
    }
    return target;
}
//
// <ReactInput
// 	value={this.state.phone}
// 	onChange={phone => this.setState({ phone })}
// 	parse={character => character}
// 	format={value => ({ text: value, template: 'xxxxxxxx' })}/>
//

function Input$1(_ref, ref) {
    var value = _ref.value,
        parse = _ref.parse,
        format = _ref.format,
        InputComponent = _ref.inputComponent,
        onChange$1 = _ref.onChange,
        onKeyDown$1 = _ref.onKeyDown,
        rest = _objectWithoutProperties$7(_ref, _excluded$5);

    var internalRef = React.useRef();
    var setRef = React.useCallback(
        function (instance) {
            internalRef.current = instance;

            if (ref) {
                if (typeof ref === "function") {
                    ref(instance);
                } else {
                    ref.current = instance;
                }
            }
        },
        [ref]
    );

    var _onChange = React.useCallback(
        function (event) {
            return onChange(event, internalRef.current, parse, format, onChange$1);
        },
        [internalRef, parse, format, onChange$1]
    );

    var _onKeyDown = React.useCallback(
        function (event) {
            if (onKeyDown$1) {
                onKeyDown$1(event);
            }

            return onKeyDown(event, internalRef.current, parse, format, onChange$1);
        },
        [internalRef, parse, format, onChange$1, onKeyDown$1]
    );

    return /*#__PURE__*/ React.createElement(
        InputComponent,
        _extends$8({}, rest, {
            ref: setRef,
            value: format(isEmptyValue(value) ? "" : value).text,
            onKeyDown: _onKeyDown,
            onChange: _onChange,
        })
    );
}

Input$1 = /*#__PURE__*/ React.forwardRef(Input$1);
Input$1.propTypes = {
    // Parses a single characher of `<input/>` text.
    parse: querier.PropTypes.func.isRequired,
    // Formats `value` into `<input/>` text.
    format: querier.PropTypes.func.isRequired,
    // Renders `<input/>` by default.
    inputComponent: querier.PropTypes.elementType.isRequired,
    // `<input/>` `type` attribute.
    type: querier.PropTypes.string.isRequired,
    // Is parsed from <input/> text.
    value: querier.PropTypes.string,
    // This handler is called each time `<input/>` text is changed.
    onChange: querier.PropTypes.func.isRequired,
    // Passthrough
    onKeyDown: querier.PropTypes.func,
    onCut: querier.PropTypes.func,
    onPaste: querier.PropTypes.func,
};
Input$1.defaultProps = {
    // Renders `<input/>` by default.
    inputComponent: "input",
    // `<input/>` `type` attribute.
    type: "text",
};
var Input$2 = Input$1;

function isEmptyValue(value) {
    return value === undefined || value === null;
}

function getInputValuePrefix(_ref) {
    var country = _ref.country,
        international = _ref.international,
        withCountryCallingCode = _ref.withCountryCallingCode,
        metadata = _ref.metadata;
    return country && international && !withCountryCallingCode
        ? "+".concat(getCountryCallingCode$1(country, metadata))
        : "";
}
function removeInputValuePrefix(value, prefix) {
    if (prefix) {
        value = value.slice(prefix.length);

        if (value[0] === " ") {
            value = value.slice(1);
        }
    }

    return value;
}

function _extends$7() {
    _extends$7 =
        Object.assign ||
        function (target) {
            for (var i = 1; i < arguments.length; i++) {
                var source = arguments[i];
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
            return target;
        };
    return _extends$7.apply(this, arguments);
}

function _objectWithoutProperties$6(source, excluded) {
    if (source == null) return {};
    var target = _objectWithoutPropertiesLoose$6(source, excluded);
    var key, i;
    if (Object.getOwnPropertySymbols) {
        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
        for (i = 0; i < sourceSymbolKeys.length; i++) {
            key = sourceSymbolKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
            target[key] = source[key];
        }
    }
    return target;
}

function _objectWithoutPropertiesLoose$6(source, excluded) {
    if (source == null) return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i;
    for (i = 0; i < sourceKeys.length; i++) {
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0) continue;
        target[key] = source[key];
    }
    return target;
}
function createInput$1(defaultMetadata) {
    /**
     * `InputSmart` is a "smarter" implementation of a `Component`
     * that can be passed to `<PhoneInput/>`. It parses and formats
     * the user's and maintains the caret's position in the process.
     * The caret positioning is maintained using `input-format` library.
     * Relies on being run in a DOM environment for calling caret positioning functions.
     */
    function InputSmart(_ref, ref) {
        var country = _ref.country,
            international = _ref.international,
            withCountryCallingCode = _ref.withCountryCallingCode,
            metadata = _ref.metadata,
            rest = _objectWithoutProperties$6(_ref, ["country", "international", "withCountryCallingCode", "metadata"]);

        var format = React.useCallback(
            function (value) {
                // "As you type" formatter.
                var formatter = new AsYouType(country, metadata);
                var prefix = getInputValuePrefix({
                    country: country,
                    international: international,
                    withCountryCallingCode: withCountryCallingCode,
                    metadata: metadata,
                }); // Format the number.

                var text = formatter.input(prefix + value);
                var template = formatter.getTemplate();

                if (prefix) {
                    text = removeInputValuePrefix(text, prefix); // `AsYouType.getTemplate()` can be `undefined`.

                    if (template) {
                        template = removeInputValuePrefix(template, prefix);
                    }
                }

                return {
                    text: text,
                    template: template,
                };
            },
            [country, metadata]
        );
        return React.createElement(
            Input$2,
            _extends$7({}, rest, {
                ref: ref,
                parse: parsePhoneNumberCharacter,
                format: format,
            })
        );
    }

    InputSmart = React.forwardRef(InputSmart);
    InputSmart.propTypes = {
        /**
         * The parsed phone number.
         * "Parsed" not in a sense of "E.164"
         * but rather in a sense of "having only
         * digits and possibly a leading plus character".
         * Examples: `""`, `"+"`, `"+123"`, `"123"`.
         */
        value: querier.PropTypes.string.isRequired,

        /**
         * A function of `value: string`.
         * Updates the `value` property.
         */
        onChange: querier.PropTypes.func.isRequired,

        /**
         * A two-letter country code for formatting `value`
         * as a national phone number (e.g. `(800) 555 35 35`).
         * E.g. "US", "RU", etc.
         * If no `country` is passed then `value`
         * is formatted as an international phone number.
         * (e.g. `+7 800 555 35 35`)
         * Perhaps the `country` property should have been called `defaultCountry`
         * because if `value` is an international number then `country` is ignored.
         */
        country: querier.PropTypes.string,

        /**
         * If `country` property is passed along with `international={true}` property
         * then the phone number will be input in "international" format for that `country`
         * (without "country calling code").
         * For example, if `country="US"` property is passed to "without country select" input
         * then the phone number will be input in the "national" format for `US` (`(213) 373-4253`).
         * But if both `country="US"` and `international={true}` properties are passed then
         * the phone number will be input in the "international" format for `US` (`213 373 4253`)
         * (without "country calling code" `+1`).
         */
        international: querier.PropTypes.bool,

        /**
         * If `country` and `international` properties are set,
         * then by default it won't include "country calling code" in the input field.
         * To change that, pass `withCountryCallingCode` property,
         * and it will include "country calling code" in the input field.
         */
        withCountryCallingCode: querier.PropTypes.bool,

        /**
         * `libphonenumber-js` metadata.
         */
        metadata: querier.PropTypes.object.isRequired,
    };
    InputSmart.defaultProps = {
        metadata: defaultMetadata,
    };
    return InputSmart;
}
var InputSmart = createInput$1();

function _extends$6() {
    _extends$6 =
        Object.assign ||
        function (target) {
            for (var i = 1; i < arguments.length; i++) {
                var source = arguments[i];
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
            return target;
        };
    return _extends$6.apply(this, arguments);
}

function _objectWithoutProperties$5(source, excluded) {
    if (source == null) return {};
    var target = _objectWithoutPropertiesLoose$5(source, excluded);
    var key, i;
    if (Object.getOwnPropertySymbols) {
        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
        for (i = 0; i < sourceSymbolKeys.length; i++) {
            key = sourceSymbolKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
            target[key] = source[key];
        }
    }
    return target;
}

function _objectWithoutPropertiesLoose$5(source, excluded) {
    if (source == null) return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i;
    for (i = 0; i < sourceKeys.length; i++) {
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0) continue;
        target[key] = source[key];
    }
    return target;
}
function createInput(defaultMetadata) {
    /**
     * `InputBasic` is the most basic implementation of a `Component`
     * that can be passed to `<PhoneInput/>`. It parses and formats
     * the user's input but doesn't control the caret in the process:
     * when erasing or inserting digits in the middle of a phone number
     * the caret usually jumps to the end (this is the expected behavior).
     * Why does `InputBasic` exist when there's `InputSmart`?
     * One reason is working around the [Samsung Galaxy smart caret positioning bug]
     * (https://github.com/catamphetamine/react-phone-number-input/issues/75).
     * Another reason is that, unlike `InputSmart`, it doesn't require DOM environment.
     */
    function InputBasic(_ref, ref) {
        var value = _ref.value,
            onChange = _ref.onChange,
            country = _ref.country,
            international = _ref.international,
            withCountryCallingCode = _ref.withCountryCallingCode,
            metadata = _ref.metadata,
            Input = _ref.inputComponent,
            rest = _objectWithoutProperties$5(_ref, [
                "value",
                "onChange",
                "country",
                "international",
                "withCountryCallingCode",
                "metadata",
                "inputComponent",
            ]);

        var prefix = getInputValuePrefix({
            country: country,
            international: international,
            withCountryCallingCode: withCountryCallingCode,
            metadata: metadata,
        });

        var _onChange = React.useCallback(
            function (event) {
                var newValue = parseIncompletePhoneNumber(event.target.value); // By default, if a value is something like `"(123)"`
                // then Backspace would only erase the rightmost brace
                // becoming something like `"(123"`
                // which would give the same `"123"` value
                // which would then be formatted back to `"(123)"`
                // and so a user wouldn't be able to erase the phone number.
                // Working around this issue with this simple hack.

                if (newValue === value) {
                    var newValueFormatted = format(prefix, newValue, country, metadata);

                    if (newValueFormatted.indexOf(event.target.value) === 0) {
                        // Trim the last digit (or plus sign).
                        newValue = newValue.slice(0, -1);
                    }
                }

                onChange(newValue);
            },
            [prefix, value, onChange, country, metadata]
        );

        return React.createElement(
            Input,
            _extends$6({}, rest, {
                ref: ref,
                value: format(prefix, value, country, metadata),
                onChange: _onChange,
            })
        );
    }

    InputBasic = React.forwardRef(InputBasic);
    InputBasic.propTypes = {
        /**
         * The parsed phone number.
         * "Parsed" not in a sense of "E.164"
         * but rather in a sense of "having only
         * digits and possibly a leading plus character".
         * Examples: `""`, `"+"`, `"+123"`, `"123"`.
         */
        value: querier.PropTypes.string.isRequired,

        /**
         * A function of `value: string`.
         * Updates the `value` property.
         */
        onChange: querier.PropTypes.func.isRequired,

        /**
         * A two-letter country code for formatting `value`
         * as a national phone number (e.g. `(800) 555 35 35`).
         * E.g. "US", "RU", etc.
         * If no `country` is passed then `value`
         * is formatted as an international phone number.
         * (e.g. `+7 800 555 35 35`)
         * Perhaps the `country` property should have been called `defaultCountry`
         * because if `value` is an international number then `country` is ignored.
         */
        country: querier.PropTypes.string,

        /**
         * If `country` property is passed along with `international={true}` property
         * then the phone number will be input in "international" format for that `country`
         * (without "country calling code").
         * For example, if `country="US"` property is passed to "without country select" input
         * then the phone number will be input in the "national" format for `US` (`(213) 373-4253`).
         * But if both `country="US"` and `international={true}` properties are passed then
         * the phone number will be input in the "international" format for `US` (`213 373 4253`)
         * (without "country calling code" `+1`).
         */
        international: querier.PropTypes.bool,

        /**
         * If `country` and `international` properties are set,
         * then by default it won't include "country calling code" in the input field.
         * To change that, pass `withCountryCallingCode` property,
         * and it will include "country calling code" in the input field.
         */
        withCountryCallingCode: querier.PropTypes.bool,

        /**
         * `libphonenumber-js` metadata.
         */
        metadata: querier.PropTypes.object.isRequired,

        /**
         * The `<input/>` component.
         */
        inputComponent: querier.PropTypes.elementType.isRequired,
    };
    InputBasic.defaultProps = {
        metadata: defaultMetadata,
        inputComponent: "input",
    };
    return InputBasic;
}
var InputBasic = createInput();

function format(prefix, value, country, metadata) {
    return removeInputValuePrefix(formatIncompletePhoneNumber$1(prefix + value, country, metadata), prefix);
}

/**
 * Creates Unicode flag from a two-letter ISO country code.
 * https://stackoverflow.com/questions/24050671/how-to-put-japan-flag-character-in-a-string
 * @param  {string} country  A two-letter ISO country code (case-insensitive).
 * @return {string}
 */
function getCountryFlag(country) {
    return getRegionalIndicatorSymbol(country[0]) + getRegionalIndicatorSymbol(country[1]);
}
/**
 * Converts a letter to a Regional Indicator Symbol.
 * @param  {string} letter
 * @return {string}
 */

function getRegionalIndicatorSymbol(letter) {
    return String.fromCodePoint(0x1f1e6 - 65 + letter.toUpperCase().charCodeAt(0));
}

function _extends$5() {
    _extends$5 =
        Object.assign ||
        function (target) {
            for (var i = 1; i < arguments.length; i++) {
                var source = arguments[i];
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
            return target;
        };
    return _extends$5.apply(this, arguments);
}

function _objectWithoutProperties$4(source, excluded) {
    if (source == null) return {};
    var target = _objectWithoutPropertiesLoose$4(source, excluded);
    var key, i;
    if (Object.getOwnPropertySymbols) {
        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
        for (i = 0; i < sourceSymbolKeys.length; i++) {
            key = sourceSymbolKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
            target[key] = source[key];
        }
    }
    return target;
}

function _objectWithoutPropertiesLoose$4(source, excluded) {
    if (source == null) return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i;
    for (i = 0; i < sourceKeys.length; i++) {
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0) continue;
        target[key] = source[key];
    }
    return target;
}
function CountrySelect(_ref) {
    var value = _ref.value,
        onChange = _ref.onChange,
        options = _ref.options,
        rest = _objectWithoutProperties$4(_ref, ["value", "onChange", "options"]);

    var onChange_ = React.useCallback(
        function (event) {
            var value = event.target.value;
            onChange(value === "ZZ" ? undefined : value);
        },
        [onChange]
    );
    React.useMemo(
        function () {
            return getSelectedOption(options, value);
        },
        [options, value]
    ); // "ZZ" means "International".
    // (HTML requires each `<option/>` have some string `value`).

    return React.createElement(
        "select",
        _extends$5({}, rest, {
            value: value || "ZZ",
            onChange: onChange_,
        }),
        options.map(function (_ref2) {
            var value = _ref2.value,
                label = _ref2.label,
                divider = _ref2.divider;
            return React.createElement(
                "option",
                {
                    key: divider ? "|" : value || "ZZ",
                    value: divider ? "|" : value || "ZZ",
                    disabled: divider ? true : false,
                    style: divider ? DIVIDER_STYLE : undefined,
                },
                label
            );
        })
    );
}
CountrySelect.propTypes = {
    /**
     * A two-letter country code.
     * Example: "US", "RU", etc.
     */
    value: querier.PropTypes.string,

    /**
     * A function of `value: string`.
     * Updates the `value` property.
     */
    onChange: querier.PropTypes.func.isRequired,
    // `<select/>` options.
    options: querier.PropTypes.arrayOf(
        querier.PropTypes.shape({
            value: querier.PropTypes.string,
            label: querier.PropTypes.string,
            divider: querier.PropTypes.bool,
        })
    ).isRequired,
};
var DIVIDER_STYLE = {
    fontSize: "1px",
    backgroundColor: "currentColor",
    color: "inherit",
};
function CountrySelectWithIcon$1(_ref3) {
    var value = _ref3.value,
        options = _ref3.options,
        className = _ref3.className,
        Icon = _ref3.iconComponent;
    _ref3.getIconAspectRatio;
    var Arrow = _ref3.arrowComponent,
        unicodeFlags = _ref3.unicodeFlags,
        rest = _objectWithoutProperties$4(_ref3, [
            "value",
            "options",
            "className",
            "iconComponent",
            "getIconAspectRatio",
            "arrowComponent",
            "unicodeFlags",
        ]);

    var selectedOption = React.useMemo(
        function () {
            return getSelectedOption(options, value);
        },
        [options, value]
    );
    return React.createElement(
        "div",
        {
            className: "PhoneInputCountry",
        },
        React.createElement(
            CountrySelect,
            _extends$5({}, rest, {
                value: value,
                options: options,
                className: classnames$1("PhoneInputCountrySelect", className),
            })
        ),
        unicodeFlags &&
            value &&
            React.createElement(
                "div",
                {
                    className: "PhoneInputCountryIconUnicode",
                },
                getCountryFlag(value)
            ),
        !(unicodeFlags && value) &&
            React.createElement(Icon, {
                country: value,
                label: selectedOption && selectedOption.label,
                aspectRatio: unicodeFlags ? 1 : undefined,
            }),
        React.createElement(Arrow, null)
    );
}
CountrySelectWithIcon$1.propTypes = {
    // Country flag component.
    iconComponent: querier.PropTypes.elementType,
    // Select arrow component.
    arrowComponent: querier.PropTypes.elementType.isRequired,
    // Set to `true` to render Unicode flag icons instead of SVG images.
    unicodeFlags: querier.PropTypes.bool,
};
CountrySelectWithIcon$1.defaultProps = {
    arrowComponent: function arrowComponent() {
        return React.createElement("div", {
            className: "PhoneInputCountrySelectArrow",
        });
    },
};

function getSelectedOption(options, value) {
    for (
        var _iterator = options,
            _isArray = Array.isArray(_iterator),
            _i = 0,
            _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();
        ;

    ) {
        var _ref4;

        if (_isArray) {
            if (_i >= _iterator.length) break;
            _ref4 = _iterator[_i++];
        } else {
            _i = _iterator.next();
            if (_i.done) break;
            _ref4 = _i.value;
        }

        var option = _ref4;

        if (!option.divider && option.value === value) {
            return option;
        }
    }
}

function _extends$4() {
    _extends$4 =
        Object.assign ||
        function (target) {
            for (var i = 1; i < arguments.length; i++) {
                var source = arguments[i];
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
            return target;
        };
    return _extends$4.apply(this, arguments);
}

function _objectWithoutProperties$3(source, excluded) {
    if (source == null) return {};
    var target = _objectWithoutPropertiesLoose$3(source, excluded);
    var key, i;
    if (Object.getOwnPropertySymbols) {
        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
        for (i = 0; i < sourceSymbolKeys.length; i++) {
            key = sourceSymbolKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
            target[key] = source[key];
        }
    }
    return target;
}

function _objectWithoutPropertiesLoose$3(source, excluded) {
    if (source == null) return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i;
    for (i = 0; i < sourceKeys.length; i++) {
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0) continue;
        target[key] = source[key];
    }
    return target;
}
// `<img/>` is wrapped in a `<div/>` to prevent SVGs from exploding in size in IE 11.
// https://github.com/catamphetamine/react-phone-number-input/issues/111

function FlagComponent(_ref) {
    var country = _ref.country,
        countryName = _ref.countryName,
        flags = _ref.flags,
        flagUrl = _ref.flagUrl,
        rest = _objectWithoutProperties$3(_ref, ["country", "countryName", "flags", "flagUrl"]);

    if (flags && flags[country]) {
        return flags[country]({
            title: countryName,
        });
    }

    return React.createElement(
        "img",
        _extends$4({}, rest, {
            alt: countryName,
            role: countryName ? undefined : "presentation",
            src: flagUrl.replace("{XX}", country).replace("{xx}", country.toLowerCase()),
        })
    );
}
FlagComponent.propTypes = {
    // The country to be selected by default.
    // Two-letter country code ("ISO 3166-1 alpha-2").
    country: querier.PropTypes.string.isRequired,
    // Will be HTML `title` attribute of the `<img/>`.
    countryName: querier.PropTypes.string.isRequired,
    // Country flag icon components.
    // By default flag icons are inserted as `<img/>`s
    // with their `src` pointed to `country-flag-icons` gitlab pages website.
    // There might be cases (e.g. an offline application)
    // where having a large (3 megabyte) `<svg/>` flags
    // bundle is more appropriate.
    // `import flags from 'react-phone-number-input/flags'`.
    flags: querier.PropTypes.objectOf(querier.PropTypes.elementType),
    // A URL for a country flag icon.
    // By default it points to `country-flag-icons` gitlab pages website.
    flagUrl: querier.PropTypes.string.isRequired,
};

function _extends$3() {
    _extends$3 =
        Object.assign ||
        function (target) {
            for (var i = 1; i < arguments.length; i++) {
                var source = arguments[i];
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
            return target;
        };
    return _extends$3.apply(this, arguments);
}

function _objectWithoutProperties$2(source, excluded) {
    if (source == null) return {};
    var target = _objectWithoutPropertiesLoose$2(source, excluded);
    var key, i;
    if (Object.getOwnPropertySymbols) {
        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
        for (i = 0; i < sourceSymbolKeys.length; i++) {
            key = sourceSymbolKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
            target[key] = source[key];
        }
    }
    return target;
}

function _objectWithoutPropertiesLoose$2(source, excluded) {
    if (source == null) return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i;
    for (i = 0; i < sourceKeys.length; i++) {
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0) continue;
        target[key] = source[key];
    }
    return target;
}
function InternationalIcon(_ref) {
    var aspectRatio = _ref.aspectRatio,
        rest = _objectWithoutProperties$2(_ref, ["aspectRatio"]);

    if (aspectRatio === 1) {
        return React.createElement(InternationalIcon1x1, rest);
    } else {
        return React.createElement(InternationalIcon3x2, rest);
    }
}
InternationalIcon.propTypes = {
    title: querier.PropTypes.string.isRequired,
    aspectRatio: querier.PropTypes.number,
}; // 3x2.
// Using `<title/>` in `<svg/>`s:
// https://developer.mozilla.org/en-US/docs/Web/SVG/Element/title

function InternationalIcon3x2(_ref2) {
    var title = _ref2.title,
        rest = _objectWithoutProperties$2(_ref2, ["title"]);

    return React.createElement(
        "svg",
        _extends$3({}, rest, {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 75 50",
        }),
        React.createElement("title", null, title),
        React.createElement(
            "g",
            {
                className: "PhoneInputInternationalIconGlobe",
                stroke: "currentColor",
                fill: "none",
                strokeWidth: "2",
                strokeMiterlimit: "10",
            },
            React.createElement("path", {
                strokeLinecap: "round",
                d: "M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3",
            }),
            React.createElement("path", {
                d: "M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3",
            }),
            React.createElement("line", {
                x1: "26",
                y1: "25",
                x2: "74",
                y2: "25",
            }),
            React.createElement("line", {
                x1: "50",
                y1: "1",
                x2: "50",
                y2: "49",
            }),
            React.createElement("path", {
                strokeLinecap: "round",
                d: "M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8",
            }),
            React.createElement("path", {
                strokeLinecap: "round",
                d: "M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2",
            })
        ),
        React.createElement("path", {
            className: "PhoneInputInternationalIconPhone",
            stroke: "none",
            fill: "currentColor",
            d: "M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z",
        })
    );
}

InternationalIcon3x2.propTypes = {
    title: querier.PropTypes.string.isRequired,
}; // 1x1.
// Using `<title/>` in `<svg/>`s:
// https://developer.mozilla.org/en-US/docs/Web/SVG/Element/title

function InternationalIcon1x1(_ref3) {
    var title = _ref3.title,
        rest = _objectWithoutProperties$2(_ref3, ["title"]);

    return React.createElement(
        "svg",
        _extends$3({}, rest, {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 50 50",
        }),
        React.createElement("title", null, title),
        React.createElement(
            "g",
            {
                className: "PhoneInputInternationalIconGlobe",
                stroke: "currentColor",
                fill: "none",
                strokeWidth: "2",
                strokeLinecap: "round",
            },
            React.createElement("path", {
                d: "M8.45,13A21.44,21.44,0,1,1,37.08,41.56",
            }),
            React.createElement("path", {
                d: "M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21",
            }),
            React.createElement("path", {
                d: "M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86",
            }),
            React.createElement("path", {
                d: "M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54",
            }),
            React.createElement("line", {
                x1: "27.8",
                y1: "0.85",
                x2: "27.8",
                y2: "34.61",
            }),
            React.createElement("line", {
                x1: "15.2",
                y1: "22.23",
                x2: "49.15",
                y2: "22.23",
            })
        ),
        React.createElement("path", {
            className: "PhoneInputInternationalIconPhone",
            stroke: "transparent",
            fill: "currentColor",
            d: "M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z",
        })
    );
}

InternationalIcon1x1.propTypes = {
    title: querier.PropTypes.string.isRequired,
};

/**
 * Sorts country `<select/>` options.
 * Can move some country `<select/>` options
 * to the top of the list, for example.
 * @param  {object[]} countryOptions  Country `<select/>` options.
 * @param  {string[]} [countryOptionsOrder]  Country `<select/>` options order. Example: `["US", "CA", "AU", "|", "..."]`.
 * @return {object[]}
 */

function sortCountryOptions(options, order) {
    if (!order) {
        return options;
    }

    var optionsOnTop = [];
    var optionsOnBottom = [];
    var appendTo = optionsOnTop;

    for (
        var _iterator = order,
            _isArray = Array.isArray(_iterator),
            _i = 0,
            _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();
        ;

    ) {
        var _ref;

        if (_isArray) {
            if (_i >= _iterator.length) break;
            _ref = _iterator[_i++];
        } else {
            _i = _iterator.next();
            if (_i.done) break;
            _ref = _i.value;
        }

        var element = _ref;

        if (element === "|") {
            appendTo.push({
                divider: true,
            });
        } else if (element === "..." || element === "") {
            appendTo = optionsOnBottom;
        } else {
            (function () {
                var countryCode = void 0;

                if (element === "") {
                    countryCode = undefined;
                } else {
                    countryCode = element;
                } // Find the position of the option.

                var index = options.indexOf(
                    options.filter(function (option) {
                        return option.value === countryCode;
                    })[0]
                ); // Get the option.

                var option = options[index]; // Remove the option from its default position.

                options.splice(index, 1); // Add the option on top.

                appendTo.push(option);
            })();
        }
    }

    return optionsOnTop.concat(options).concat(optionsOnBottom);
}
function getSupportedCountryOptions(countryOptions, metadata) {
    if (countryOptions) {
        countryOptions = countryOptions.filter(function (option) {
            switch (option) {
                case "":
                case "|":
                case "...":
                case "":
                    return true;

                default:
                    return isCountrySupportedWithError(option, metadata);
            }
        });

        if (countryOptions.length > 0) {
            return countryOptions;
        }
    }
}
function isCountrySupportedWithError(country, metadata) {
    if (isSupportedCountry(country, metadata)) {
        return true;
    } else {
        console.error("Country not found: ".concat(country));
        return false;
    }
}
function getSupportedCountries(countries, metadata) {
    if (countries) {
        countries = countries.filter(function (country) {
            return isCountrySupportedWithError(country, metadata);
        });

        if (countries.length === 0) {
            countries = undefined;
        }
    }

    return countries;
}

function createCountryIconComponent(_ref) {
    var flags = _ref.flags,
        flagUrl = _ref.flagUrl,
        FlagComponent = _ref.flagComponent,
        InternationalIcon$1 = _ref.internationalIcon;

    function CountryIcon(_ref2) {
        var country = _ref2.country,
            label = _ref2.label,
            aspectRatio = _ref2.aspectRatio;

        // `aspectRatio` is currently a hack for the default "International" icon
        // to render it as a square when Unicode flag icons are used.
        // So `aspectRatio` property is only used with the default "International" icon.
        var _aspectRatio = InternationalIcon$1 === InternationalIcon ? aspectRatio : undefined;

        return React.createElement(
            "div",
            {
                className: classnames$1("PhoneInputCountryIcon", {
                    "PhoneInputCountryIcon--square": _aspectRatio === 1,
                    "PhoneInputCountryIcon--border": country,
                }),
            },
            country
                ? React.createElement(FlagComponent, {
                      country: country,
                      countryName: label,
                      flags: flags,
                      flagUrl: flagUrl,
                      className: "PhoneInputCountryIconImg",
                  })
                : React.createElement(InternationalIcon$1, {
                      title: label,
                      aspectRatio: _aspectRatio,
                      className: "PhoneInputCountryIconImg",
                  })
        );
    }

    CountryIcon.propTypes = {
        country: querier.PropTypes.string,
        label: querier.PropTypes.string.isRequired,
        aspectRatio: querier.PropTypes.number,
    };
    return CountryIcon;
}
createCountryIconComponent({
    // Must be equal to `defaultProps.flagUrl` in `./PhoneInputWithCountry.js`.
    flagUrl: "https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",
    flagComponent: FlagComponent,
    internationalIcon: InternationalIcon,
});

var metadata = querier.PropTypes.shape({
    country_calling_codes: querier.PropTypes.object.isRequired,
    countries: querier.PropTypes.object.isRequired,
});
var labels$1 = querier.PropTypes.objectOf(querier.PropTypes.string);

var ONLY_DIGITS_REGEXP = /^\d+$/;
function getInternationalPhoneNumberPrefix(country, metadata) {
    // Standard international phone number prefix: "+" and "country calling code".
    var prefix = "+" + getCountryCallingCode$1(country, metadata); // Get "leading digits" for a phone number of the country.
    // If there're "leading digits" then they can be part of the prefix too.

    metadata = new Metadata(metadata);
    metadata.selectNumberingPlan(country);

    if (metadata.numberingPlan.leadingDigits() && ONLY_DIGITS_REGEXP.test(metadata.numberingPlan.leadingDigits())) {
        prefix += metadata.numberingPlan.leadingDigits();
    }

    return prefix;
}

/**
 * Decides which country should be pre-selected
 * when the phone number input component is first mounted.
 * @param  {object?} phoneNumber - An instance of `PhoneNumber` class.
 * @param  {string?} country - Pre-defined country (two-letter code).
 * @param  {string[]?} countries - A list of countries available.
 * @param  {object} metadata - `libphonenumber-js` metadata
 * @return {string?}
 */

function getPreSelectedCountry(_ref) {
    var value = _ref.value,
        phoneNumber = _ref.phoneNumber,
        defaultCountry = _ref.defaultCountry,
        getAnyCountry = _ref.getAnyCountry,
        countries = _ref.countries,
        required = _ref.required,
        metadata = _ref.metadata;
    var country; // If can get country from E.164 phone number
    // then it overrides the `country` passed (or not passed).

    if (phoneNumber && phoneNumber.country) {
        // `country` will be left `undefined` in case of non-detection.
        country = phoneNumber.country;
    } else if (defaultCountry) {
        if (!value || couldNumberBelongToCountry(value, defaultCountry, metadata)) {
            country = defaultCountry;
        }
    } // Only pre-select a country if it's in the available `countries` list.

    if (countries && countries.indexOf(country) < 0) {
        country = undefined;
    } // If there will be no "International" option
    // then some `country` must be selected.
    // It will still be the wrong country though.
    // But still country `<select/>` can't be left in a broken state.

    if (!country && required && countries && countries.length > 0) {
        country = getAnyCountry(); // noCountryMatchesTheNumber = true
    }

    return country;
}
/**
 * Generates a sorted list of country `<select/>` options.
 * @param  {string[]} countries - A list of two-letter ("ISO 3166-1 alpha-2") country codes.
 * @param  {object} labels - Custom country labels. E.g. `{ RU: '', US: '', ... }`.
 * @param  {boolean} addInternationalOption - Whether should include "International" option at the top of the list.
 * @return {object[]} A list of objects having shape `{ value : string, label : string }`.
 */

function getCountrySelectOptions(_ref2) {
    var countries = _ref2.countries,
        countryNames = _ref2.countryNames,
        addInternationalOption = _ref2.addInternationalOption,
        compareStringsLocales = _ref2.compareStringsLocales,
        _compareStrings = _ref2.compareStrings;

    // Default country name comparator uses `String.localeCompare()`.
    if (!_compareStrings) {
        _compareStrings = compareStrings;
    } // Generates a `<Select/>` option for each country.

    var countrySelectOptions = countries.map(function (country) {
        return {
            value: country,
            // All `locale` country names included in this library
            // include all countries (this is checked at build time).
            // The only case when a country name might be missing
            // is when a developer supplies their own `labels` property.
            // To guard against such cases, a missing country name
            // is substituted by country code.
            label: countryNames[country] || country,
        };
    }); // Sort the list of countries alphabetically.

    countrySelectOptions.sort(function (a, b) {
        return _compareStrings(a.label, b.label, compareStringsLocales);
    }); // Add the "International" option to the country list (if suitable)

    if (addInternationalOption) {
        countrySelectOptions.unshift({
            label: countryNames.ZZ,
        });
    }

    return countrySelectOptions;
}
/**
 * Parses a E.164 phone number to an instance of `PhoneNumber` class.
 * @param {string?} value = E.164 phone number.
 * @param  {object} metadata - `libphonenumber-js` metadata
 * @return {object} Object having shape `{ country: string?, countryCallingCode: string, number: string }`. `PhoneNumber`: https://gitlab.com/catamphetamine/libphonenumber-js#phonenumber.
 * @example
 * parsePhoneNumber('+78005553535')
 */

function parsePhoneNumber(value, metadata) {
    return parsePhoneNumberFromString$1(value || "", metadata);
}
/**
 * Generates national number digits for a parsed phone.
 * May prepend national prefix.
 * The phone number must be a complete and valid phone number.
 * @param  {object} phoneNumber - An instance of `PhoneNumber` class.
 * @param  {object} metadata - `libphonenumber-js` metadata
 * @return {string}
 * @example
 * getNationalNumberDigits({ country: 'RU', phone: '8005553535' })
 * // returns '88005553535'
 */

function generateNationalNumberDigits(phoneNumber) {
    return phoneNumber.formatNational().replace(/\D/g, "");
}
/**
 * Migrates parsed `<input/>` `value` for the newly selected `country`.
 * @param {string?} phoneDigits - Phone number digits (and `+`) parsed from phone number `<input/>` (it's not the same as the `value` property).
 * @param {string?} prevCountry - Previously selected country.
 * @param {string?} newCountry - Newly selected country. Can't be same as previously selected country.
 * @param {object} metadata - `libphonenumber-js` metadata.
 * @param {boolean} useNationalFormat - whether should attempt to convert from international to national number for the new country.
 * @return {string?}
 */

function getPhoneDigitsForNewCountry(phoneDigits, _ref3) {
    var prevCountry = _ref3.prevCountry,
        newCountry = _ref3.newCountry,
        metadata = _ref3.metadata,
        useNationalFormat = _ref3.useNationalFormat;

    // If `parsed_input` is empty
    // then no need to migrate anything.
    if (!phoneDigits) {
        if (useNationalFormat) {
            return "";
        } else {
            // If `phoneDigits` is empty then set `phoneDigits` to
            // `+{getCountryCallingCode(newCountry)}`.
            return getInternationalPhoneNumberPrefix(newCountry, metadata);
        }
    } // If switching to some country.
    // (from "International" or another country)
    // If switching from "International" then `phoneDigits` starts with a `+`.
    // Otherwise it may or may not start with a `+`.

    if (newCountry) {
        // If the phone number was entered in international format
        // then migrate it to the newly selected country.
        // The phone number may be incomplete.
        // The phone number entered not necessarily starts with
        // the previously selected country phone prefix.
        if (phoneDigits[0] === "+") {
            // If the international phone number is for the new country
            // then convert it to local if required.
            if (useNationalFormat) {
                // // If a phone number is being input in international form
                // // and the country can already be derived from it,
                // // and if it is the new country, then format as a national number.
                // const derived_country = getCountryFromPossiblyIncompleteInternationalPhoneNumber(phoneDigits, metadata)
                // if (derived_country === newCountry) {
                // 	return stripCountryCallingCode(phoneDigits, derived_country, metadata)
                // }
                // Actually, the two countries don't necessarily need to match:
                // the condition could be looser here, because several countries
                // might share the same international phone number format
                // (for example, "NANPA" countries like US, Canada, etc).
                // The looser condition would be just "same nternational phone number format"
                // which would mean "same country calling code" in the context of `libphonenumber-js`.
                if (phoneDigits.indexOf("+" + getCountryCallingCode$1(newCountry, metadata)) === 0) {
                    return stripCountryCallingCode(phoneDigits, newCountry, metadata);
                } // Simply discard the previously entered international phone number,
                // because otherwise any "smart" transformation like getting the
                // "national (significant) number" part and then prepending the
                // newly selected country's "country calling code" to it
                // would just be confusing for a user without being actually useful.

                return ""; // // Simply strip the leading `+` character
                // // therefore simply converting all digits into a "local" phone number.
                // // https://github.com/catamphetamine/react-phone-number-input/issues/287
                // return phoneDigits.slice(1)
            }

            if (prevCountry) {
                var newCountryPrefix = getInternationalPhoneNumberPrefix(newCountry, metadata);

                if (phoneDigits.indexOf(newCountryPrefix) === 0) {
                    return phoneDigits;
                } else {
                    return newCountryPrefix;
                }
            } else {
                var defaultValue = getInternationalPhoneNumberPrefix(newCountry, metadata); // If `phoneDigits`'s country calling code part is the same
                // as for the new `country`, then leave `phoneDigits` as is.

                if (phoneDigits.indexOf(defaultValue) === 0) {
                    return phoneDigits;
                } // If `phoneDigits`'s country calling code part is not the same
                // as for the new `country`, then set `phoneDigits` to
                // `+{getCountryCallingCode(newCountry)}`.

                return defaultValue;
            } // // If the international phone number already contains
            // // any country calling code then trim the country calling code part.
            // // (that could also be the newly selected country phone code prefix as well)
            // // `phoneDigits` doesn't neccessarily belong to `prevCountry`.
            // // (e.g. if a user enters an international number
            // //  not belonging to any of the reduced `countries` list).
            // phoneDigits = stripCountryCallingCode(phoneDigits, prevCountry, metadata)
            // // Prepend country calling code prefix
            // // for the newly selected country.
            // return e164(phoneDigits, newCountry, metadata) || `+${getCountryCallingCode(newCountry, metadata)}`
        }
    } // If switching to "International" from a country.
    else {
        // If the phone number was entered in national format.
        if (phoneDigits[0] !== "+") {
            // Format the national phone number as an international one.
            // The phone number entered not necessarily even starts with
            // the previously selected country phone prefix.
            // Even if the phone number belongs to whole another country
            // it will still be parsed into some national phone number.
            return e164(phoneDigits, prevCountry, metadata) || "";
        }
    }

    return phoneDigits;
}
/**
 * Converts phone number digits to a (possibly incomplete) E.164 phone number.
 * @param  {string?} number - A possibly incomplete phone number digits string. Can be a possibly incomplete E.164 phone number.
 * @param  {string?} country
 * @param  {[object} metadata - `libphonenumber-js` metadata.
 * @return {string?}
 */

function e164(number, country, metadata) {
    if (!number) {
        return;
    } // If the phone number is being input in international format.

    if (number[0] === "+") {
        // If it's just the `+` sign then return nothing.
        if (number === "+") {
            return;
        } // If there are any digits then the `value` is returned as is.

        return number;
    } // For non-international phone numbers
    // an accompanying country code is required.

    if (!country) {
        return;
    }

    var partial_national_significant_number = getNationalSignificantNumberDigits(number, country, metadata);

    if (partial_national_significant_number) {
        return "+".concat(getCountryCallingCode$1(country, metadata)).concat(partial_national_significant_number);
    }
}
/**
 * Trims phone number digits if they exceed the maximum possible length
 * for a national (significant) number for the country.
 * @param  {string} number - A possibly incomplete phone number digits string. Can be a possibly incomplete E.164 phone number.
 * @param  {string} country
 * @param  {object} metadata - `libphonenumber-js` metadata.
 * @return {string} Can be empty.
 */

function trimNumber(number, country, metadata) {
    var nationalSignificantNumberPart = getNationalSignificantNumberDigits(number, country, metadata);

    if (nationalSignificantNumberPart) {
        var overflowDigitsCount = nationalSignificantNumberPart.length - getMaxNumberLength(country, metadata);

        if (overflowDigitsCount > 0) {
            return number.slice(0, number.length - overflowDigitsCount);
        }
    }

    return number;
}

function getMaxNumberLength(country, metadata) {
    // Get "possible lengths" for a phone number of the country.
    metadata = new Metadata(metadata);
    metadata.selectNumberingPlan(country); // Return the last "possible length".

    return metadata.numberingPlan.possibleLengths()[metadata.numberingPlan.possibleLengths().length - 1];
} // If the phone number being input is an international one
// then tries to derive the country from the phone number.
// (regardless of whether there's any country currently selected)

/**
 * @param {string} partialE164Number - A possibly incomplete E.164 phone number.
 * @param {string?} country - Currently selected country.
 * @param {string[]?} countries - A list of available countries. If not passed then "all countries" are assumed.
 * @param  {object} metadata - `libphonenumber-js` metadata.
 * @return {string?}
 */

function getCountryForPartialE164Number(partialE164Number, _ref4) {
    var country = _ref4.country,
        countries = _ref4.countries,
        required = _ref4.required,
        metadata = _ref4.metadata;

    if (partialE164Number === "+") {
        // Don't change the currently selected country yet.
        return country;
    }

    var derived_country = getCountryFromPossiblyIncompleteInternationalPhoneNumber(partialE164Number, metadata); // If a phone number is being input in international form
    // and the country can already be derived from it,
    // then select that country.

    if (derived_country && (!countries || countries.indexOf(derived_country) >= 0)) {
        return derived_country;
    } // If "International" country option has not been disabled
    // and the international phone number entered doesn't correspond
    // to the currently selected country then reset the currently selected country.
    else if (country && !required && !couldNumberBelongToCountry(partialE164Number, country, metadata)) {
        return undefined;
    } // Don't change the currently selected country.

    return country;
}
/**
 * Parses `<input/>` value. Derives `country` from `input`. Derives an E.164 `value`.
 * @param  {string?} phoneDigits  Parsed `<input/>` value. Examples: `""`, `"+"`, `"+123"`, `"123"`.
 * @param  {string?} prevPhoneDigits  Previous parsed `<input/>` value. Examples: `""`, `"+"`, `"+123"`, `"123"`.
 * @param  {string?} country - Currently selected country.
 * @param  {boolean} countryRequired - Is selecting some country required.
 * @param  {function} getAnyCountry - Can be used to get any country when selecting some country required.
 * @param  {string[]?} countries - A list of available countries. If not passed then "all countries" are assumed.
 * @param  {boolean} international - Set to `true` to force international phone number format (leading `+`). Set to `false` to force "national" phone number format. Is `undefined` by default.
 * @param  {boolean} limitMaxLength  Whether to enable limiting phone number max length.
 * @param  {object} metadata - `libphonenumber-js` metadata.
 * @return {object} An object of shape `{ input, country, value }`.
 */

function onPhoneDigitsChange(phoneDigits, _ref5) {
    var prevPhoneDigits = _ref5.prevPhoneDigits,
        country = _ref5.country,
        defaultCountry = _ref5.defaultCountry,
        countryRequired = _ref5.countryRequired,
        getAnyCountry = _ref5.getAnyCountry,
        countries = _ref5.countries,
        international = _ref5.international,
        limitMaxLength = _ref5.limitMaxLength,
        countryCallingCodeEditable = _ref5.countryCallingCodeEditable,
        metadata = _ref5.metadata;

    if (international && countryCallingCodeEditable === false) {
        var prefix = getInternationalPhoneNumberPrefix(country, metadata); // The `<input/>` value must start with the country calling code.

        if (phoneDigits.indexOf(prefix) !== 0) {
            var _value; // If a phone number input is declared as
            // `international` and `withCountryCallingCode`,
            // then it's gonna be non-empty even before the user
            // has input anything in it.
            // This will result in its contents (the country calling code part)
            // being selected when the user tabs into such field.
            // If the user then starts inputting the national part digits,
            // then `<input/>` value changes from `+xxx` to `y`
            // because inputting anything while having the `<input/>` value
            // selected results in erasing the `<input/>` value
            // So, the component handles such case by restoring
            // the intended `<input/>`` value: `+xxxy`.
            // https://gitlab.com/catamphetamine/react-phone-number-input/-/issues/43

            if (phoneDigits && phoneDigits[0] !== "+") {
                phoneDigits = prefix + phoneDigits;
                _value = phoneDigits;
            } else {
                phoneDigits = prefix;
            }

            return {
                phoneDigits: phoneDigits,
                value: _value,
                country: country,
            };
        }
    } // If `international` property is `false`, then it means
    // "enforce national-only format during input",
    // so, if that's the case, then remove all `+` characters,
    // but only if some country is currently selected.
    // (not if "International" country is selected).

    if (international === false && country && phoneDigits && phoneDigits[0] === "+") {
        phoneDigits = convertInternationalPhoneDigitsToNational(phoneDigits, country, metadata);
    } // Trim the input to not exceed the maximum possible number length.

    if (phoneDigits && country && limitMaxLength) {
        phoneDigits = trimNumber(phoneDigits, country, metadata);
    } // If this `onChange()` event was triggered
    // as a result of selecting "International" country,
    // then force-prepend a `+` sign if the phone number
    // `<input/>` value isn't in international format.
    // Also, force-prepend a `+` sign if international
    // phone number input format is set.

    if (phoneDigits && phoneDigits[0] !== "+" && (!country || international)) {
        phoneDigits = "+" + phoneDigits;
    } // If the previously entered phone number
    // has been entered in international format
    // and the user decides to erase it,
    // then also reset the `country`
    // because it was most likely automatically selected
    // while the user was typing in the phone number
    // in international format.
    // This fixes the issue when a user is presented
    // with a phone number input with no country selected
    // and then types in their local phone number
    // then discovers that the input's messed up
    // (a `+` has been prepended at the start of their input
    //  and a random country has been selected),
    // decides to undo it all by erasing everything
    // and then types in their local phone number again
    // resulting in a seemingly correct phone number
    // but in reality that phone number has incorrect country.
    // https://github.com/catamphetamine/react-phone-number-input/issues/273

    if (!phoneDigits && prevPhoneDigits && prevPhoneDigits[0] === "+") {
        if (international) {
            country = undefined;
        } else {
            country = defaultCountry;
        }
    } // Also resets such "randomly" selected country
    // as soon as the user erases the number
    // digit-by-digit up to the leading `+` sign.

    if (phoneDigits === "+" && prevPhoneDigits && prevPhoneDigits[0] === "+" && prevPhoneDigits.length > "+".length) {
        country = undefined;
    } // Generate the new `value` property.

    var value;

    if (phoneDigits) {
        if (phoneDigits[0] === "+") {
            if (phoneDigits === "+") {
                value = undefined;
            } else if (country && getInternationalPhoneNumberPrefix(country, metadata).indexOf(phoneDigits) === 0) {
                value = undefined;
            } else {
                value = phoneDigits;
            }
        } else {
            value = e164(phoneDigits, country, metadata);
        }
    } // Derive the country from the phone number.
    // (regardless of whether there's any country currently selected,
    //  because there could be several countries corresponding to one country calling code)

    if (value) {
        country = getCountryForPartialE164Number(value, {
            country: country,
            countries: countries,
            metadata: metadata,
        }); // If `international` property is `false`, then it means
        // "enforce national-only format during input",
        // so, if that's the case, then remove all `+` characters,
        // but only if some country is currently selected.
        // (not if "International" country is selected).

        if (international === false && country && phoneDigits && phoneDigits[0] === "+") {
            phoneDigits = convertInternationalPhoneDigitsToNational(phoneDigits, country, metadata); // Re-calculate `value` because `phoneDigits` has changed.

            value = e164(phoneDigits, country, metadata);
        }
    }

    if (!country && countryRequired) {
        country = defaultCountry || getAnyCountry();
    }

    return {
        phoneDigits: phoneDigits,
        country: country,
        value: value,
    };
}

function convertInternationalPhoneDigitsToNational(input, country, metadata) {
    // Handle the case when a user might have pasted
    // a phone number in international format.
    if (input.indexOf(getInternationalPhoneNumberPrefix(country, metadata)) === 0) {
        // Create "as you type" formatter.
        var formatter = new AsYouType(country, metadata); // Input partial national phone number.

        formatter.input(input); // Return the parsed partial national phone number.

        var phoneNumber = formatter.getNumber();

        if (phoneNumber) {
            // Transform the number to a national one,
            // and remove all non-digits.
            return phoneNumber.formatNational().replace(/\D/g, "");
        } else {
            return "";
        }
    } else {
        // Just remove the `+` sign.
        return input.replace(/\D/g, "");
    }
}
/**
 * Determines the country for a given (possibly incomplete) E.164 phone number.
 * @param  {string} number - A possibly incomplete E.164 phone number.
 * @param  {object} metadata - `libphonenumber-js` metadata.
 * @return {string?}
 */

function getCountryFromPossiblyIncompleteInternationalPhoneNumber(number, metadata) {
    var formatter = new AsYouType(null, metadata);
    formatter.input(number); // // `001` is a special "non-geograpical entity" code
    // // in Google's `libphonenumber` library.
    // if (formatter.getCountry() === '001') {
    // 	return
    // }

    return formatter.getCountry();
}
/**
 * Compares two strings.
 * A helper for `Array.sort()`.
 * @param {string} a  First string.
 * @param {string} b  Second string.
 * @param {(string[]|string)} [locales]  The `locales` argument of `String.localeCompare`.
 */

function compareStrings(a, b, locales) {
    // Use `String.localeCompare` if it's available.
    // https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare
    // Which means everyone except IE <= 10 and Safari <= 10.
    // `localeCompare()` is available in latest Node.js versions.

    /* istanbul ignore else */
    if (String.prototype.localeCompare) {
        return a.localeCompare(b, locales);
    }
    /* istanbul ignore next */

    return a < b ? -1 : a > b ? 1 : 0;
}
/**
 * Strips `+${countryCallingCode}` prefix from an E.164 phone number.
 * @param {string} number - (possibly incomplete) E.164 phone number.
 * @param {string?} country - A possible country for this phone number.
 * @param {object} metadata - `libphonenumber-js` metadata.
 * @return {string}
 */

function stripCountryCallingCode(number, country, metadata) {
    // Just an optimization, so that it
    // doesn't have to iterate through all country calling codes.
    if (country) {
        var countryCallingCodePrefix = "+" + getCountryCallingCode$1(country, metadata); // If `country` fits the actual `number`.

        if (number.length < countryCallingCodePrefix.length) {
            if (countryCallingCodePrefix.indexOf(number) === 0) {
                return "";
            }
        } else {
            if (number.indexOf(countryCallingCodePrefix) === 0) {
                return number.slice(countryCallingCodePrefix.length);
            }
        }
    } // If `country` doesn't fit the actual `number`.
    // Try all available country calling codes.

    for (var _i = 0, _Object$keys = Object.keys(metadata.country_calling_codes); _i < _Object$keys.length; _i++) {
        var country_calling_code = _Object$keys[_i];

        if (number.indexOf(country_calling_code) === "+".length) {
            return number.slice("+".length + country_calling_code.length);
        }
    }

    return "";
}
/**
 * Parses a partially entered national phone number digits
 * (or a partially entered E.164 international phone number)
 * and returns the national significant number part.
 * National significant number returned doesn't come with a national prefix.
 * @param {string} number - National number digits. Or possibly incomplete E.164 phone number.
 * @param {string?} country
 * @param {object} metadata - `libphonenumber-js` metadata.
 * @return {string} [result]
 */

function getNationalSignificantNumberDigits(number, country, metadata) {
    // Create "as you type" formatter.
    var formatter = new AsYouType(country, metadata); // Input partial national phone number.

    formatter.input(number); // Return the parsed partial national phone number.

    var phoneNumber = formatter.getNumber();
    return phoneNumber && phoneNumber.nationalNumber;
}
/**
 * Checks if a partially entered E.164 phone number could belong to a country.
 * @param  {string} number
 * @param  {string} country
 * @return {boolean}
 */

function couldNumberBelongToCountry(number, country, metadata) {
    var intlPhoneNumberPrefix = getInternationalPhoneNumberPrefix(country, metadata);
    var i = 0;

    while (i < number.length && i < intlPhoneNumberPrefix.length) {
        if (number[i] !== intlPhoneNumberPrefix[i]) {
            return false;
        }

        i++;
    }

    return true;
}
/**
 * Gets initial "phone digits" (including `+`, if using international format).
 * @return {string} [phoneDigits] Returns `undefined` if there should be no initial "phone digits".
 */

function getInitialPhoneDigits(_ref6) {
    var value = _ref6.value,
        phoneNumber = _ref6.phoneNumber,
        defaultCountry = _ref6.defaultCountry,
        international = _ref6.international,
        useNationalFormat = _ref6.useNationalFormat,
        metadata = _ref6.metadata;

    // If the `value` (E.164 phone number)
    // belongs to the currently selected country
    // and `useNationalFormat` is `true`
    // then convert `value` (E.164 phone number)
    // to a local phone number digits.
    // E.g. '+78005553535' -> '88005553535'.
    if ((international === false || useNationalFormat) && phoneNumber && phoneNumber.country) {
        return generateNationalNumberDigits(phoneNumber);
    } // If `international` property is `true`,
    // meaning "enforce international phone number format",
    // then always show country calling code in the input field.

    if (!value && international && defaultCountry) {
        return getInternationalPhoneNumberPrefix(defaultCountry, metadata);
    }

    return value;
}

function ownKeys$2(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly)
            symbols = symbols.filter(function (sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
        keys.push.apply(keys, symbols);
    }
    return keys;
}

function _objectSpread$1(target) {
    for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        if (i % 2) {
            ownKeys$2(Object(source), true).forEach(function (key) {
                _defineProperty$3(target, key, source[key]);
            });
        } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
        } else {
            ownKeys$2(Object(source)).forEach(function (key) {
                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
            });
        }
    }
    return target;
}

function _defineProperty$3(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
    } else {
        obj[key] = value;
    }
    return obj;
}
function getPhoneInputWithCountryStateUpdateFromNewProps(props, prevProps, state) {
    var metadata = props.metadata,
        countries = props.countries,
        newDefaultCountry = props.defaultCountry,
        newValue = props.value,
        newReset = props.reset,
        international = props.international,
        displayInitialValueAsLocalNumber = props.displayInitialValueAsLocalNumber,
        initialValueFormat = props.initialValueFormat;
    var prevDefaultCountry = prevProps.defaultCountry,
        prevValue = prevProps.value,
        prevReset = prevProps.reset;
    state.country;
    var value = state.value,
        hasUserSelectedACountry = state.hasUserSelectedACountry;

    var _getInitialPhoneDigits = function _getInitialPhoneDigits(parameters) {
        return getInitialPhoneDigits(
            _objectSpread$1({}, parameters, {
                international: international,
                useNationalFormat: displayInitialValueAsLocalNumber || initialValueFormat === "national",
                metadata: metadata,
            })
        );
    }; // Some users requested a way to reset the component
    // (both number `<input/>` and country `<select/>`).
    // Whenever `reset` property changes both number `<input/>`
    // and country `<select/>` are reset.
    // It's not implemented as some instance `.reset()` method
    // because `ref` is forwarded to `<input/>`.
    // It's also not replaced with just resetting `country` on
    // external `value` reset, because a user could select a country
    // and then not input any `value`, and so the selected country
    // would be "stuck", if not using this `reset` property.
    // https://github.com/catamphetamine/react-phone-number-input/issues/300

    if (newReset !== prevReset) {
        return {
            phoneDigits: _getInitialPhoneDigits({
                value: undefined,
                defaultCountry: newDefaultCountry,
            }),
            value: undefined,
            country: newDefaultCountry,
            hasUserSelectedACountry: undefined,
        };
    } // `value` is the value currently shown in the component:
    // it's stored in the component's `state`, and it's not the `value` property.
    // `prevValue` is "previous `value` property".
    // `newValue` is "new `value` property".
    // If the default country changed
    // (e.g. in case of ajax GeoIP detection after page loaded)
    // then select it, but only if the user hasn't already manually
    // selected a country, and no phone number has been manually entered so far.
    // Because if the user has already started inputting a phone number
    // then they're okay with no country being selected at all ("International")
    // and they don't want to be disturbed, don't want their input to be screwed, etc.

    if (newDefaultCountry !== prevDefaultCountry) {
        var isNewDefaultCountrySupported =
            !newDefaultCountry || isCountrySupportedWithError(newDefaultCountry, metadata);

        var noValueHasBeenEnteredByTheUser = // By default, "no value has been entered" means `value` is `undefined`.
            !value || // When `international` is `true`, and some country has been pre-selected,
            // then the `<input/>` contains a pre-filled value of `+${countryCallingCode}${leadingDigits}`,
            // so in case of `international` being `true`, "the user hasn't entered anything" situation
            // doesn't just mean `value` is `undefined`, but could also mean `value` is `+${countryCallingCode}`.
            (international &&
                value ===
                    _getInitialPhoneDigits({
                        value: undefined,
                        defaultCountry: prevDefaultCountry,
                    })); // Only update the `defaultCountry` property if no phone number
        // has been entered by the user or pre-set by the application.

        var noValueHasBeenEntered = !newValue && noValueHasBeenEnteredByTheUser;

        if (!hasUserSelectedACountry && isNewDefaultCountrySupported && noValueHasBeenEntered) {
            return {
                country: newDefaultCountry,
                // If `phoneDigits` is empty, then automatically select the new `country`
                // and set `phoneDigits` to `+{getCountryCallingCode(newCountry)}`.
                // The code assumes that "no phone number has been entered by the user",
                // and no `value` property has been passed, so the `phoneNumber` parameter
                // of `_getInitialPhoneDigits({ value, phoneNumber, ... })` is `undefined`.
                phoneDigits: _getInitialPhoneDigits({
                    value: undefined,
                    defaultCountry: newDefaultCountry,
                }),
                // `value` is `undefined` and it stays so.
                value: undefined,
            };
        }
    } // If a new `value` is set externally.
    // (e.g. as a result of an ajax API request
    //  to get user's phone after page loaded)
    // The first part  `newValue !== prevValue` 
    // is basically `props.value !== prevProps.value`
    // so it means "if value property was changed externally".
    // The second part  `newValue !== value` 
    // is for ignoring the `getDerivedStateFromProps()` call
    // which happens in `this.onChange()` right after `this.setState()`.
    // If this `getDerivedStateFromProps()` call isn't ignored
    // then the country flag would reset on each input.

    if (newValue !== prevValue && newValue !== value) {
        var phoneNumber;
        var parsedCountry;

        if (newValue) {
            phoneNumber = parsePhoneNumber(newValue, metadata);
            var supportedCountries = getSupportedCountries(countries, metadata);

            if (phoneNumber && phoneNumber.country) {
                // Ignore `else` because all countries are supported in metadata.

                /* istanbul ignore next */
                if (!supportedCountries || supportedCountries.indexOf(phoneNumber.country) >= 0) {
                    parsedCountry = phoneNumber.country;
                }
            } else {
                parsedCountry = getCountryForPartialE164Number(newValue, {
                    country: undefined,
                    countries: supportedCountries,
                    metadata: metadata,
                });
            }
        }

        var hasUserSelectedACountryUpdate;

        if (!newValue) {
            // Reset `hasUserSelectedACountry` flag in `state`.
            hasUserSelectedACountryUpdate = {
                hasUserSelectedACountry: undefined,
            };
        }

        return _objectSpread$1({}, hasUserSelectedACountryUpdate, {
            phoneDigits: _getInitialPhoneDigits({
                phoneNumber: phoneNumber,
                value: newValue,
                defaultCountry: newDefaultCountry,
            }),
            value: newValue,
            country: newValue ? parsedCountry : newDefaultCountry,
        });
    } // `defaultCountry` didn't change.
    // `value` didn't change.
    // `phoneDigits` didn't change, because `value` didn't change.
    //
    // So no need to update state.
}

function _typeof$2(obj) {
    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof$2 = function _typeof(obj) {
            return typeof obj;
        };
    } else {
        _typeof$2 = function _typeof(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype
                ? "symbol"
                : typeof obj;
        };
    }
    return _typeof$2(obj);
}

function ownKeys$1(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly)
            symbols = symbols.filter(function (sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
        keys.push.apply(keys, symbols);
    }
    return keys;
}

function _objectSpread(target) {
    for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        if (i % 2) {
            ownKeys$1(Object(source), true).forEach(function (key) {
                _defineProperty$2(target, key, source[key]);
            });
        } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
        } else {
            ownKeys$1(Object(source)).forEach(function (key) {
                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
            });
        }
    }
    return target;
}

function _extends$2() {
    _extends$2 =
        Object.assign ||
        function (target) {
            for (var i = 1; i < arguments.length; i++) {
                var source = arguments[i];
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
            return target;
        };
    return _extends$2.apply(this, arguments);
}

function _objectWithoutProperties$1(source, excluded) {
    if (source == null) return {};
    var target = _objectWithoutPropertiesLoose$1(source, excluded);
    var key, i;
    if (Object.getOwnPropertySymbols) {
        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
        for (i = 0; i < sourceSymbolKeys.length; i++) {
            key = sourceSymbolKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
            target[key] = source[key];
        }
    }
    return target;
}

function _objectWithoutPropertiesLoose$1(source, excluded) {
    if (source == null) return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i;
    for (i = 0; i < sourceKeys.length; i++) {
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0) continue;
        target[key] = source[key];
    }
    return target;
}

function _classCallCheck$1(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _defineProperties$1(target, props) {
    for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
    }
}

function _createClass$1(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties$1(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties$1(Constructor, staticProps);
    return Constructor;
}

function _possibleConstructorReturn$1(self, call) {
    if (call && (_typeof$2(call) === "object" || typeof call === "function")) {
        return call;
    }
    return _assertThisInitialized$1(self);
}

function _getPrototypeOf$1(o) {
    _getPrototypeOf$1 = Object.setPrototypeOf
        ? Object.getPrototypeOf
        : function _getPrototypeOf(o) {
              return o.__proto__ || Object.getPrototypeOf(o);
          };
    return _getPrototypeOf$1(o);
}

function _assertThisInitialized$1(self) {
    if (self === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }
    return self;
}

function _inherits$1(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
    }
    subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: { value: subClass, writable: true, configurable: true },
    });
    if (superClass) _setPrototypeOf$1(subClass, superClass);
}

function _setPrototypeOf$1(o, p) {
    _setPrototypeOf$1 =
        Object.setPrototypeOf ||
        function _setPrototypeOf(o, p) {
            o.__proto__ = p;
            return o;
        };
    return _setPrototypeOf$1(o, p);
}

function _defineProperty$2(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
    } else {
        obj[key] = value;
    }
    return obj;
}

var PhoneNumberInput_ =
    /*#__PURE__*/
    (function (_React$PureComponent) {
        _inherits$1(PhoneNumberInput_, _React$PureComponent);

        function PhoneNumberInput_(props) {
            var _this;

            _classCallCheck$1(this, PhoneNumberInput_);

            _this = _possibleConstructorReturn$1(this, _getPrototypeOf$1(PhoneNumberInput_).call(this, props));

            _defineProperty$2(_assertThisInitialized$1(_this), "inputRef", React.createRef());

            _defineProperty$2(_assertThisInitialized$1(_this), "setInputRef", function (instance) {
                _this.inputRef.current = instance;
                var ref = _this.props.inputRef;

                if (ref) {
                    if (typeof ref === "function") {
                        ref(instance);
                    } else {
                        ref.current = instance;
                    }
                }
            });

            _defineProperty$2(_assertThisInitialized$1(_this), "isCountrySupportedWithError", function (country) {
                var metadata = _this.props.metadata;
                return isCountrySupportedWithError(country, metadata);
            });

            _defineProperty$2(_assertThisInitialized$1(_this), "onCountryChange", function (newCountry) {
                var _this$props = _this.props,
                    international = _this$props.international,
                    metadata = _this$props.metadata,
                    onChange = _this$props.onChange,
                    focusInputOnCountrySelection = _this$props.focusInputOnCountrySelection;
                var _this$state = _this.state,
                    prevPhoneDigits = _this$state.phoneDigits,
                    prevCountry = _this$state.country; // After the new `country` has been selected,
                // if the phone number `<input/>` holds any digits
                // then migrate those digits for the new `country`.

                var newPhoneDigits = getPhoneDigitsForNewCountry(prevPhoneDigits, {
                    prevCountry: prevCountry,
                    newCountry: newCountry,
                    metadata: metadata,
                    // Convert the phone number to "national" format
                    // when the user changes the selected country by hand.
                    useNationalFormat: !international,
                });
                var newValue = e164(newPhoneDigits, newCountry, metadata); // Focus phone number `<input/>` upon country selection.

                if (focusInputOnCountrySelection) {
                    _this.inputRef.current.focus();
                } // If the user has already manually selected a country
                // then don't override that already selected country
                // if the `defaultCountry` property changes.
                // That's what `hasUserSelectedACountry` flag is for.

                _this.setState(
                    {
                        country: newCountry,
                        hasUserSelectedACountry: true,
                        phoneDigits: newPhoneDigits,
                        value: newValue,
                    },
                    function () {
                        // Update the new `value` property.
                        // Doing it after the `state` has been updated
                        // because `onChange()` will trigger `getDerivedStateFromProps()`
                        // with the new `value` which will be compared to `state.value` there.
                        onChange(newValue);
                    }
                );
            });

            _defineProperty$2(_assertThisInitialized$1(_this), "onChange", function (_phoneDigits) {
                var _this$props2 = _this.props,
                    defaultCountry = _this$props2.defaultCountry,
                    onChange = _this$props2.onChange,
                    addInternationalOption = _this$props2.addInternationalOption,
                    international = _this$props2.international,
                    limitMaxLength = _this$props2.limitMaxLength,
                    countryCallingCodeEditable = _this$props2.countryCallingCodeEditable,
                    metadata = _this$props2.metadata;
                var _this$state2 = _this.state,
                    countries = _this$state2.countries,
                    prevPhoneDigits = _this$state2.phoneDigits,
                    currentlySelectedCountry = _this$state2.country;

                var _onPhoneDigitsChange = onPhoneDigitsChange(_phoneDigits, {
                        prevPhoneDigits: prevPhoneDigits,
                        country: currentlySelectedCountry,
                        countryRequired: !addInternationalOption,
                        defaultCountry: defaultCountry,
                        getAnyCountry: function getAnyCountry() {
                            return _this.getFirstSupportedCountry({
                                countries: countries,
                            });
                        },
                        countries: countries,
                        international: international,
                        limitMaxLength: limitMaxLength,
                        countryCallingCodeEditable: countryCallingCodeEditable,
                        metadata: metadata,
                    }),
                    phoneDigits = _onPhoneDigitsChange.phoneDigits,
                    country = _onPhoneDigitsChange.country,
                    value = _onPhoneDigitsChange.value;

                var stateUpdate = {
                    phoneDigits: phoneDigits,
                    value: value,
                    country: country,
                };

                if (countryCallingCodeEditable === false) {
                    // If it simply did `setState({ phoneDigits: intlPrefix })` here,
                    // then it would have no effect when erasing an inital international prefix
                    // via Backspace, because `phoneDigits` in `state` wouldn't change
                    // as a result, because it was `prefix` and it became `prefix`,
                    // so the component wouldn't rerender, and the user would be able
                    // to erase the country calling code part, and that part is
                    // assumed to be non-eraseable. That's why the component is
                    // forcefully rerendered here.
                    // https://github.com/catamphetamine/react-phone-number-input/issues/367#issuecomment-721703501
                    if (!value && phoneDigits === _this.state.phoneDigits) {
                        // Force a re-render of the `<input/>` in order to reset its value.
                        stateUpdate.forceRerender = {};
                    }
                }

                _this.setState(
                    stateUpdate, // Update the new `value` property.
                    // Doing it after the `state` has been updated
                    // because `onChange()` will trigger `getDerivedStateFromProps()`
                    // with the new `value` which will be compared to `state.value` there.
                    function () {
                        return onChange(value);
                    }
                );
            });

            _defineProperty$2(_assertThisInitialized$1(_this), "_onFocus", function () {
                return _this.setState({
                    isFocused: true,
                });
            });

            _defineProperty$2(_assertThisInitialized$1(_this), "_onBlur", function () {
                return _this.setState({
                    isFocused: false,
                });
            });

            _defineProperty$2(_assertThisInitialized$1(_this), "onFocus", function (event) {
                _this._onFocus();

                var onFocus = _this.props.onFocus;

                if (onFocus) {
                    onFocus(event);
                }
            });

            _defineProperty$2(_assertThisInitialized$1(_this), "onBlur", function (event) {
                var onBlur = _this.props.onBlur;

                _this._onBlur();

                if (onBlur) {
                    onBlur(event);
                }
            });

            _defineProperty$2(_assertThisInitialized$1(_this), "onCountryFocus", function (event) {
                _this._onFocus(); // this.setState({ countrySelectFocused: true })

                var countrySelectProps = _this.props.countrySelectProps;

                if (countrySelectProps) {
                    var onFocus = countrySelectProps.onFocus;

                    if (onFocus) {
                        onFocus(event);
                    }
                }
            });

            _defineProperty$2(_assertThisInitialized$1(_this), "onCountryBlur", function (event) {
                _this._onBlur(); // this.setState({ countrySelectFocused: false })

                var countrySelectProps = _this.props.countrySelectProps;

                if (countrySelectProps) {
                    var onBlur = countrySelectProps.onBlur;

                    if (onBlur) {
                        onBlur(event);
                    }
                }
            });

            var _this$props3 = _this.props,
                _value = _this$props3.value;
            _this$props3.labels;
            var _international = _this$props3.international,
                _addInternationalOption = _this$props3.addInternationalOption,
                displayInitialValueAsLocalNumber = _this$props3.displayInitialValueAsLocalNumber,
                initialValueFormat = _this$props3.initialValueFormat,
                _metadata = _this$props3.metadata;
            var _this$props4 = _this.props,
                _defaultCountry = _this$props4.defaultCountry,
                _countries = _this$props4.countries; // Validate `defaultCountry`.

            if (_defaultCountry) {
                if (!_this.isCountrySupportedWithError(_defaultCountry)) {
                    _defaultCountry = undefined;
                }
            } // Validate `countries`.

            _countries = getSupportedCountries(_countries, _metadata);
            var phoneNumber = parsePhoneNumber(_value, _metadata);
            _this.CountryIcon = createCountryIconComponent(_this.props);
            var preSelectedCountry = getPreSelectedCountry({
                value: _value,
                phoneNumber: phoneNumber,
                defaultCountry: _defaultCountry,
                required: !_addInternationalOption,
                countries: _countries || getCountries$1(_metadata),
                getAnyCountry: function getAnyCountry() {
                    return _this.getFirstSupportedCountry({
                        countries: _countries,
                    });
                },
                metadata: _metadata,
            });
            _this.state = {
                // Workaround for `this.props` inside `getDerivedStateFromProps()`.
                props: _this.props,
                // The country selected.
                country: preSelectedCountry,
                // `countries` are stored in `this.state` because they're filtered.
                // For example, a developer might theoretically pass some unsupported
                // countries as part of the `countries` property, and because of that
                // the component uses `this.state.countries` (which are filtered)
                // instead of `this.props.countries`
                // (which could potentially contain unsupported countries).
                countries: _countries,
                // `phoneDigits` state property holds non-formatted user's input.
                // The reason is that there's no way of finding out
                // in which form should `value` be displayed: international or national.
                // E.g. if `value` is `+78005553535` then it could be input
                // by a user both as `8 (800) 555-35-35` and `+7 800 555 35 35`.
                // Hence storing just `value` is not sufficient for correct formatting.
                // E.g. if a user entered `8 (800) 555-35-35`
                // then value is `+78005553535` and `phoneDigits` are `88005553535`
                // and if a user entered `+7 800 555 35 35`
                // then value is `+78005553535` and `phoneDigits` are `+78005553535`.
                phoneDigits: getInitialPhoneDigits({
                    value: _value,
                    phoneNumber: phoneNumber,
                    defaultCountry: _defaultCountry,
                    international: _international,
                    useNationalFormat: displayInitialValueAsLocalNumber || initialValueFormat === "national",
                    metadata: _metadata,
                }),
                // `value` property is duplicated in state.
                // The reason is that `getDerivedStateFromProps()`
                // needs this `value` to compare to the new `value` property
                // to find out if `phoneDigits` needs updating:
                // If the `value` property was changed externally
                // then it won't be equal to `state.value`
                // in which case `phoneDigits` and `country` should be updated.
                value: _value,
            };
            return _this;
        }

        _createClass$1(
            PhoneNumberInput_,
            [
                {
                    key: "componentDidMount",
                    value: function componentDidMount() {
                        var onCountryChange = this.props.onCountryChange;
                        var defaultCountry = this.props.defaultCountry;
                        var selectedCountry = this.state.country;

                        if (onCountryChange) {
                            if (defaultCountry) {
                                if (!this.isCountrySupportedWithError(defaultCountry)) {
                                    defaultCountry = undefined;
                                }
                            }

                            if (selectedCountry !== defaultCountry) {
                                onCountryChange(selectedCountry);
                            }
                        }
                    },
                },
                {
                    key: "componentDidUpdate",
                    value: function componentDidUpdate(prevProps, prevState) {
                        var onCountryChange = this.props.onCountryChange;
                        var country = this.state.country; // Call `onCountryChange` when user selects another country.

                        if (onCountryChange && country !== prevState.country) {
                            onCountryChange(country);
                        }
                    },
                },
                {
                    key: "getCountrySelectOptions",
                    value: function getCountrySelectOptions$1(_ref) {
                        var countries = _ref.countries;
                        var _this$props5 = this.props,
                            international = _this$props5.international,
                            countryCallingCodeEditable = _this$props5.countryCallingCodeEditable,
                            countryOptionsOrder = _this$props5.countryOptionsOrder,
                            addInternationalOption = _this$props5.addInternationalOption,
                            labels = _this$props5.labels,
                            locales = _this$props5.locales,
                            metadata = _this$props5.metadata;
                        return useMemoCountrySelectOptions(
                            function () {
                                return sortCountryOptions(
                                    getCountrySelectOptions({
                                        countries: countries || getCountries$1(metadata),
                                        countryNames: labels,
                                        addInternationalOption:
                                            international && countryCallingCodeEditable === false
                                                ? false
                                                : addInternationalOption,
                                        compareStringsLocales: locales, // compareStrings
                                    }),
                                    getSupportedCountryOptions(countryOptionsOrder, metadata)
                                );
                            },
                            [countries, countryOptionsOrder, addInternationalOption, labels, metadata]
                        );
                    },
                },
                {
                    key: "getFirstSupportedCountry",
                    value: function getFirstSupportedCountry(_ref2) {
                        var countries = _ref2.countries;
                        var countryOptions = this.getCountrySelectOptions({
                            countries: countries,
                        });
                        return countryOptions[0].value;
                    }, // A shorthand for not passing `metadata` as a second argument.
                },
                {
                    key: "render",
                    value: function render() {
                        var _this$props6 = this.props,
                            name = _this$props6.name,
                            disabled = _this$props6.disabled,
                            autoComplete = _this$props6.autoComplete,
                            style = _this$props6.style,
                            className = _this$props6.className;
                        _this$props6.inputRef;
                        var inputComponent = _this$props6.inputComponent,
                            numberInputProps = _this$props6.numberInputProps,
                            smartCaret = _this$props6.smartCaret,
                            CountrySelectComponent = _this$props6.countrySelectComponent,
                            countrySelectProps = _this$props6.countrySelectProps,
                            ContainerComponent = _this$props6.containerComponent;
                        _this$props6.defaultCountry;
                        _this$props6.countries;
                        _this$props6.countryOptionsOrder;
                        var labels = _this$props6.labels;
                        _this$props6.flags;
                        _this$props6.flagComponent;
                        _this$props6.flagUrl;
                        _this$props6.addInternationalOption;
                        _this$props6.internationalIcon;
                        _this$props6.displayInitialValueAsLocalNumber;
                        _this$props6.initialValueFormat;
                        _this$props6.onCountryChange;
                        _this$props6.limitMaxLength;
                        _this$props6.countryCallingCodeEditable;
                        _this$props6.focusInputOnCountrySelection;
                        _this$props6.reset;
                        var metadata = _this$props6.metadata;
                        _this$props6.international;
                        _this$props6.locales;
                        var rest = _objectWithoutProperties$1(_this$props6, [
                            "name",
                            "disabled",
                            "autoComplete",
                            "style",
                            "className",
                            "inputRef",
                            "inputComponent",
                            "numberInputProps",
                            "smartCaret",
                            "countrySelectComponent",
                            "countrySelectProps",
                            "containerComponent",
                            "defaultCountry",
                            "countries",
                            "countryOptionsOrder",
                            "labels",
                            "flags",
                            "flagComponent",
                            "flagUrl",
                            "addInternationalOption",
                            "internationalIcon",
                            "displayInitialValueAsLocalNumber",
                            "initialValueFormat",
                            "onCountryChange",
                            "limitMaxLength",
                            "countryCallingCodeEditable",
                            "focusInputOnCountrySelection",
                            "reset",
                            "metadata",
                            "international",
                            "locales",
                        ]);

                        var _this$state3 = this.state,
                            country = _this$state3.country,
                            countries = _this$state3.countries,
                            phoneDigits = _this$state3.phoneDigits,
                            isFocused = _this$state3.isFocused;
                        var InputComponent = smartCaret ? InputSmart : InputBasic;
                        var countrySelectOptions = this.getCountrySelectOptions({
                            countries: countries,
                        });
                        return React.createElement(
                            ContainerComponent,
                            {
                                style: style,
                                className: classnames$1(className, "PhoneInput", {
                                    "PhoneInput--focus": isFocused,
                                }),
                            },
                            React.createElement(
                                CountrySelectComponent,
                                _extends$2(
                                    {
                                        name: name ? "".concat(name, "Country") : undefined,
                                        "aria-label": labels.country,
                                    },
                                    countrySelectProps,
                                    {
                                        value: country,
                                        options: countrySelectOptions,
                                        onChange: this.onCountryChange,
                                        onFocus: this.onCountryFocus,
                                        onBlur: this.onCountryBlur,
                                        disabled: disabled || (countrySelectProps && countrySelectProps.disabled),
                                        iconComponent: this.CountryIcon,
                                    }
                                )
                            ),
                            React.createElement(
                                InputComponent,
                                _extends$2(
                                    {
                                        ref: this.setInputRef,
                                        type: "tel",
                                        autoComplete: autoComplete,
                                    },
                                    numberInputProps,
                                    rest,
                                    {
                                        name: name,
                                        metadata: metadata,
                                        country: country,
                                        value: phoneDigits || "",
                                        onChange: this.onChange,
                                        onFocus: this.onFocus,
                                        onBlur: this.onBlur,
                                        disabled: disabled,
                                        inputComponent: inputComponent,
                                        className: classnames$1(
                                            "PhoneInputInput",
                                            numberInputProps && numberInputProps.className,
                                            rest.className
                                        ),
                                    }
                                )
                            )
                        );
                    },
                },
            ],
            [
                {
                    key: "getDerivedStateFromProps",
                    // `state` holds previous props as `props`, and also:
                    // * `country`  The currently selected country, e.g. `"RU"`.
                    // * `value`  The currently entered phone number (E.164), e.g. `+78005553535`.
                    // * `phoneDigits`  The parsed `<input/>` value, e.g. `8005553535`.
                    // (and a couple of other less significant properties)
                    value: function getDerivedStateFromProps(props, state) {
                        return _objectSpread(
                            {
                                // Emulate `prevProps` via `state.props`.
                                props: props,
                            },
                            getPhoneInputWithCountryStateUpdateFromNewProps(props, state.props, state)
                        );
                    },
                },
            ]
        );

        return PhoneNumberInput_;
    })(React.PureComponent); // This wrapper is only to `.forwardRef()` to the `<input/>`.

var PhoneNumberInput$1 = React.forwardRef(function (props, ref) {
    return React.createElement(
        PhoneNumberInput_,
        _extends$2({}, props, {
            inputRef: ref,
        })
    );
});
PhoneNumberInput$1.propTypes = {
    /**
     * Phone number in `E.164` format.
     *
     * Example:
     *
     * `"+12223333333"`
     */
    value: querier.PropTypes.string,

    /**
     * A function of `value: string?`.
     *
     * Updates the `value` property as the user inputs a phone number.
     */
    onChange: querier.PropTypes.func.isRequired,

    /**
     * Toggles the `--focus` CSS class.
     * @ignore
     */
    onFocus: querier.PropTypes.func,

    /**
     * `onBlur` is usually passed by `redux-form`.
     * @ignore
     */
    onBlur: querier.PropTypes.func,

    /**
     * Set to `true` to disable both the phone number `<input/>`
     * and the country `<select/>`.
     */
    disabled: querier.PropTypes.bool,

    /**
     * Sets `autoComplete` property for phone number `<input/>`.
     *
     * Web browser's "autocomplete" feature
     * remembers the phone number being input
     * and can also autofill the `<input/>`
     * with previously remembered phone numbers.
     *
     * https://developers.google.com
     * /web/updates/2015/06/checkout-faster-with-autofill
     *
     * For example, can be used to turn it off:
     *
     * "So when should you use `autocomplete="off"`?
     *  One example is when you've implemented your own version
     *  of autocomplete for search. Another example is any form field
     *  where users will input and submit different kinds of information
     *  where it would not be useful to have the browser remember
     *  what was submitted previously".
     */
    // (is `"tel"` by default)
    autoComplete: querier.PropTypes.string.isRequired,

    /**
     * Set to `"national"` to show the initial `value` in
     * "national" format rather than "international".
     *
     * For example, if `initialValueFormat` is `"national"`
     * and the initial `value="+12133734253"` is passed
     * then the `<input/>` value will be `"(213) 373-4253"`.
     *
     * By default, `initialValueFormat` is `undefined`,
     * meaning that if the initial `value="+12133734253"` is passed
     * then the `<input/>` value will be `"+1 213 373 4253"`.
     *
     * The reason for such default behaviour is that
     * the newer generation grows up when there are no stationary phones
     * and therefore everyone inputs phone numbers in international format
     * in their smartphones so people gradually get more accustomed to
     * writing phone numbers in international format rather than in local format.
     * Future people won't be using "national" format, only "international".
     */
    // (is `undefined` by default)
    initialValueFormat: querier.PropTypes.oneOf(["national"]),
    // `displayInitialValueAsLocalNumber` property has been
    // superceded by `initialValueFormat` property.
    displayInitialValueAsLocalNumber: querier.PropTypes.bool,

    /**
     * The country to be selected by default.
     * For example, can be set after a GeoIP lookup.
     *
     * Example: `"US"`.
     */
    // A two-letter country code ("ISO 3166-1 alpha-2").
    defaultCountry: querier.PropTypes.string,

    /**
     * If specified, only these countries will be available for selection.
     *
     * Example:
     *
     * `["RU", "UA", "KZ"]`
     */
    countries: querier.PropTypes.arrayOf(querier.PropTypes.string),

    /**
     * Custom country `<select/>` option names.
     * Also some labels like "ext" and country `<select/>` `aria-label`.
     *
     * Example:
     *
     * `{ "ZZ": "", RU: "", US: "", ... }`
     *
     * See the `locales` directory for examples.
     */
    labels: labels$1.isRequired,

    /**
     * Country `<select/>` options are sorted by their labels.
     * The default sorting function uses `a.localeCompare(b, locales)`,
     * and, if that's not available, falls back to simple `a > b` / `a < b`.
     * Some languages, like Chinese, support multiple sorting variants
     * (called "collations"), and the user might prefer one or another.
     * Also, sometimes the Operating System language is not always
     * the preferred language for a person using a website or an application,
     * so there should be a way to specify custom locale.
     * This `locales` property mimicks the `locales` argument of `Intl` constructors,
     * and can be either a Unicode BCP 47 locale identifier or an array of such locale identifiers.
     * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl#locales_argument
     */
    locales: querier.PropTypes.oneOfType([
        querier.PropTypes.string,
        querier.PropTypes.arrayOf(querier.PropTypes.string),
    ]),

    /*
   * Custom country `<select/>` options sorting function.
   * The default one uses `a.localeCompare(b)`, and,
   * if that's not available, falls back to simple `a > b`/`a < b`.
   * There have been requests to add custom sorter for cases
   * like Chinese language and "pinyin" (non-default) sorting order.
   * https://stackoverflow.com/questions/22907288/chinese-sorting-by-pinyin-in-javascript-with-localecompare
  compareStrings: PropTypes.func,
   */

    /**
     * A URL template of a country flag, where
     * "{XX}" is a two-letter country code in upper case,
     * or where "{xx}" is a two-letter country code in lower case.
     * By default it points to `country-flag-icons` gitlab pages website.
     * I imagine someone might want to download those country flag icons
     * and host them on their own servers instead
     * (all flags are available in the `country-flag-icons` library).
     * There's a catch though: new countries may be added in future,
     * so when hosting country flag icons on your own server
     * one should check the `CHANGELOG.md` every time before updating this library,
     * otherwise there's a possibility that some new country flag would be missing.
     */
    flagUrl: querier.PropTypes.string.isRequired,

    /**
     * Custom country flag icon components.
     * These flags will be used instead of the default ones.
     * The the "Flags" section of the readme for more info.
     *
     * The shape is an object where keys are country codes
     * and values are flag icon components.
     * Flag icon components receive the same properties
     * as `flagComponent` (see below).
     *
     * Example:
     *
     * `{ "RU": (props) => <img src="..."/> }`
     *
     * Example:
     *
     * `import flags from 'country-flag-icons/react/3x2'`
     *
     * `import PhoneInput from 'react-phone-number-input'`
     *
     * `<PhoneInput flags={flags} .../>`
     */
    flags: querier.PropTypes.objectOf(querier.PropTypes.elementType),

    /**
     * Country flag icon component.
     *
     * Takes properties:
     *
     * * `country: string` The country code.
     * * `countryName: string` The country name.
     * * `flagUrl: string`  The `flagUrl` property (see above).
     * * `flags: object`  The `flags` property (see above).
     */
    flagComponent: querier.PropTypes.elementType.isRequired,

    /**
     * Set to `false` to remove the "International" option from country `<select/>`.
     */
    addInternationalOption: querier.PropTypes.bool.isRequired,

    /**
     * "International" icon component.
     * Should have the same aspect ratio.
     *
     * Receives properties:
     *
     * * `title: string`  "International" country option label.
     */
    internationalIcon: querier.PropTypes.elementType.isRequired,

    /**
     * Can be used to place some countries on top of the list of country `<select/>` options.
     *
     * * `"XX"`  inserts an option for "XX" country.
     * * `""`  inserts "International" option.
     * * `"|"`  inserts a separator.
     * * `"..."`  inserts options for the rest of the countries (can be omitted, in which case it will be automatically added at the end).
     *
     * Example:
     *
     * `["US", "CA", "AU", "|", "..."]`
     */
    countryOptionsOrder: querier.PropTypes.arrayOf(querier.PropTypes.string),

    /**
     * `<Phone/>` component CSS style object.
     */
    style: querier.PropTypes.object,

    /**
     * `<Phone/>` component CSS class.
     */
    className: querier.PropTypes.string,

    /**
     * Country `<select/>` component.
     *
     * Receives properties:
     *
     * * `name: string?`  HTML `name` attribute.
     * * `value: string?`  The currently selected country code.
     * * `onChange(value: string?)`  Updates the `value`.
     * * `onFocus()`  Is used to toggle the `--focus` CSS class.
     * * `onBlur()`  Is used to toggle the `--focus` CSS class.
     * * `options: object[]`  The list of all selectable countries (including "International") each being an object of shape `{ value: string?, label: string }`.
     * * `iconComponent: PropTypes.elementType`  React component that renders a country icon: `<Icon country={value}/>`. If `country` is `undefined` then it renders an "International" icon.
     * * `disabled: boolean?`  HTML `disabled` attribute.
     * * `tabIndex: (number|string)?`  HTML `tabIndex` attribute.
     * * `className: string`  CSS class name.
     */
    countrySelectComponent: querier.PropTypes.elementType.isRequired,

    /**
     * Country `<select/>` component props.
     * Along with the usual DOM properties such as `aria-label` and `tabIndex`,
     * some custom properties are supported, such as `arrowComponent` and `unicodeFlags`.
     */
    countrySelectProps: querier.PropTypes.object,

    /**
     * Phone number `<input/>` component.
     *
     * Receives properties:
     *
     * * `value: string`  The formatted `value`.
     * * `onChange(event: Event)`  Updates the formatted `value` from `event.target.value`.
     * * `onFocus()`  Is used to toggle the `--focus` CSS class.
     * * `onBlur()`  Is used to toggle the `--focus` CSS class.
     * * Other properties like `type="tel"` or `autoComplete="tel"` that should be passed through to the DOM `<input/>`.
     *
     * Must also either use `React.forwardRef()` to "forward" `ref` to the `<input/>` or implement `.focus()` method.
     */
    inputComponent: querier.PropTypes.elementType.isRequired,

    /**
     * Wrapping `<div/>` component.
     *
     * Receives properties:
     *
     * * `style: object`  A component CSS style object.
     * * `className: string`  Classes to attach to the component, typically changes when component focuses or blurs.
     */
    containerComponent: querier.PropTypes.elementType.isRequired,

    /**
     * Phone number `<input/>` component props.
     */
    numberInputProps: querier.PropTypes.object,

    /**
     * By default, the caret position is being "intelligently" managed
     * while a user inputs a phone number.
     * This "smart" caret behavior can be turned off
     * by passing `smartCaret={false}` property.
     * This is just an "escape hatch" for any possible caret position issues.
     */
    // Is `true` by default.
    smartCaret: querier.PropTypes.bool.isRequired,

    /**
     * Set to `true` to force "international" phone number format.
     * Set to `false` to force "national" phone number format.
     * By default it's `undefined` meaning that it doesn't enforce any phone number format.
     */
    international: querier.PropTypes.bool,

    /**
     * If set to `true`, the phone number input will get trimmed
     * if it exceeds the maximum length for the country.
     */
    limitMaxLength: querier.PropTypes.bool.isRequired,

    /**
     * If set to `false`, and `international` is `true`, then
     * users won't be able to erase the "country calling part"
     * of a phone number in the `<input/>`.
     */
    countryCallingCodeEditable: querier.PropTypes.bool.isRequired,

    /**
     * `libphonenumber-js` metadata.
     *
     * Can be used to pass custom `libphonenumber-js` metadata
     * to reduce the overall bundle size for those who compile "custom" metadata.
     */
    metadata: metadata.isRequired,

    /**
     * Is called every time the selected country changes:
     * either programmatically or when user selects it manually from the list.
     */
    // People have been asking for a way to get the selected country.
    // @see  https://github.com/catamphetamine/react-phone-number-input/issues/128
    // For some it's just a "business requirement".
    // I guess it's about gathering as much info on the user as a website can
    // without introducing any addional fields that would complicate the form
    // therefore reducing "conversion" (that's a marketing term).
    // Assuming that the phone number's country is the user's country
    // is not 100% correct but in most cases I guess it's valid.
    onCountryChange: querier.PropTypes.func,

    /**
     * If set to `false`, will not focus the `<input/>` component
     * when the user selects a country from the list of countries.
     * This can be used to conform to the Web Content Accessibility Guidelines (WCAG).
     * Quote:
     * "On input: Changing the setting of any user interface component
     *  does not automatically cause a change of context unless the user
     *  has been advised of the behaviour before using the component."
     */
    focusInputOnCountrySelection: querier.PropTypes.bool.isRequired,
};
PhoneNumberInput$1.defaultProps = {
    /**
     * Remember (and autofill) the value as a phone number.
     */
    autoComplete: "tel",

    /**
     * Country `<select/>` component.
     */
    countrySelectComponent: CountrySelectWithIcon$1,

    /**
     * Flag icon component.
     */
    flagComponent: FlagComponent,

    /**
     * By default, uses icons from `country-flag-icons` gitlab pages website.
     */
    // Must be equal to `flagUrl` in `./CountryIcon.js`.
    flagUrl: "https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",

    /**
     * Default "International" country `<select/>` option icon.
     */
    internationalIcon: InternationalIcon,

    /**
     * Phone number `<input/>` component.
     */
    inputComponent: "input",

    /**
     * Wrapping `<div/>` component.
     */
    containerComponent: "div",

    /**
     * Some users requested a way to reset the component:
     * both number `<input/>` and country `<select/>`.
     * Whenever `reset` property changes both number `<input/>`
     * and country `<select/>` are reset.
     * It's not implemented as some instance `.reset()` method
     * because `ref` is forwarded to `<input/>`.
     * It's also not replaced with just resetting `country` on
     * external `value` reset, because a user could select a country
     * and then not input any `value`, and so the selected country
     * would be "stuck", if not using this `reset` property.
     */
    // https://github.com/catamphetamine/react-phone-number-input/issues/300
    reset: querier.PropTypes.any,

    /**
     *
     */

    /**
     * Set to `false` to use "basic" caret instead of the "smart" one.
     */
    smartCaret: true,

    /**
     * Whether to add the "International" option
     * to the list of countries.
     */
    addInternationalOption: true,

    /**
     * If set to `true` the phone number input will get trimmed
     * if it exceeds the maximum length for the country.
     */
    limitMaxLength: false,

    /**
     * If set to `false`, and `international` is `true`, then
     * users won't be able to erase the "country calling part"
     * of a phone number in the `<input/>`.
     */
    countryCallingCodeEditable: true,

    /**
     * If set to `false`, will not focus the `<input/>` component
     * when the user selects a country from the list of countries.
     * This can be used to conform to the Web Content Accessibility Guidelines (WCAG).
     * Quote:
     * "On input: Changing the setting of any user interface component
     *  does not automatically cause a change of context unless the user
     *  has been advised of the behaviour before using the component."
     */
    focusInputOnCountrySelection: true,
};
var PhoneInput = PhoneNumberInput$1;
var countrySelectOptionsMemo;
var countrySelectOptionsMemoDependencies;

function useMemoCountrySelectOptions(generator, dependencies) {
    if (!countrySelectOptionsMemoDependencies || !areEqualArrays(dependencies, countrySelectOptionsMemoDependencies)) {
        countrySelectOptionsMemo = generator();
        countrySelectOptionsMemoDependencies = dependencies;
    }

    return countrySelectOptionsMemo;
}

function areEqualArrays(a, b) {
    if (a.length !== b.length) {
        return false;
    }

    var i = 0;

    while (i < a.length) {
        if (a[i] !== b[i]) {
            return false;
        }

        i++;
    }

    return true;
}

function _typeof$1(obj) {
    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof$1 = function _typeof(obj) {
            return typeof obj;
        };
    } else {
        _typeof$1 = function _typeof(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype
                ? "symbol"
                : typeof obj;
        };
    }
    return _typeof$1(obj);
}
/**
 * Formats a phone number.
 * Is a proxy for `libphonenumber-js`'s `.format()` function of a parsed `PhoneNumber`.
 * @param  {string} value
 * @param  {string} [format]
 * @param  {object} metadata
 * @return {string}
 */

function formatPhoneNumber(value, format, metadata) {
    if (!metadata) {
        if (_typeof$1(format) === "object") {
            metadata = format;
            format = "NATIONAL";
        }
    }

    if (!value) {
        return "";
    }

    var phoneNumber = parsePhoneNumberFromString$1(value, metadata);

    if (!phoneNumber) {
        return "";
    } // Deprecated.
    // Legacy `format`s.

    switch (format) {
        case "National":
            format = "NATIONAL";
            break;

        case "International":
            format = "INTERNATIONAL";
            break;
    }

    return phoneNumber.format(format);
}
function formatPhoneNumberIntl$1(value, metadata) {
    return formatPhoneNumber(value, "INTERNATIONAL", metadata);
}

var ext = "ext.";
var country = "Phone number country";
var phone = "Phone";
var AB = "Abkhazia";
var AC = "Ascension Island";
var AD = "Andorra";
var AE = "United Arab Emirates";
var AF = "Afghanistan";
var AG = "Antigua and Barbuda";
var AI = "Anguilla";
var AL = "Albania";
var AM = "Armenia";
var AO = "Angola";
var AQ = "Antarctica";
var AR = "Argentina";
var AS = "American Samoa";
var AT = "Austria";
var AU = "Australia";
var AW = "Aruba";
var AX = "land Islands";
var AZ = "Azerbaijan";
var BA = "Bosnia and Herzegovina";
var BB = "Barbados";
var BD = "Bangladesh";
var BE = "Belgium";
var BF = "Burkina Faso";
var BG = "Bulgaria";
var BH = "Bahrain";
var BI = "Burundi";
var BJ = "Benin";
var BL = "Saint Barthlemy";
var BM = "Bermuda";
var BN = "Brunei Darussalam";
var BO = "Bolivia";
var BQ = "Bonaire, Sint Eustatius and Saba";
var BR = "Brazil";
var BS = "Bahamas";
var BT = "Bhutan";
var BV = "Bouvet Island";
var BW = "Botswana";
var BY = "Belarus";
var BZ = "Belize";
var CA = "Canada";
var CC = "Cocos (Keeling) Islands";
var CD = "Congo, Democratic Republic of the";
var CF = "Central African Republic";
var CG = "Congo";
var CH = "Switzerland";
var CI = "Cote d'Ivoire";
var CK = "Cook Islands";
var CL = "Chile";
var CM = "Cameroon";
var CN = "China";
var CO = "Colombia";
var CR = "Costa Rica";
var CU = "Cuba";
var CV = "Cape Verde";
var CW = "Curaao";
var CX = "Christmas Island";
var CY = "Cyprus";
var CZ = "Czech Republic";
var DE = "Germany";
var DJ = "Djibouti";
var DK = "Denmark";
var DM = "Dominica";
var DO = "Dominican Republic";
var DZ = "Algeria";
var EC = "Ecuador";
var EE = "Estonia";
var EG = "Egypt";
var EH = "Western Sahara";
var ER = "Eritrea";
var ES = "Spain";
var ET = "Ethiopia";
var FI = "Finland";
var FJ = "Fiji";
var FK = "Falkland Islands";
var FM = "Federated States of Micronesia";
var FO = "Faroe Islands";
var FR = "France";
var GA = "Gabon";
var GB = "United Kingdom";
var GD = "Grenada";
var GE = "Georgia";
var GF = "French Guiana";
var GG = "Guernsey";
var GH = "Ghana";
var GI = "Gibraltar";
var GL = "Greenland";
var GM = "Gambia";
var GN = "Guinea";
var GP = "Guadeloupe";
var GQ = "Equatorial Guinea";
var GR = "Greece";
var GS = "South Georgia and the South Sandwich Islands";
var GT = "Guatemala";
var GU = "Guam";
var GW = "Guinea-Bissau";
var GY = "Guyana";
var HK = "Hong Kong";
var HM = "Heard Island and McDonald Islands";
var HN = "Honduras";
var HR = "Croatia";
var HT = "Haiti";
var HU = "Hungary";
var ID = "Indonesia";
var IE = "Ireland";
var IL = "Israel";
var IM = "Isle of Man";
var IN = "India";
var IO = "British Indian Ocean Territory";
var IQ = "Iraq";
var IR = "Iran";
var IS = "Iceland";
var IT = "Italy";
var JE = "Jersey";
var JM = "Jamaica";
var JO = "Jordan";
var JP = "Japan";
var KE = "Kenya";
var KG = "Kyrgyzstan";
var KH = "Cambodia";
var KI = "Kiribati";
var KM = "Comoros";
var KN = "Saint Kitts and Nevis";
var KP = "North Korea";
var KR = "South Korea";
var KW = "Kuwait";
var KY = "Cayman Islands";
var KZ = "Kazakhstan";
var LA = "Laos";
var LB = "Lebanon";
var LC = "Saint Lucia";
var LI = "Liechtenstein";
var LK = "Sri Lanka";
var LR = "Liberia";
var LS = "Lesotho";
var LT = "Lithuania";
var LU = "Luxembourg";
var LV = "Latvia";
var LY = "Libya";
var MA = "Morocco";
var MC = "Monaco";
var MD = "Moldova";
var ME = "Montenegro";
var MF = "Saint Martin (French Part)";
var MG = "Madagascar";
var MH = "Marshall Islands";
var MK = "North Macedonia";
var ML = "Mali";
var MM = "Burma";
var MN = "Mongolia";
var MO = "Macao";
var MP = "Northern Mariana Islands";
var MQ = "Martinique";
var MR = "Mauritania";
var MS = "Montserrat";
var MT = "Malta";
var MU = "Mauritius";
var MV = "Maldives";
var MW = "Malawi";
var MX = "Mexico";
var MY = "Malaysia";
var MZ = "Mozambique";
var NA = "Namibia";
var NC = "New Caledonia";
var NE = "Niger";
var NF = "Norfolk Island";
var NG = "Nigeria";
var NI = "Nicaragua";
var NL = "Netherlands";
var NO = "Norway";
var NP = "Nepal";
var NR = "Nauru";
var NU = "Niue";
var NZ = "New Zealand";
var OM = "Oman";
var OS = "South Ossetia";
var PA = "Panama";
var PE = "Peru";
var PF = "French Polynesia";
var PG = "Papua New Guinea";
var PH = "Philippines";
var PK = "Pakistan";
var PL = "Poland";
var PM = "Saint Pierre and Miquelon";
var PN = "Pitcairn";
var PR = "Puerto Rico";
var PS = "Palestine";
var PT = "Portugal";
var PW = "Palau";
var PY = "Paraguay";
var QA = "Qatar";
var RE = "Reunion";
var RO = "Romania";
var RS = "Serbia";
var RU = "Russia";
var RW = "Rwanda";
var SA = "Saudi Arabia";
var SB = "Solomon Islands";
var SC = "Seychelles";
var SD = "Sudan";
var SE = "Sweden";
var SG = "Singapore";
var SH = "Saint Helena";
var SI = "Slovenia";
var SJ = "Svalbard and Jan Mayen";
var SK = "Slovakia";
var SL = "Sierra Leone";
var SM = "San Marino";
var SN = "Senegal";
var SO = "Somalia";
var SR = "Suriname";
var SS = "South Sudan";
var ST = "Sao Tome and Principe";
var SV = "El Salvador";
var SX = "Sint Maarten";
var SY = "Syria";
var SZ = "Swaziland";
var TA = "Tristan da Cunha";
var TC = "Turks and Caicos Islands";
var TD = "Chad";
var TF = "French Southern Territories";
var TG = "Togo";
var TH = "Thailand";
var TJ = "Tajikistan";
var TK = "Tokelau";
var TL = "Timor-Leste";
var TM = "Turkmenistan";
var TN = "Tunisia";
var TO = "Tonga";
var TR = "Turkey";
var TT = "Trinidad and Tobago";
var TV = "Tuvalu";
var TW = "Taiwan";
var TZ = "Tanzania";
var UA = "Ukraine";
var UG = "Uganda";
var UM = "United States Minor Outlying Islands";
var US = "United States";
var UY = "Uruguay";
var UZ = "Uzbekistan";
var VA = "Holy See (Vatican City State)";
var VC = "Saint Vincent and the Grenadines";
var VE = "Venezuela";
var VG = "Virgin Islands, British";
var VI = "Virgin Islands, U.S.";
var VN = "Vietnam";
var VU = "Vanuatu";
var WF = "Wallis and Futuna";
var WS = "Samoa";
var XK = "Kosovo";
var YE = "Yemen";
var YT = "Mayotte";
var ZA = "South Africa";
var ZM = "Zambia";
var ZW = "Zimbabwe";
var ZZ = "International";
var labels = {
    ext: ext,
    country: country,
    phone: phone,
    AB: AB,
    AC: AC,
    AD: AD,
    AE: AE,
    AF: AF,
    AG: AG,
    AI: AI,
    AL: AL,
    AM: AM,
    AO: AO,
    AQ: AQ,
    AR: AR,
    AS: AS,
    AT: AT,
    AU: AU,
    AW: AW,
    AX: AX,
    AZ: AZ,
    BA: BA,
    BB: BB,
    BD: BD,
    BE: BE,
    BF: BF,
    BG: BG,
    BH: BH,
    BI: BI,
    BJ: BJ,
    BL: BL,
    BM: BM,
    BN: BN,
    BO: BO,
    BQ: BQ,
    BR: BR,
    BS: BS,
    BT: BT,
    BV: BV,
    BW: BW,
    BY: BY,
    BZ: BZ,
    CA: CA,
    CC: CC,
    CD: CD,
    CF: CF,
    CG: CG,
    CH: CH,
    CI: CI,
    CK: CK,
    CL: CL,
    CM: CM,
    CN: CN,
    CO: CO,
    CR: CR,
    CU: CU,
    CV: CV,
    CW: CW,
    CX: CX,
    CY: CY,
    CZ: CZ,
    DE: DE,
    DJ: DJ,
    DK: DK,
    DM: DM,
    DO: DO,
    DZ: DZ,
    EC: EC,
    EE: EE,
    EG: EG,
    EH: EH,
    ER: ER,
    ES: ES,
    ET: ET,
    FI: FI,
    FJ: FJ,
    FK: FK,
    FM: FM,
    FO: FO,
    FR: FR,
    GA: GA,
    GB: GB,
    GD: GD,
    GE: GE,
    GF: GF,
    GG: GG,
    GH: GH,
    GI: GI,
    GL: GL,
    GM: GM,
    GN: GN,
    GP: GP,
    GQ: GQ,
    GR: GR,
    GS: GS,
    GT: GT,
    GU: GU,
    GW: GW,
    GY: GY,
    HK: HK,
    HM: HM,
    HN: HN,
    HR: HR,
    HT: HT,
    HU: HU,
    ID: ID,
    IE: IE,
    IL: IL,
    IM: IM,
    IN: IN,
    IO: IO,
    IQ: IQ,
    IR: IR,
    IS: IS,
    IT: IT,
    JE: JE,
    JM: JM,
    JO: JO,
    JP: JP,
    KE: KE,
    KG: KG,
    KH: KH,
    KI: KI,
    KM: KM,
    KN: KN,
    KP: KP,
    KR: KR,
    KW: KW,
    KY: KY,
    KZ: KZ,
    LA: LA,
    LB: LB,
    LC: LC,
    LI: LI,
    LK: LK,
    LR: LR,
    LS: LS,
    LT: LT,
    LU: LU,
    LV: LV,
    LY: LY,
    MA: MA,
    MC: MC,
    MD: MD,
    ME: ME,
    MF: MF,
    MG: MG,
    MH: MH,
    MK: MK,
    ML: ML,
    MM: MM,
    MN: MN,
    MO: MO,
    MP: MP,
    MQ: MQ,
    MR: MR,
    MS: MS,
    MT: MT,
    MU: MU,
    MV: MV,
    MW: MW,
    MX: MX,
    MY: MY,
    MZ: MZ,
    NA: NA,
    NC: NC,
    NE: NE,
    NF: NF,
    NG: NG,
    NI: NI,
    NL: NL,
    NO: NO,
    NP: NP,
    NR: NR,
    NU: NU,
    NZ: NZ,
    OM: OM,
    OS: OS,
    PA: PA,
    PE: PE,
    PF: PF,
    PG: PG,
    PH: PH,
    PK: PK,
    PL: PL,
    PM: PM,
    PN: PN,
    PR: PR,
    PS: PS,
    PT: PT,
    PW: PW,
    PY: PY,
    QA: QA,
    RE: RE,
    RO: RO,
    RS: RS,
    RU: RU,
    RW: RW,
    SA: SA,
    SB: SB,
    SC: SC,
    SD: SD,
    SE: SE,
    SG: SG,
    SH: SH,
    SI: SI,
    SJ: SJ,
    SK: SK,
    SL: SL,
    SM: SM,
    SN: SN,
    SO: SO,
    SR: SR,
    SS: SS,
    ST: ST,
    SV: SV,
    SX: SX,
    SY: SY,
    SZ: SZ,
    TA: TA,
    TC: TC,
    TD: TD,
    TF: TF,
    TG: TG,
    TH: TH,
    TJ: TJ,
    TK: TK,
    TL: TL,
    TM: TM,
    TN: TN,
    TO: TO,
    TR: TR,
    TT: TT,
    TV: TV,
    TW: TW,
    TZ: TZ,
    UA: UA,
    UG: UG,
    UM: UM,
    US: US,
    UY: UY,
    UZ: UZ,
    VA: VA,
    VC: VC,
    VE: VE,
    VG: VG,
    VI: VI,
    VN: VN,
    VU: VU,
    WF: WF,
    WS: WS,
    XK: XK,
    YE: YE,
    YT: YT,
    ZA: ZA,
    ZM: ZM,
    ZW: ZW,
    ZZ: ZZ,
};

function _extends$1() {
    _extends$1 =
        Object.assign ||
        function (target) {
            for (var i = 1; i < arguments.length; i++) {
                var source = arguments[i];
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
            return target;
        };
    return _extends$1.apply(this, arguments);
}
function createPhoneInput(defaultMetadata) {
    var PhoneInputDefault = React.forwardRef(function (props, ref) {
        return React.createElement(
            PhoneInput,
            _extends$1(
                {
                    ref: ref,
                },
                props
            )
        );
    });
    PhoneInputDefault.propTypes = {
        metadata: metadata.isRequired,
        labels: labels$1.isRequired,
    };
    PhoneInputDefault.defaultProps = {
        metadata: defaultMetadata,
        labels: labels,
    };
    return PhoneInputDefault;
}
createPhoneInput();

function call(func, _arguments) {
    var args = Array.prototype.slice.call(_arguments);
    args.push(metadata$1);
    return func.apply(this, args);
}

var PhoneInputWithCountrySelect = createPhoneInput(metadata$1);

function formatPhoneNumberIntl() {
    return call(formatPhoneNumberIntl$1, arguments);
}

function isValidPhoneNumber() {
    return call(isValidPhoneNumber$1, arguments);
}

function getCountries() {
    return call(getCountries$1, arguments);
}

function getCountryCallingCode() {
    return call(getCountryCallingCode$1, arguments);
}

/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.
 *
 * This software is licensed under the Apache License, Version 2.0 (the
 * "License") as published by the Apache Software Foundation.
 *
 * You may not use this file except in compliance with the License. You may
 * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 */
function defaultEmailValidator(value) {
    if (typeof value !== "string") {
        return "GENERAL_ERROR_EMAIL_NON_STRING";
    }
    value = value.trim();
    var defaultEmailValidatorRegexp =
        // eslint-disable-next-line no-useless-escape
        /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    // We check if the email syntax is correct
    // As per https://github.com/supertokens/supertokens-auth-react/issues/5#issuecomment-709512438
    // Regex from https://stackoverflow.com/a/46181/3867175
    if (value.match(defaultEmailValidatorRegexp) === null) {
        return "GENERAL_ERROR_EMAIL_INVALID";
    }
    return undefined;
}
function defaultPhoneNumberValidator(value) {
    if (typeof value !== "string") {
        return "GENERAL_ERROR_PHONE_NON_STRING";
    }
    value = value.trim();
    if (!isValidPhoneNumber(value)) {
        return "GENERAL_ERROR_PHONE_INVALID";
    }
    return undefined;
}
function defaultEmailValidatorForCombinedInput(value) {
    if (typeof value !== "string") {
        return "GENERAL_ERROR_EMAIL_OR_PHONE_NON_STRING";
    }
    value = value.trim();
    var defaultEmailValidatorRegexp =
        // eslint-disable-next-line no-useless-escape
        /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    // We check if the email syntax is correct
    // As per https://github.com/supertokens/supertokens-auth-react/issues/5#issuecomment-709512438
    // Regex from https://stackoverflow.com/a/46181/3867175
    if (value.match(defaultEmailValidatorRegexp) === null) {
        return "GENERAL_ERROR_EMAIL_OR_PHONE_INVALID";
    }
    return undefined;
}
function defaultPhoneNumberValidatorForCombinedInput(value) {
    if (typeof value !== "string") {
        return "GENERAL_ERROR_EMAIL_OR_PHONE_NON_STRING";
    }
    value = value.trim();
    if (!isValidPhoneNumber(value)) {
        return "GENERAL_ERROR_EMAIL_OR_PHONE_INVALID";
    }
    return undefined;
}
function userInputCodeValidate(value) {
    return assets.__awaiter(this, void 0, void 0, function () {
        return assets.__generator(this, function (_a) {
            if (typeof value !== "string") {
                return [2 /*return*/, "GENERAL_ERROR_OTP_NON_STRING"];
            }
            if (value.length === 0) {
                return [2 /*return*/, "GENERAL_ERROR_OTP_EMPTY"];
            }
            return [2 /*return*/, undefined];
        });
    });
}
/*
 * defaultValidate
 */
// eslint-disable-next-line @typescript-eslint/no-unused-vars
function defaultValidate(_) {
    return assets.__awaiter(this, void 0, void 0, function () {
        return assets.__generator(this, function (_a) {
            return [2 /*return*/, undefined];
        });
    });
}

var utils$2 = authRecipe.createCommonjsModule(function (module, exports) {
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.normaliseAuthRecipe = void 0;
    /* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.
     *
     * This software is licensed under the Apache License, Version 2.0 (the
     * "License") as published by the Apache Software Foundation.
     *
     * You may not use this file except in compliance with the License. You may
     * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
     * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
     * License for the specific language governing permissions and limitations
     * under the License.
     */

    function normaliseAuthRecipe(config) {
        return (0, utils$3.utils.normaliseRecipeModuleConfig)(config);
    }
    exports.normaliseAuthRecipe = normaliseAuthRecipe;
});

authRecipe.unwrapExports(utils$2);
utils$2.normaliseAuthRecipe;

var utils$1 = authRecipe.createCommonjsModule(function (module, exports) {
    /* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.
     *
     * This software is licensed under the Apache License, Version 2.0 (the
     * "License") as published by the Apache Software Foundation.
     *
     * You may not use this file except in compliance with the License. You may
     * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
     * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
     * License for the specific language governing permissions and limitations
     * under the License.
     */
    var __assign =
        (authRecipe.commonjsGlobal && authRecipe.commonjsGlobal.__assign) ||
        function () {
            __assign =
                Object.assign ||
                function (t) {
                    for (var s, i = 1, n = arguments.length; i < n; i++) {
                        s = arguments[i];
                        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                    return t;
                };
            return __assign.apply(this, arguments);
        };
    var __awaiter =
        (authRecipe.commonjsGlobal && authRecipe.commonjsGlobal.__awaiter) ||
        function (thisArg, _arguments, P, generator) {
            function adopt(value) {
                return value instanceof P
                    ? value
                    : new P(function (resolve) {
                          resolve(value);
                      });
            }
            return new (P || (P = Promise))(function (resolve, reject) {
                function fulfilled(value) {
                    try {
                        step(generator.next(value));
                    } catch (e) {
                        reject(e);
                    }
                }
                function rejected(value) {
                    try {
                        step(generator["throw"](value));
                    } catch (e) {
                        reject(e);
                    }
                }
                function step(result) {
                    result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
                }
                step((generator = generator.apply(thisArg, _arguments || [])).next());
            });
        };
    var __generator =
        (authRecipe.commonjsGlobal && authRecipe.commonjsGlobal.__generator) ||
        function (thisArg, body) {
            var _ = {
                    label: 0,
                    sent: function () {
                        if (t[0] & 1) throw t[1];
                        return t[1];
                    },
                    trys: [],
                    ops: [],
                },
                f,
                y,
                t,
                g;
            return (
                (g = { next: verb(0), throw: verb(1), return: verb(2) }),
                typeof Symbol === "function" &&
                    (g[Symbol.iterator] = function () {
                        return this;
                    }),
                g
            );
            function verb(n) {
                return function (v) {
                    return step([n, v]);
                };
            }
            function step(op) {
                if (f) throw new TypeError("Generator is already executing.");
                while (_)
                    try {
                        if (
                            ((f = 1),
                            y &&
                                (t =
                                    op[0] & 2
                                        ? y["return"]
                                        : op[0]
                                        ? y["throw"] || ((t = y["return"]) && t.call(y), 0)
                                        : y.next) &&
                                !(t = t.call(y, op[1])).done)
                        )
                            return t;
                        if (((y = 0), t)) op = [op[0] & 2, t.value];
                        switch (op[0]) {
                            case 0:
                            case 1:
                                t = op;
                                break;
                            case 4:
                                _.label++;
                                return { value: op[1], done: false };
                            case 5:
                                _.label++;
                                y = op[1];
                                op = [0];
                                continue;
                            case 7:
                                op = _.ops.pop();
                                _.trys.pop();
                                continue;
                            default:
                                if (
                                    !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&
                                    (op[0] === 6 || op[0] === 2)
                                ) {
                                    _ = 0;
                                    continue;
                                }
                                if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
                                    _.label = op[1];
                                    break;
                                }
                                if (op[0] === 6 && _.label < t[1]) {
                                    _.label = t[1];
                                    t = op;
                                    break;
                                }
                                if (t && _.label < t[2]) {
                                    _.label = t[2];
                                    _.ops.push(op);
                                    break;
                                }
                                if (t[2]) _.ops.pop();
                                _.trys.pop();
                                continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [6, e];
                        y = 0;
                    } finally {
                        f = t = 0;
                    }
                if (op[0] & 5) throw op[1];
                return { value: op[0] ? op[1] : void 0, done: true };
            }
        };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.consumeCode = exports.resendCode = exports.createCode = exports.normaliseUserInput = void 0;

    function normaliseUserInput(config) {
        var override = __assign(
            {
                functions: function (originalImplementation) {
                    return originalImplementation;
                },
            },
            config.override
        );
        return __assign(__assign({}, (0, utils$2.normaliseAuthRecipe)(config)), { override: override });
    }
    exports.normaliseUserInput = normaliseUserInput;
    /**
     * These functions are helper functions so that the logic can be exposed from both
     * passwordless and thirdpartypasswordless recipes without having to duplicate code
     */
    function createCode(input) {
        return __awaiter(this, void 0, void 0, function () {
            var normalisedUserContext, createCodeResponse;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        normalisedUserContext = (0, authRecipe.utils.getNormalisedUserContext)(input.userContext);
                        return [
                            4 /*yield*/,
                            input.recipeImplementation.createCode(
                                __assign(__assign({}, input), { userContext: normalisedUserContext })
                            ),
                        ];
                    case 1:
                        createCodeResponse = _a.sent();
                        return [
                            4 /*yield*/,
                            input.recipeImplementation.setLoginAttemptInfo({
                                attemptInfo: {
                                    deviceId: createCodeResponse.deviceId,
                                    preAuthSessionId: createCodeResponse.preAuthSessionId,
                                    flowType: createCodeResponse.flowType,
                                },
                                userContext: normalisedUserContext,
                            }),
                        ];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, createCodeResponse];
                }
            });
        });
    }
    exports.createCode = createCode;
    function resendCode(input) {
        return __awaiter(this, void 0, void 0, function () {
            var normalisedUserContext, previousAttemptInfo;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        normalisedUserContext = (0, authRecipe.utils.getNormalisedUserContext)(input.userContext);
                        return [
                            4 /*yield*/,
                            input.recipeImplementation.getLoginAttemptInfo({
                                userContext: normalisedUserContext,
                            }),
                        ];
                    case 1:
                        previousAttemptInfo = _a.sent();
                        /**
                         * If previousAttemptInfo is undefined then local storage was probably cleared by another tab.
                         * In this case we use empty strings when calling the API because we want to
                         * return "RESTART_FLOW_ERROR"
                         */
                        return [
                            2 /*return*/,
                            input.recipeImplementation.resendCode(
                                __assign(__assign({}, input), {
                                    userContext: normalisedUserContext,
                                    deviceId: previousAttemptInfo === undefined ? "" : previousAttemptInfo.deviceId,
                                    preAuthSessionId:
                                        previousAttemptInfo === undefined ? "" : previousAttemptInfo.preAuthSessionId,
                                })
                            ),
                        ];
                }
            });
        });
    }
    exports.resendCode = resendCode;
    function consumeCode(input) {
        return __awaiter(this, void 0, void 0, function () {
            var normalisedUserContext, additionalParams, attemptInfoFromStorage, linkCode, preAuthSessionId;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        normalisedUserContext = (0, authRecipe.utils.getNormalisedUserContext)(input.userContext);
                        if (!("userInputCode" in input)) return [3 /*break*/, 2];
                        return [
                            4 /*yield*/,
                            input.recipeImplementation.getLoginAttemptInfo({
                                userContext: normalisedUserContext,
                            }),
                        ];
                    case 1:
                        attemptInfoFromStorage = _a.sent();
                        /**
                         * If attemptInfoFromStorage is undefined then local storage was probably cleared by another tab.
                         * In this case we use empty strings when calling the API because we want to
                         * return "RESTART_FLOW_ERROR"
                         *
                         * Note: We dont do this for the linkCode flow because that does not depend on local storage.
                         */
                        additionalParams = {
                            userInputCode: input.userInputCode,
                            deviceId: attemptInfoFromStorage === undefined ? "" : attemptInfoFromStorage.deviceId,
                            preAuthSessionId:
                                attemptInfoFromStorage === undefined ? "" : attemptInfoFromStorage.preAuthSessionId,
                        };
                        return [3 /*break*/, 3];
                    case 2:
                        linkCode = input.recipeImplementation.getLinkCodeFromURL({
                            userContext: input.userContext,
                        });
                        preAuthSessionId = input.recipeImplementation.getPreAuthSessionIdFromURL({
                            userContext: input.userContext,
                        });
                        additionalParams = {
                            linkCode: linkCode,
                            preAuthSessionId: preAuthSessionId,
                        };
                        _a.label = 3;
                    case 3:
                        return [
                            2 /*return*/,
                            input.recipeImplementation.consumeCode(
                                __assign(
                                    { userContext: normalisedUserContext, options: input.options },
                                    additionalParams
                                )
                            ),
                        ];
                }
            });
        });
    }
    exports.consumeCode = consumeCode;
});

authRecipe.unwrapExports(utils$1);
utils$1.consumeCode;
utils$1.resendCode;
utils$1.createCode;
utils$1.normaliseUserInput;

var utils = authRecipe.createCommonjsModule(function (module, exports) {
    function __export(m) {
        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
    }
    exports.__esModule = true;

    if (utils$1.default !== undefined) {
        __export(utils$1);
    } else {
        __export({
            default: utils$1,
            ...utils$1,
        });
    }
});

var WebJSUtils = authRecipe.unwrapExports(utils);

/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.
 *
 * This software is licensed under the Apache License, Version 2.0 (the
 * "License") as published by the Apache Software Foundation.
 *
 * You may not use this file except in compliance with the License. You may
 * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 */
function normalisePasswordlessConfig(config) {
    if (!["EMAIL", "PHONE", "EMAIL_OR_PHONE"].includes(config.contactMethod)) {
        throw new Error("Please pass one of 'PHONE', 'EMAIL' or 'EMAIL_OR_PHONE' as the contactMethod");
    }
    var signInUpFeature = normalizeSignInUpFeatureConfig(config.signInUpFeature, config);
    var override = assets.__assign(
        {
            functions: function (originalImplementation) {
                return originalImplementation;
            },
            components: {},
        },
        config.override
    );
    var validateEmailAddress = defaultEmailValidator;
    if (
        (config.contactMethod === "EMAIL" || config.contactMethod === "EMAIL_OR_PHONE") &&
        config.validateEmailAddress !== undefined
    ) {
        validateEmailAddress = config.validateEmailAddress;
    } else if (config.contactMethod === "EMAIL_OR_PHONE") {
        validateEmailAddress = defaultEmailValidatorForCombinedInput;
    }
    var validatePhoneNumber = defaultPhoneNumberValidator;
    if (
        (config.contactMethod === "PHONE" || config.contactMethod === "EMAIL_OR_PHONE") &&
        config.validatePhoneNumber !== undefined
    ) {
        validatePhoneNumber = config.validatePhoneNumber;
    } else if (config.contactMethod === "EMAIL_OR_PHONE") {
        validatePhoneNumber = defaultPhoneNumberValidatorForCombinedInput;
    }
    return assets.__assign(assets.__assign({}, authRecipe.normaliseAuthRecipe(config)), {
        validateEmailAddress: validateEmailAddress,
        validatePhoneNumber: validatePhoneNumber,
        signInUpFeature: signInUpFeature,
        linkClickedScreenFeature: normalisePasswordlessBaseConfig(config.linkClickedScreenFeature),
        contactMethod: config.contactMethod,
        override: override,
    });
}
function normalizeSignInUpFeatureConfig(signInUpInput, config) {
    if (
        (signInUpInput === null || signInUpInput === void 0 ? void 0 : signInUpInput.resendEmailOrSMSGapInSeconds) !==
            undefined &&
        signInUpInput.resendEmailOrSMSGapInSeconds <= 0
    ) {
        throw new Error("Please pass a positive number as resendEmailOrSMSGapInSeconds");
    }
    var signInUpFeature = assets.__assign(assets.__assign({}, signInUpInput), {
        resendEmailOrSMSGapInSeconds:
            (signInUpInput === null || signInUpInput === void 0
                ? void 0
                : signInUpInput.resendEmailOrSMSGapInSeconds) === undefined
                ? 15
                : signInUpInput.resendEmailOrSMSGapInSeconds,
        emailOrPhoneFormStyle:
            (signInUpInput === null || signInUpInput === void 0 ? void 0 : signInUpInput.emailOrPhoneFormStyle) !==
            undefined
                ? signInUpInput.emailOrPhoneFormStyle
                : "",
        linkSentScreenStyle:
            (signInUpInput === null || signInUpInput === void 0 ? void 0 : signInUpInput.linkSentScreenStyle) !==
            undefined
                ? signInUpInput.linkSentScreenStyle
                : "",
        userInputCodeFormStyle:
            (signInUpInput === null || signInUpInput === void 0 ? void 0 : signInUpInput.userInputCodeFormStyle) !==
            undefined
                ? signInUpInput.userInputCodeFormStyle
                : "",
        closeTabScreenStyle:
            (signInUpInput === null || signInUpInput === void 0 ? void 0 : signInUpInput.closeTabScreenStyle) !==
            undefined
                ? signInUpInput.closeTabScreenStyle
                : "",
        defaultCountry:
            ["PHONE", "EMAIL_OR_PHONE"].includes(config.contactMethod) &&
            signInUpInput !== undefined &&
            "defaultCountry" in signInUpInput
                ? signInUpInput.defaultCountry
                : undefined,
        guessInternationPhoneNumberFromInputPhoneNumber:
            config.contactMethod === "EMAIL_OR_PHONE" &&
            signInUpInput !== undefined &&
            "guessInternationPhoneNumberFromInputPhoneNumber" in signInUpInput &&
            signInUpInput.guessInternationPhoneNumberFromInputPhoneNumber !== undefined
                ? signInUpInput.guessInternationPhoneNumberFromInputPhoneNumber
                : defaultGuessInternationPhoneNumberFromInputPhoneNumber,
    });
    return signInUpFeature;
}
function normalisePasswordlessBaseConfig(config) {
    var style = config && config.style !== undefined ? config.style : "";
    return assets.__assign(assets.__assign({}, config), { style: style });
}
function defaultGuessInternationPhoneNumberFromInputPhoneNumber(value, defaultCountryFromConfig) {
    var _a;
    if (value === undefined || value.length === 0) {
        return value;
    }
    if (defaultCountryFromConfig !== undefined) {
        try {
            return (_a = parsePhoneNumberFromString(value, {
                defaultCountry: defaultCountryFromConfig,
                extract: false,
            })) === null || _a === void 0
                ? void 0
                : _a.formatInternational();
        } catch (_b) {
            // The lib couldn't make sense of it, so we keep it unchanged
        }
    }
    // This function "extracts" phone numbers from the string, e.g.: "asd2gmail.com" -> "2"
    var incomplete = parseIncompletePhoneNumber(value);
    // If the incomplete/extracted phonenumber is less than half the input we assume it's not a phone number.
    // I.e.: if less than half of the input is numbers
    if (value.includes("@") || incomplete.length < value.length / 2) {
        return undefined;
    }
    var incompleteIntlNum = formatIncompletePhoneNumber(value, defaultCountryFromConfig);
    if (incompleteIntlNum !== value) {
        return incompleteIntlNum;
    }
    // We want to return the value as an international number because the phone number input lib expects it this way
    return "+".concat(value);
}
function getLoginAttemptInfo(input) {
    return assets.__awaiter(this, void 0, void 0, function () {
        return assets.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    return [
                        4 /*yield*/,
                        input.recipeImplementation.getLoginAttemptInfo({
                            userContext: input.userContext,
                        }),
                    ];
                case 1:
                    return [2 /*return*/, _a.sent()];
            }
        });
    });
}
function setLoginAttemptInfo(input) {
    return assets.__awaiter(this, void 0, void 0, function () {
        return assets.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    return [
                        4 /*yield*/,
                        input.recipeImplementation.setLoginAttemptInfo({
                            userContext: input.userContext,
                            attemptInfo: input.attemptInfo,
                        }),
                    ];
                case 1:
                    return [2 /*return*/, _a.sent()];
            }
        });
    });
}
/**
 * These functions are helper functions so that the logic can be exposed from both
 * passwordless and thirdpartypasswordless recipes without having to duplicate code
 */
function createCode(input) {
    return assets.__awaiter(this, void 0, void 0, function () {
        return assets.__generator(this, function (_a) {
            return [2 /*return*/, WebJSUtils.createCode(input)];
        });
    });
}
function resendCode(input) {
    return assets.__awaiter(this, void 0, void 0, function () {
        return assets.__generator(this, function (_a) {
            return [2 /*return*/, WebJSUtils.resendCode(input)];
        });
    });
}
function consumeCode(input) {
    return assets.__awaiter(this, void 0, void 0, function () {
        return assets.__generator(this, function (_a) {
            return [2 /*return*/, WebJSUtils.consumeCode(input)];
        });
    });
}

var constants = authRecipe.createCommonjsModule(function (module, exports) {
    /* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.
     *
     * This software is licensed under the Apache License, Version 2.0 (the
     * "License") as published by the Apache Software Foundation.
     *
     * You may not use this file except in compliance with the License. You may
     * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
     * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
     * License for the specific language governing permissions and limitations
     * under the License.
     */
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.PASSWORDLESS_LOGIN_ATTEMPT_INFO_STORAGE_KEY = void 0;
    exports.PASSWORDLESS_LOGIN_ATTEMPT_INFO_STORAGE_KEY = "supertokens-passwordless-loginAttemptInfo";
});

authRecipe.unwrapExports(constants);
constants.PASSWORDLESS_LOGIN_ATTEMPT_INFO_STORAGE_KEY;

var recipeImplementation = authRecipe.createCommonjsModule(function (module, exports) {
    /* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.
     *
     * This software is licensed under the Apache License, Version 2.0 (the
     * "License") as published by the Apache Software Foundation.
     *
     * You may not use this file except in compliance with the License. You may
     * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
     * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
     * License for the specific language governing permissions and limitations
     * under the License.
     */
    var __assign =
        (authRecipe.commonjsGlobal && authRecipe.commonjsGlobal.__assign) ||
        function () {
            __assign =
                Object.assign ||
                function (t) {
                    for (var s, i = 1, n = arguments.length; i < n; i++) {
                        s = arguments[i];
                        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                    return t;
                };
            return __assign.apply(this, arguments);
        };
    var __awaiter =
        (authRecipe.commonjsGlobal && authRecipe.commonjsGlobal.__awaiter) ||
        function (thisArg, _arguments, P, generator) {
            function adopt(value) {
                return value instanceof P
                    ? value
                    : new P(function (resolve) {
                          resolve(value);
                      });
            }
            return new (P || (P = Promise))(function (resolve, reject) {
                function fulfilled(value) {
                    try {
                        step(generator.next(value));
                    } catch (e) {
                        reject(e);
                    }
                }
                function rejected(value) {
                    try {
                        step(generator["throw"](value));
                    } catch (e) {
                        reject(e);
                    }
                }
                function step(result) {
                    result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
                }
                step((generator = generator.apply(thisArg, _arguments || [])).next());
            });
        };
    var __generator =
        (authRecipe.commonjsGlobal && authRecipe.commonjsGlobal.__generator) ||
        function (thisArg, body) {
            var _ = {
                    label: 0,
                    sent: function () {
                        if (t[0] & 1) throw t[1];
                        return t[1];
                    },
                    trys: [],
                    ops: [],
                },
                f,
                y,
                t,
                g;
            return (
                (g = { next: verb(0), throw: verb(1), return: verb(2) }),
                typeof Symbol === "function" &&
                    (g[Symbol.iterator] = function () {
                        return this;
                    }),
                g
            );
            function verb(n) {
                return function (v) {
                    return step([n, v]);
                };
            }
            function step(op) {
                if (f) throw new TypeError("Generator is already executing.");
                while (_)
                    try {
                        if (
                            ((f = 1),
                            y &&
                                (t =
                                    op[0] & 2
                                        ? y["return"]
                                        : op[0]
                                        ? y["throw"] || ((t = y["return"]) && t.call(y), 0)
                                        : y.next) &&
                                !(t = t.call(y, op[1])).done)
                        )
                            return t;
                        if (((y = 0), t)) op = [op[0] & 2, t.value];
                        switch (op[0]) {
                            case 0:
                            case 1:
                                t = op;
                                break;
                            case 4:
                                _.label++;
                                return { value: op[1], done: false };
                            case 5:
                                _.label++;
                                y = op[1];
                                op = [0];
                                continue;
                            case 7:
                                op = _.ops.pop();
                                _.trys.pop();
                                continue;
                            default:
                                if (
                                    !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&
                                    (op[0] === 6 || op[0] === 2)
                                ) {
                                    _ = 0;
                                    continue;
                                }
                                if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
                                    _.label = op[1];
                                    break;
                                }
                                if (op[0] === 6 && _.label < t[1]) {
                                    _.label = t[1];
                                    t = op;
                                    break;
                                }
                                if (t && _.label < t[2]) {
                                    _.label = t[2];
                                    _.ops.push(op);
                                    break;
                                }
                                if (t[2]) _.ops.pop();
                                _.trys.pop();
                                continue;
                        }
                        op = body.call(thisArg, _);
                    } catch (e) {
                        op = [6, e];
                        y = 0;
                    } finally {
                        f = t = 0;
                    }
                if (op[0] & 5) throw op[1];
                return { value: op[0] ? op[1] : void 0, done: true };
            }
        };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.getRecipeImplementation = void 0;

    function getRecipeImplementation(recipeImplInput) {
        var querier$1 = new querier.querier.default(recipeImplInput.recipeId, recipeImplInput.appInfo);
        return {
            createCode: function (input) {
                return __awaiter(this, void 0, void 0, function () {
                    var bodyObj, _a, jsonBody, fetchResponse;
                    return __generator(this, function (_b) {
                        switch (_b.label) {
                            case 0:
                                if ("email" in input) {
                                    bodyObj = {
                                        email: input.email,
                                    };
                                }
                                if ("phoneNumber" in input) {
                                    bodyObj = {
                                        phoneNumber: input.phoneNumber,
                                    };
                                }
                                return [
                                    4 /*yield*/,
                                    querier$1.post(
                                        "/signinup/code",
                                        { body: JSON.stringify(bodyObj) },
                                        querier.querier.default.preparePreAPIHook({
                                            recipePreAPIHook: recipeImplInput.preAPIHook,
                                            action: "PASSWORDLESS_CREATE_CODE",
                                            userContext: input.userContext,
                                            options: input.options,
                                        }),
                                        querier.querier.default.preparePostAPIHook({
                                            recipePostAPIHook: recipeImplInput.postAPIHook,
                                            action: "PASSWORDLESS_CREATE_CODE",
                                            userContext: input.userContext,
                                        })
                                    ),
                                ];
                            case 1:
                                (_a = _b.sent()), (jsonBody = _a.jsonBody), (fetchResponse = _a.fetchResponse);
                                return [
                                    2 /*return*/,
                                    __assign(__assign({}, jsonBody), { fetchResponse: fetchResponse }),
                                ];
                        }
                    });
                });
            },
            resendCode: function (input) {
                return __awaiter(this, void 0, void 0, function () {
                    var bodyObj, _a, jsonBody, fetchResponse;
                    return __generator(this, function (_b) {
                        switch (_b.label) {
                            case 0:
                                bodyObj = {
                                    deviceId: input.deviceId,
                                    preAuthSessionId: input.preAuthSessionId,
                                };
                                return [
                                    4 /*yield*/,
                                    querier$1.post(
                                        "/signinup/code/resend",
                                        { body: JSON.stringify(bodyObj) },
                                        querier.querier.default.preparePreAPIHook({
                                            recipePreAPIHook: recipeImplInput.preAPIHook,
                                            action: "PASSWORDLESS_RESEND_CODE",
                                            userContext: input.userContext,
                                            options: input.options,
                                        }),
                                        querier.querier.default.preparePostAPIHook({
                                            recipePostAPIHook: recipeImplInput.postAPIHook,
                                            action: "PASSWORDLESS_RESEND_CODE",
                                            userContext: input.userContext,
                                        })
                                    ),
                                ];
                            case 1:
                                (_a = _b.sent()), (jsonBody = _a.jsonBody), (fetchResponse = _a.fetchResponse);
                                return [
                                    2 /*return*/,
                                    {
                                        status: jsonBody.status,
                                        fetchResponse: fetchResponse,
                                    },
                                ];
                        }
                    });
                });
            },
            consumeCode: function (input) {
                return __awaiter(this, void 0, void 0, function () {
                    var bodyObj, _a, jsonBody, fetchResponse;
                    return __generator(this, function (_b) {
                        switch (_b.label) {
                            case 0:
                                if ("userInputCode" in input) {
                                    bodyObj = {
                                        userInputCode: input.userInputCode,
                                        deviceId: input.deviceId,
                                        preAuthSessionId: input.preAuthSessionId,
                                    };
                                } else {
                                    bodyObj = {
                                        linkCode: input.linkCode,
                                        preAuthSessionId: input.preAuthSessionId,
                                    };
                                }
                                return [
                                    4 /*yield*/,
                                    querier$1.post(
                                        "/signinup/code/consume",
                                        { body: JSON.stringify(bodyObj) },
                                        querier.querier.default.preparePreAPIHook({
                                            recipePreAPIHook: recipeImplInput.preAPIHook,
                                            action: "PASSWORDLESS_CONSUME_CODE",
                                            userContext: input.userContext,
                                            options: input.options,
                                        }),
                                        querier.querier.default.preparePostAPIHook({
                                            recipePostAPIHook: recipeImplInput.postAPIHook,
                                            action: "PASSWORDLESS_CONSUME_CODE",
                                            userContext: input.userContext,
                                        })
                                    ),
                                ];
                            case 1:
                                (_a = _b.sent()), (jsonBody = _a.jsonBody), (fetchResponse = _a.fetchResponse);
                                return [
                                    2 /*return*/,
                                    __assign(__assign({}, jsonBody), { fetchResponse: fetchResponse }),
                                ];
                        }
                    });
                });
            },
            getLinkCodeFromURL: function () {
                return (0, authRecipe.utils.getHashFromLocation)();
            },
            getPreAuthSessionIdFromURL: function () {
                var idFromQuery = (0, authRecipe.utils.getQueryParams)("preAuthSessionId");
                if (idFromQuery === undefined) {
                    return "";
                }
                return idFromQuery;
            },
            doesEmailExist: function (input) {
                return __awaiter(this, void 0, void 0, function () {
                    var _a, jsonBody, fetchResponse;
                    return __generator(this, function (_b) {
                        switch (_b.label) {
                            case 0:
                                return [
                                    4 /*yield*/,
                                    querier$1.get(
                                        "/signup/email/exists",
                                        {},
                                        { email: input.email },
                                        querier.querier.default.preparePreAPIHook({
                                            recipePreAPIHook: recipeImplInput.preAPIHook,
                                            action: "EMAIL_EXISTS",
                                            userContext: input.userContext,
                                            options: input.options,
                                        }),
                                        querier.querier.default.preparePostAPIHook({
                                            recipePostAPIHook: recipeImplInput.postAPIHook,
                                            action: "EMAIL_EXISTS",
                                            userContext: input.userContext,
                                        })
                                    ),
                                ];
                            case 1:
                                (_a = _b.sent()), (jsonBody = _a.jsonBody), (fetchResponse = _a.fetchResponse);
                                return [
                                    2 /*return*/,
                                    {
                                        status: jsonBody.status,
                                        doesExist: jsonBody.exists,
                                        fetchResponse: fetchResponse,
                                    },
                                ];
                        }
                    });
                });
            },
            doesPhoneNumberExist: function (input) {
                return __awaiter(this, void 0, void 0, function () {
                    var _a, jsonBody, fetchResponse;
                    return __generator(this, function (_b) {
                        switch (_b.label) {
                            case 0:
                                return [
                                    4 /*yield*/,
                                    querier$1.get(
                                        "/signup/phoneNumber/exists",
                                        {},
                                        { phoneNumber: input.phoneNumber },
                                        querier.querier.default.preparePreAPIHook({
                                            recipePreAPIHook: recipeImplInput.preAPIHook,
                                            action: "PHONE_NUMBER_EXISTS",
                                            userContext: input.userContext,
                                            options: input.options,
                                        }),
                                        querier.querier.default.preparePostAPIHook({
                                            recipePostAPIHook: recipeImplInput.postAPIHook,
                                            action: "PHONE_NUMBER_EXISTS",
                                            userContext: input.userContext,
                                        })
                                    ),
                                ];
                            case 1:
                                (_a = _b.sent()), (jsonBody = _a.jsonBody), (fetchResponse = _a.fetchResponse);
                                return [
                                    2 /*return*/,
                                    {
                                        status: jsonBody.status,
                                        doesExist: jsonBody.exists,
                                        fetchResponse: fetchResponse,
                                    },
                                ];
                        }
                    });
                });
            },
            getLoginAttemptInfo: function () {
                return __awaiter(this, void 0, void 0, function () {
                    var storedInfo;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                return [
                                    4 /*yield*/,
                                    authRecipe.windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.localStorage.getItem(
                                        constants.PASSWORDLESS_LOGIN_ATTEMPT_INFO_STORAGE_KEY
                                    ),
                                ];
                            case 1:
                                storedInfo = _a.sent();
                                if (storedInfo === null) {
                                    return [2 /*return*/, undefined];
                                }
                                try {
                                    return [2 /*return*/, JSON.parse(storedInfo)];
                                } catch (ex) {
                                    return [2 /*return*/, undefined];
                                }
                                return [2 /*return*/];
                        }
                    });
                });
            },
            setLoginAttemptInfo: function (input) {
                return __awaiter(this, void 0, void 0, function () {
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                return [
                                    4 /*yield*/,
                                    authRecipe.windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.localStorage.setItem(
                                        constants.PASSWORDLESS_LOGIN_ATTEMPT_INFO_STORAGE_KEY,
                                        JSON.stringify(
                                            __assign(
                                                {
                                                    // This can make future changes/migrations a lot cleaner
                                                    version: 1,
                                                },
                                                input.attemptInfo
                                            )
                                        )
                                    ),
                                ];
                            case 1:
                                _a.sent();
                                return [2 /*return*/];
                        }
                    });
                });
            },
            clearLoginAttemptInfo: function () {
                return __awaiter(this, void 0, void 0, function () {
                    return __generator(this, function (_a) {
                        authRecipe.windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.localStorage.removeItem(
                            constants.PASSWORDLESS_LOGIN_ATTEMPT_INFO_STORAGE_KEY
                        );
                        return [2 /*return*/];
                    });
                });
            },
        };
    }
    exports.default = getRecipeImplementation;
    exports.getRecipeImplementation = getRecipeImplementation;
});

authRecipe.unwrapExports(recipeImplementation);
var recipeImplementation_1 = recipeImplementation.getRecipeImplementation;

function getRecipeImplementation(recipeInput) {
    var webJsImplementation = recipeImplementation_1({
        recipeId: recipeInput.recipeId,
        appInfo: recipeInput.appInfo,
        preAPIHook: recipeInput.preAPIHook,
        postAPIHook: recipeInput.postAPIHook,
    });
    return {
        createCode: function (input) {
            return assets.__awaiter(this, void 0, void 0, function () {
                var response;
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            return [4 /*yield*/, webJsImplementation.createCode.bind(this)(input)];
                        case 1:
                            response = _a.sent();
                            if (response.status === "OK") {
                                recipeInput.onHandleEvent({
                                    action: "PASSWORDLESS_CODE_SENT",
                                    isResend: false,
                                });
                            }
                            return [2 /*return*/, response];
                    }
                });
            });
        },
        resendCode: function (input) {
            return assets.__awaiter(this, void 0, void 0, function () {
                var response;
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            return [4 /*yield*/, webJsImplementation.resendCode.bind(this)(input)];
                        case 1:
                            response = _a.sent();
                            if (response.status === "RESTART_FLOW_ERROR") {
                                recipeInput.onHandleEvent({
                                    action: "PASSWORDLESS_RESTART_FLOW",
                                });
                            } else if (response.status === "OK") {
                                recipeInput.onHandleEvent({
                                    action: "PASSWORDLESS_CODE_SENT",
                                    isResend: true,
                                });
                            }
                            return [2 /*return*/, response];
                    }
                });
            });
        },
        consumeCode: function (input) {
            return assets.__awaiter(this, void 0, void 0, function () {
                var response;
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            return [4 /*yield*/, webJsImplementation.consumeCode.bind(this)(input)];
                        case 1:
                            response = _a.sent();
                            if (response.status === "RESTART_FLOW_ERROR") {
                                recipeInput.onHandleEvent({
                                    action: "PASSWORDLESS_RESTART_FLOW",
                                });
                            } else if (response.status === "OK") {
                                recipeInput.onHandleEvent({
                                    action: "SUCCESS",
                                    isNewUser: response.createdNewUser,
                                    user: response.user,
                                });
                            }
                            return [2 /*return*/, response];
                    }
                });
            });
        },
        getLinkCodeFromURL: function (input) {
            return webJsImplementation.getLinkCodeFromURL.bind(this)(input);
        },
        getPreAuthSessionIdFromURL: function (input) {
            return webJsImplementation.getPreAuthSessionIdFromURL.bind(this)(input);
        },
        doesEmailExist: function (input) {
            return assets.__awaiter(this, void 0, void 0, function () {
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            return [4 /*yield*/, webJsImplementation.doesEmailExist.bind(this)(input)];
                        case 1:
                            return [2 /*return*/, _a.sent()];
                    }
                });
            });
        },
        doesPhoneNumberExist: function (input) {
            return assets.__awaiter(this, void 0, void 0, function () {
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            return [4 /*yield*/, webJsImplementation.doesPhoneNumberExist.bind(this)(input)];
                        case 1:
                            return [2 /*return*/, _a.sent()];
                    }
                });
            });
        },
        getLoginAttemptInfo: function (input) {
            return webJsImplementation.getLoginAttemptInfo.bind(this)(input);
        },
        setLoginAttemptInfo: function (input) {
            return assets.__awaiter(this, void 0, void 0, function () {
                return assets.__generator(this, function (_a) {
                    return [2 /*return*/, webJsImplementation.setLoginAttemptInfo.bind(this)(input)];
                });
            });
        },
        clearLoginAttemptInfo: function (input) {
            return webJsImplementation.clearLoginAttemptInfo.bind(this)(input);
        },
    };
}

var styles =
    '/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * "License") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\n[data-supertokens~="container"] {\n    --palette-background: white;\n    --palette-inputBackground: #fafafa;\n    --palette-inputBorder: #fafafa;\n    --palette-selectedBackground: #eeeeee;\n    --palette-primary: #ff9b33;\n    --palette-primaryBorder: #ee8d23;\n    --palette-success: #41a700;\n    --palette-error: #ff1717;\n    --palette-textTitle: #222222;\n    --palette-textLabel: #222222;\n    --palette-textInput: #222222;\n    --palette-textPrimary: #656565;\n    --palette-textLink: #0076ff;\n    --palette-buttonText: white;\n    --palette-superTokensBrandingBackground: #f2f5f6;\n    --palette-superTokensBrandingText: #adbdc4;\n\n    --font-size-0: 12px;\n    --font-size-1: 14px;\n    --font-size-2: 16px;\n    --font-size-3: 19px;\n    --font-size-4: 24px;\n}\n\n/*\n * Default styles.\n */\n\n@keyframes slideTop {\n    0% {\n        transform: translateY(-5px);\n    }\n    100% {\n        transform: translateY(0px);\n    }\n}\n\n@keyframes swing-in-top-fwd {\n    0% {\n        -webkit-transform: rotateX(-100deg);\n        transform: rotateX(-100deg);\n        -webkit-transform-origin: top;\n        transform-origin: top;\n        opacity: 0;\n    }\n    100% {\n        -webkit-transform: rotateX(0deg);\n        transform: rotateX(0deg);\n        -webkit-transform-origin: top;\n        transform-origin: top;\n        opacity: 1;\n    }\n}\n\n[data-supertokens~="container"] {\n    font-family: Rubik, sans-serif;\n    margin: 12px auto;\n    margin-top: 26px;\n    margin-bottom: 26px;\n    width: 420px;\n    text-align: center;\n    border-radius: 8px;\n    box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.16);\n    background-color: var(--palette-background);\n}\n\n@media (max-width: 440px) {\n    [data-supertokens~="container"] {\n        width: 95vw;\n    }\n}\n\n[data-supertokens~="row"] {\n    margin: 0 auto;\n    width: 76%;\n    padding-top: 30px;\n    padding-bottom: 10px;\n}\n\n[data-supertokens~="superTokensBranding"] {\n    display: block;\n    margin: 0 auto;\n    background: var(--palette-superTokensBrandingBackground);\n    color: var(--palette-superTokensBrandingText);\n    text-decoration: none;\n    width: fit-content;\n    border-radius: 6px 6px 0 0;\n    padding: 4px 9px;\n    font-weight: 300;\n    font-size: var(--font-size-0);\n    letter-spacing: 0.4px;\n}\n\n[data-supertokens~="generalError"] {\n    background: var(--palette-error-bg);\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-bottom: 15px;\n    padding-left: 18px;\n    padding-right: 18px;\n    letter-spacing: 0.2px;\n    font-size: var(--font-size-1);\n    border-radius: 8px;\n    color: var(--palette-error);\n    animation: swing-in-top-fwd 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) both;\n    overflow-wrap: break-word;\n}\n\n[data-supertokens~="headerTitle"] {\n    font-size: var(--font-size-4);\n    line-height: 40px;\n    letter-spacing: 0.58px;\n    font-weight: 800;\n    margin-bottom: 2px;\n    color: var(--palette-textTitle);\n}\n\n[data-supertokens~="headerSubtitle"] {\n    margin-bottom: 21px;\n}\n\n[data-supertokens~="privacyPolicyAndTermsAndConditions"] {\n    max-width: 300px;\n    margin-top: 10px;\n}\n\n[data-supertokens~="privacyPolicyAndTermsAndConditions"] a {\n    line-height: 21px;\n}\n\n/* TODO: split the link style into separate things*/\n\n/* We add this before primary and secondary text, because if they are applied to the same element the other ones take priority */\n\n[data-supertokens~="link"] {\n    padding-left: 3px;\n    padding-right: 3px;\n    color: var(--palette-textLink);\n    font-size: var(--font-size-1);\n    cursor: pointer;\n    letter-spacing: 0.16px;\n    line-height: 26px;\n}\n\n[data-supertokens~="primaryText"] {\n    font-size: var(--font-size-1);\n    font-weight: 500;\n    letter-spacing: 0.4px;\n    line-height: 21px;\n    color: var(--palette-textLabel);\n}\n\n[data-supertokens~="secondaryText"] {\n    font-size: var(--font-size-1);\n    font-weight: 300;\n    letter-spacing: 0.4px;\n    color: var(--palette-textPrimary);\n}\n\n[data-supertokens~="divider"] {\n    margin-top: 1em;\n    margin-bottom: 1em;\n    border-bottom: 0.3px solid #dddddd;\n    align-items: center;\n    padding-bottom: 5px;\n}\n\n[data-supertokens~="headerTinyTitle"] {\n    margin-top: 13px;\n    font-size: var(--font-size-3);\n    letter-spacing: 1.1px;\n    font-weight: 500;\n    line-height: 28px;\n}\n\n[data-supertokens~="secondaryLinkWithArrow"] {\n    margin-top: 10px;\n    margin-bottom: 30px;\n    cursor: pointer;\n}\n\n[data-supertokens~="secondaryLinkWithArrow"]:hover {\n    position: relative;\n    left: 2px;\n    word-spacing: 4px;\n}\n\n[data-supertokens~="generalSuccess"] {\n    color: var(--palette-success);\n    font-size: var(--font-size-1);\n    background: var(--palette-success-bg);\n    animation: swing-in-top-fwd 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) both;\n    padding: 9px 15px 9px 15px;\n    border-radius: 6px;\n    display: inline-block;\n}\n\n[data-supertokens~="spinner"] {\n    width: 80px;\n    height: auto;\n    padding-top: 20px;\n    padding-bottom: 40px;\n    margin: 0 auto;\n}\n\n[data-supertokens~="error"] {\n    color: var(--palette-error);\n}\n\n[data-supertokens~="linkButton"] {\n    background-color: transparent;\n    border: 0;\n}\n\n[data-supertokens~="secondaryLinkWithLeftArrow"] {\n    margin-top: 10px;\n    margin-bottom: 40px;\n    cursor: pointer;\n}\n\n[data-supertokens~="secondaryLinkWithLeftArrow"] svg {\n    margin-right: 0.3em;\n}\n\n[data-supertokens~="secondaryLinkWithLeftArrow"]:hover svg {\n    position: relative;\n    left: -4px;\n}\n\n[data-supertokens~="button"] {\n    background-color: var(--palette-primary);\n    color: var(--palette-buttonText);\n    width: 100%;\n    height: 34px;\n    font-weight: 700;\n    border-width: 1px;\n    border-style: solid;\n    border-radius: 6px;\n    border-color: var(--palette-primaryBorder);\n    background-position: center;\n    transition: all 0.4s;\n    background-size: 12000%;\n}\n\n[data-supertokens~="button"]:disabled {\n    border: none;\n    cursor: no-drop;\n}\n\n[data-supertokens~="button"]:active {\n    outline: none;\n    transition: all 0s;\n    background-size: 100%;\n    filter: brightness(0.85);\n}\n\n[data-supertokens~="button"]:focus {\n    outline: none;\n}\n\n[data-supertokens~="button"][data-supertokens~="brighten"]:hover {\n    filter: brightness(0.85);\n}\n\n[data-supertokens~="button"][data-supertokens~="brighten"]:active,\n[data-supertokens~="button"][data-supertokens~="brighten"]:hover {\n    filter: brightness(1.1);\n}\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * "License") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n[data-supertokens~="container"] {\n    --palette-background: white;\n    --palette-inputBackground: #fafafa;\n    --palette-inputBorder: #fafafa;\n    --palette-selectedBackground: #eeeeee;\n    --palette-primary: #ff9b33;\n    --palette-primaryBorder: #ee8d23;\n    --palette-success: #41a700;\n    --palette-error: #ff1717;\n    --palette-textTitle: #222222;\n    --palette-textLabel: #222222;\n    --palette-textInput: #222222;\n    --palette-textPrimary: #656565;\n    --palette-textLink: #0076ff;\n    --palette-buttonText: white;\n    --palette-superTokensBrandingBackground: #f2f5f6;\n    --palette-superTokensBrandingText: #adbdc4;\n\n    --font-size-0: 12px;\n    --font-size-1: 14px;\n    --font-size-2: 16px;\n    --font-size-3: 19px;\n    --font-size-4: 24px;\n}\n/*\n * Default styles.\n */\n@keyframes slideTop {\n    0% {\n        transform: translateY(-5px);\n    }\n    100% {\n        transform: translateY(0px);\n    }\n}\n@keyframes swing-in-top-fwd {\n    0% {\n        -webkit-transform: rotateX(-100deg);\n        transform: rotateX(-100deg);\n        -webkit-transform-origin: top;\n        transform-origin: top;\n        opacity: 0;\n    }\n    100% {\n        -webkit-transform: rotateX(0deg);\n        transform: rotateX(0deg);\n        -webkit-transform-origin: top;\n        transform-origin: top;\n        opacity: 1;\n    }\n}\n[data-supertokens~="container"] {\n    font-family: Rubik, sans-serif;\n    margin: 12px auto;\n    margin-top: 26px;\n    margin-bottom: 26px;\n    width: 420px;\n    text-align: center;\n    border-radius: 8px;\n    box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.16);\n    background-color: var(--palette-background);\n}\n@media (max-width: 440px) {\n    [data-supertokens~="container"] {\n        width: 95vw;\n    }\n}\n[data-supertokens~="row"] {\n    margin: 0 auto;\n    width: 76%;\n    padding-top: 30px;\n    padding-bottom: 10px;\n}\n[data-supertokens~="superTokensBranding"] {\n    display: block;\n    margin: 0 auto;\n    background: var(--palette-superTokensBrandingBackground);\n    color: var(--palette-superTokensBrandingText);\n    text-decoration: none;\n    width: fit-content;\n    border-radius: 6px 6px 0 0;\n    padding: 4px 9px;\n    font-weight: 300;\n    font-size: var(--font-size-0);\n    letter-spacing: 0.4px;\n}\n[data-supertokens~="generalError"] {\n    background: var(--palette-error-bg);\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-bottom: 15px;\n    padding-left: 18px;\n    padding-right: 18px;\n    letter-spacing: 0.2px;\n    font-size: var(--font-size-1);\n    border-radius: 8px;\n    color: var(--palette-error);\n    animation: swing-in-top-fwd 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) both;\n    overflow-wrap: break-word;\n}\n[data-supertokens~="headerTitle"] {\n    font-size: var(--font-size-4);\n    line-height: 40px;\n    letter-spacing: 0.58px;\n    font-weight: 800;\n    margin-bottom: 2px;\n    color: var(--palette-textTitle);\n}\n[data-supertokens~="headerSubtitle"] {\n    margin-bottom: 21px;\n}\n[data-supertokens~="privacyPolicyAndTermsAndConditions"] {\n    max-width: 300px;\n    margin-top: 10px;\n}\n[data-supertokens~="privacyPolicyAndTermsAndConditions"] a {\n    line-height: 21px;\n}\n/* TODO: split the link style into separate things*/\n/* We add this before primary and secondary text, because if they are applied to the same element the other ones take priority */\n[data-supertokens~="link"] {\n    padding-left: 3px;\n    padding-right: 3px;\n    color: var(--palette-textLink);\n    font-size: var(--font-size-1);\n    cursor: pointer;\n    letter-spacing: 0.16px;\n    line-height: 26px;\n}\n[data-supertokens~="primaryText"] {\n    font-size: var(--font-size-1);\n    font-weight: 500;\n    letter-spacing: 0.4px;\n    line-height: 21px;\n    color: var(--palette-textLabel);\n}\n[data-supertokens~="secondaryText"] {\n    font-size: var(--font-size-1);\n    font-weight: 300;\n    letter-spacing: 0.4px;\n    color: var(--palette-textPrimary);\n}\n[data-supertokens~="divider"] {\n    margin-top: 1em;\n    margin-bottom: 1em;\n    border-bottom: 0.3px solid #dddddd;\n    align-items: center;\n    padding-bottom: 5px;\n}\n[data-supertokens~="headerTinyTitle"] {\n    margin-top: 13px;\n    font-size: var(--font-size-3);\n    letter-spacing: 1.1px;\n    font-weight: 500;\n    line-height: 28px;\n}\n[data-supertokens~="secondaryLinkWithArrow"] {\n    margin-top: 10px;\n    margin-bottom: 30px;\n    cursor: pointer;\n}\n[data-supertokens~="secondaryLinkWithArrow"]:hover {\n    position: relative;\n    left: 2px;\n    word-spacing: 4px;\n}\n[data-supertokens~="generalSuccess"] {\n    color: var(--palette-success);\n    font-size: var(--font-size-1);\n    background: var(--palette-success-bg);\n    animation: swing-in-top-fwd 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) both;\n    padding: 9px 15px 9px 15px;\n    border-radius: 6px;\n    display: inline-block;\n}\n[data-supertokens~="spinner"] {\n    width: 80px;\n    height: auto;\n    padding-top: 20px;\n    padding-bottom: 40px;\n    margin: 0 auto;\n}\n[data-supertokens~="error"] {\n    color: var(--palette-error);\n}\n[data-supertokens~="linkButton"] {\n    background-color: transparent;\n    border: 0;\n}\n[data-supertokens~="secondaryLinkWithLeftArrow"] {\n    margin-top: 10px;\n    margin-bottom: 40px;\n    cursor: pointer;\n}\n[data-supertokens~="secondaryLinkWithLeftArrow"] svg {\n    margin-right: 0.3em;\n}\n[data-supertokens~="secondaryLinkWithLeftArrow"]:hover svg {\n    position: relative;\n    left: -4px;\n}\n[data-supertokens~="button"] {\n    background-color: var(--palette-primary);\n    color: var(--palette-buttonText);\n    width: 100%;\n    height: 34px;\n    font-weight: 700;\n    border-width: 1px;\n    border-style: solid;\n    border-radius: 6px;\n    border-color: var(--palette-primaryBorder);\n    background-position: center;\n    transition: all 0.4s;\n    background-size: 12000%;\n}\n[data-supertokens~="button"]:disabled {\n    border: none;\n    cursor: no-drop;\n}\n[data-supertokens~="button"]:active {\n    outline: none;\n    transition: all 0s;\n    background-size: 100%;\n    filter: brightness(0.85);\n}\n[data-supertokens~="button"]:focus {\n    outline: none;\n}\n[data-supertokens~="button"][data-supertokens~="brighten"]:hover {\n    filter: brightness(0.85);\n}\n[data-supertokens~="button"][data-supertokens~="brighten"]:active,\n[data-supertokens~="button"][data-supertokens~="brighten"]:hover {\n    filter: brightness(1.1);\n}\n[data-supertokens~="inputContainer"] {\n    margin-top: 6px;\n}\n[data-supertokens~="inputWrapper"] {\n    box-sizing: border-box;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    background-color: var(--palette-inputBackground);\n    height: 34px;\n    border-radius: 6px;\n    border: 1px solid var(--palette-inputBorder);\n}\n[data-supertokens~="inputWrapper"]:focus-within {\n    background-color: rgba(var(--palette-inputBackground), 0.25);\n    border: 1px solid var(--palette-primary);\n    box-shadow: 0 0 0 0.2rem rgba(var(--palette-primary), 0.25);\n    outline: none;\n}\n[data-supertokens~="inputError"] {\n    border: 1px solid var(--palette-error);\n    box-shadow: 0 0 0 0.2rem rgba(var(--palette-error), 0.25);\n    outline: none;\n}\n[data-supertokens~="inputError"]:focus-within {\n    border: 1px solid var(--palette-error);\n    box-shadow: 0 0 0 0.2rem rgba(var(--palette-error), 0.25);\n    outline: none;\n}\n[data-supertokens~="input"] {\n    box-sizing: border-box;\n    padding-left: 15px;\n    filter: none;\n    color: var(--palette-textInput);\n    background-color: transparent;\n    border-radius: 6px;\n    font-size: var(--font-size-1);\n    border: none;\n    padding-right: 25px;\n    letter-spacing: 1.2px;\n    flex: 9 1 75%;\n    width: 75%;\n    height: 32px;\n}\n[data-supertokens~="input"]:focus {\n    border: none;\n    outline: none;\n}\n[data-supertokens~="input"]:-webkit-autofill,\n[data-supertokens~="input"]:-webkit-autofill:hover,\n[data-supertokens~="input"]:-webkit-autofill:focus,\n[data-supertokens~="input"]:-webkit-autofill:active {\n    -webkit-text-fill-color: var(--palette-textInput);\n    -webkit-box-shadow: 0 0 0 30px var(--palette-inputBackground) inset;\n    box-shadow: 0 0 0 30px var(--palette-inputBackground) inset;\n}\n[data-supertokens~="inputAdornment"] {\n    justify-content: center;\n    margin-right: 5px;\n}\n[data-supertokens~="showPassword"] {\n    cursor: pointer;\n}\n[data-supertokens~="forgotPasswordLink"] {\n    margin-top: 10px;\n}\n[data-supertokens~="enterEmailSuccessMessage"] {\n    margin-top: 15px;\n    margin-bottom: 15px;\n    word-break: break-word;\n}\n[data-supertokens~="submitNewPasswordSuccessMessage"] {\n    margin-top: 15px;\n    margin-bottom: 15px;\n}\n[data-supertokens~="inputErrorMessage"] {\n    padding-top: 5px;\n    padding-bottom: 5px;\n    color: var(--palette-error);\n    line-height: 24px;\n    font-weight: 400;\n    font-size: var(--font-size-1);\n    text-align: left;\n    animation: slideTop 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;\n    max-width: 330px;\n}\n@media (max-width: 440px) {\n    [data-supertokens~="inputErrorMessage"] {\n        max-width: 250px;\n    }\n}\n[data-supertokens~="inputErrorSymbol"] {\n    margin-right: 5px;\n    top: 1px;\n    position: relative;\n    left: 2px;\n}\n[data-supertokens~="label"] {\n    text-align: left;\n    font-weight: 600;\n    font-size: var(--font-size-1);\n    line-height: 24px;\n    color: var(--palette-textLabel);\n}\n[data-supertokens~="formRow"] {\n    display: flex;\n    flex-direction: column;\n    padding-top: 0px;\n    padding-bottom: 34px;\n}\n[data-supertokens~="formRow"][data-supertokens~="hasError"] {\n    padding-bottom: 0;\n}\n[data-supertokens~="sendVerifyEmailIcon"] {\n    margin-top: 11px;\n}\n[data-supertokens~="headerTinyTitle"] {\n    margin-top: 13px;\n    font-size: var(--font-size-3);\n    letter-spacing: 1.1px;\n    font-weight: 500;\n    line-height: 28px;\n}\n[data-supertokens~="sendVerifyEmailText"] {\n    line-height: 21px;\n    font-size: var(--font-size-1);\n    text-align: center;\n    font-weight: 300;\n    letter-spacing: 0.8px;\n}\n[data-supertokens~="secondaryLinkWithArrow"] {\n    margin-top: 10px;\n    margin-bottom: 30px;\n    cursor: pointer;\n}\n[data-supertokens~="secondaryLinkWithArrow"]:hover {\n    position: relative;\n    left: 2px;\n    word-spacing: 4px;\n}\n[data-supertokens~="sendVerifyEmailResend"] {\n    margin-top: 13px;\n    font-weight: 300;\n}\n[data-supertokens~="sendVerifyEmailResend"]:hover {\n    text-decoration: underline;\n}\n[data-supertokens~="noFormRow"] {\n    padding-bottom: 25px;\n}\n[data-supertokens~="emailVerificationButtonWrapper"] {\n    padding-top: 25px;\n    max-width: 96px;\n    margin: 0 auto;\n}\n[data-supertokens~="resetPasswordHeaderTitle"] {\n    position: relative;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n[data-supertokens~="backButtonCommon"] {\n    width: 16px;\n    height: 13px;\n}\n[data-supertokens~="backButton"] {\n    cursor: pointer;\n    border: none;\n    background-color: transparent;\n    padding: 0px;\n}\n[data-supertokens~="backButtonPlaceholder"] {\n    display: block;\n}\n[data-supertokens~="resendEmailLink"] {\n    display: inline-block;\n}\n\n[data-supertokens~="generalSuccess"] {\n    margin-bottom: 20px;\n    animation: swingIn 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) alternate 2 both;\n}\n[data-supertokens~="codeInputLabelWrapper"] {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n[data-supertokens~="headerSubtitle"] strong {\n    max-width: 100%;\n    display: inline-block;\n    vertical-align: bottom;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n[data-supertokens~="sendCodeText"] {\n    margin-top: 15px;\n    margin-bottom: 20px;\n}\n\n[data-supertokens~="sendCodeText"] strong {\n    max-width: 100%;\n    display: inline-block;\n    vertical-align: bottom;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n[data-supertokens~="resendCodeBtn"] {\n    width: auto;\n    margin-top: 0;\n    line-height: 24px;\n}\n\n[data-supertokens~="resendCodeBtn"]:hover {\n    text-decoration: underline;\n}\n[data-supertokens~="resendCodeBtn"]:disabled {\n    color: var(--palette-textPrimary);\n    cursor: default;\n    text-decoration: none;\n}\n\n[data-supertokens~="phoneInputLibRoot"] {\n    display: flex;\n    align-items: center;\n}\n\n[data-supertokens~="phoneInputLibRoot"] .PhoneInput {\n    display: flex;\n    align-items: center;\n}\n\n[data-supertokens~="phoneInputLibRoot"] .PhoneInputInput {\n    flex: 1 1;\n    min-width: 0;\n    width: 100%;\n    background: transparent;\n    border: none;\n    color: inherit;\n    outline: none;\n}\n\n[data-supertokens~="phoneInputLibRoot"] .PhoneInputCountryIcon {\n    color: var(--palette-textInput);\n    width: calc(1em * 1.5);\n    height: 1em;\n}\n\n[data-supertokens~="phoneInputLibRoot"] .PhoneInputCountryIconImg {\n    display: block;\n    width: 100%;\n    height: 100%;\n}\n\n[data-supertokens~="phoneInputLibRoot"] .PhoneInputInternationalIconPhone {\n    opacity: 0.8;\n}\n\n[data-supertokens~="phoneInputLibRoot"] .PhoneInputInternationalIconGlobe {\n    opacity: 0.65;\n}\n[data-supertokens~="phoneInputCountryControl"] {\n    background-color: inherit;\n    border: none;\n    box-shadow: none;\n}\n[data-supertokens~="phoneInputCountryControl"]:hover {\n    border: none;\n    box-shadow: none;\n}\n[data-supertokens~="phoneInputCountryDropdown"] {\n    width: min(72.2vw, 320px);\n    border-radius: 6;\n    margin-left: "-15px"; /* This is to counteract the padding of the inputWrapper class */\n    box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.16);\n}\n[data-supertokens~="phoneInputCountryDropdown"] > div {\n    padding-top: 0;\n}\n[data-supertokens~="phoneInputCountryOption"] {\n    display: flex;\n    align-items: center;\n    height: 34px;\n    cursor: pointer;\n\n    padding: 0 8px;\n}\n\n[data-supertokens~="phoneInputCountryOption"][aria-selected="true"] {\n    background: var(--palette-selectedBackground);\n}\n[data-supertokens~="phoneInputCountryOptionLabel"] {\n    color: var(--palette-textLabel);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    margin: 0 16px;\n}\n[aria-selected="true"] [data-supertokens~="phoneInputCountryOptionLabel"] {\n    color: var(--palette-textLink);\n}\n[data-supertokens~="phoneInputCountryOptionCallingCode"] {\n    color: var(--palette-textLabel);\n    opacity: 0.5;\n}\n\n[aria-selected="true"] [data-supertokens~="phoneInputCountryOptionCallingCode"] {\n    opacity: 1;\n}\n[data-supertokens~="phoneInputCountrySelect"] {\n    display: flex;\n    align-items: center;\n}\n[data-supertokens~="phoneInputCountryValueContainer"] {\n    padding: 0;\n}\n[data-supertokens~="phoneInputCountryDropdownIndicator"] {\n    padding: 0 12px 0 6px;\n}\n[data-supertokens~="continueButtonWrapper"] {\n    margin-top: 10px;\n    margin-bottom: 30px;\n}\n';

var ThemeBase = function (_a) {
    var children = _a.children,
        userStyles = _a.userStyles,
        loadDefaultFont = _a.loadDefaultFont;
    return jsxRuntime.jsxs(React.Fragment, {
        children: [
            children,
            loadDefaultFont &&
                jsxRuntime.jsx("link", {
                    href: "//fonts.googleapis.com/css?family=Rubik:wght@300;400;600;500;700",
                    rel: "stylesheet",
                    type: "text/css",
                }),
            jsxRuntime.jsxs("style", { children: [styles, userStyles.join("\n")] }),
        ],
    });
};

var PasswordlessCloseTabScreen = function () {
    var t = translationContext.useTranslation();
    return jsxRuntime.jsx(
        "div",
        assets.__assign(
            { "data-supertokens": "container" },
            {
                children: jsxRuntime.jsxs(
                    "div",
                    assets.__assign(
                        { "data-supertokens": "row noFormRow" },
                        {
                            children: [
                                jsxRuntime.jsx(assets.CheckedRoundIcon, {}),
                                jsxRuntime.jsx(
                                    "div",
                                    assets.__assign(
                                        { "data-supertokens": "headerTitle" },
                                        { children: t("PWLESS_CLOSE_TAB_TITLE") }
                                    )
                                ),
                                jsxRuntime.jsx("div", { "data-supertokens": "divider" }),
                                jsxRuntime.jsxs(
                                    "div",
                                    assets.__assign(
                                        { "data-supertokens": "headerSubtitle secondaryText" },
                                        {
                                            children: [
                                                t("PWLESS_CLOSE_TAB_SUBTITLE_LINE1"),
                                                jsxRuntime.jsx("br", {}),
                                                t("PWLESS_CLOSE_TAB_SUBTITLE_LINE2"),
                                            ],
                                        }
                                    )
                                ),
                            ],
                        }
                    )
                ),
            }
        )
    );
};
var CloseTabScreen = querier.withOverride("PasswordlessCloseTabScreen", PasswordlessCloseTabScreen);

var SignInUpFooter = querier.withOverride("PasswordlessSignInUpFooter", function PasswordlessSignInUpFooter(_a) {
    var termsOfServiceLink = _a.termsOfServiceLink,
        privacyPolicyLink = _a.privacyPolicyLink;
    var t = translationContext.useTranslation();
    if (termsOfServiceLink === undefined && privacyPolicyLink === undefined) {
        return null;
    }
    return jsxRuntime.jsxs(
        "div",
        assets.__assign(
            { "data-supertokens": "secondaryText privacyPolicyAndTermsAndConditions" },
            {
                children: [
                    t("PWLESS_SIGN_IN_UP_FOOTER_START"),
                    termsOfServiceLink !== undefined &&
                        jsxRuntime.jsx(
                            "a",
                            assets.__assign(
                                {
                                    "data-supertokens": "link",
                                    href: termsOfServiceLink,
                                    target: "_blank",
                                    rel: "noopener noreferer",
                                },
                                { children: t("PWLESS_SIGN_IN_UP_FOOTER_TOS") }
                            )
                        ),
                    termsOfServiceLink !== undefined &&
                        privacyPolicyLink !== undefined &&
                        t("PWLESS_SIGN_IN_UP_FOOTER_AND"),
                    privacyPolicyLink !== undefined &&
                        jsxRuntime.jsx(
                            "a",
                            assets.__assign(
                                {
                                    "data-supertokens": "link",
                                    href: privacyPolicyLink,
                                    target: "_blank",
                                    rel: "noopener noreferer",
                                },
                                { children: t("PWLESS_SIGN_IN_UP_FOOTER_PP") }
                            )
                        ),
                    t("PWLESS_SIGN_IN_UP_FOOTER_END"),
                ],
            }
        )
    );
});

var EmailForm = querier.withOverride("PasswordlessEmailForm", function PasswordlessEmailForm(props) {
    var _this = this;
    var userContext = authRecipe.useUserContext();
    return jsxRuntime.jsx(formBase.FormBase, {
        clearError: props.clearError,
        onError: props.onError,
        formFields: [
            {
                id: "email",
                label: "PWLESS_SIGN_IN_UP_EMAIL_LABEL",
                optional: false,
                autofocus: true,
                placeholder: "",
                // We are using the default validator that allows any string
                validate: formBase.defaultValidate,
            },
        ],
        buttonLabel: "PWLESS_SIGN_IN_UP_CONTINUE_BUTTON",
        onSuccess: props.onSuccess,
        callAPI: function (formFields) {
            return assets.__awaiter(_this, void 0, void 0, function () {
                var email, validationRes, response;
                var _a;
                return assets.__generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            email =
                                (_a = formFields.find(function (field) {
                                    return field.id === "email";
                                })) === null || _a === void 0
                                    ? void 0
                                    : _a.value;
                            if (email === undefined) {
                                throw new querier.STGeneralError("GENERAL_ERROR_EMAIL_UNDEFINED");
                            }
                            return [4 /*yield*/, props.config.validateEmailAddress(email)];
                        case 1:
                            validationRes = _b.sent();
                            if (validationRes !== undefined) {
                                throw new querier.STGeneralError(validationRes);
                            }
                            return [
                                4 /*yield*/,
                                props.recipeImplementation.createCode({
                                    email: email,
                                    userContext: userContext,
                                }),
                            ];
                        case 2:
                            response = _b.sent();
                            return [2 /*return*/, response];
                    }
                });
            });
        },
        validateOnBlur: false,
        showLabels: true,
        footer: jsxRuntime.jsx(SignInUpFooter, {
            privacyPolicyLink: props.config.signInUpFeature.privacyPolicyLink,
            termsOfServiceLink: props.config.signInUpFeature.termsOfServiceLink,
        }),
    });
});

function _extends() {
    _extends = Object.assign
        ? Object.assign.bind()
        : function (target) {
              for (var i = 1; i < arguments.length; i++) {
                  var source = arguments[i];

                  for (var key in source) {
                      if (Object.prototype.hasOwnProperty.call(source, key)) {
                          target[key] = source[key];
                      }
                  }
              }

              return target;
          };
    return _extends.apply(this, arguments);
}

/*

Based off glamor's StyleSheet, thanks Sunil 

high performance StyleSheet for css-in-js systems

- uses multiple style tags behind the scenes for millions of rules
- uses `insertRule` for appending in production for *much* faster performance

// usage

import { StyleSheet } from '@emotion/sheet'

let styleSheet = new StyleSheet({ key: '', container: document.head })

styleSheet.insert('#box { border: 1px solid red; }')
- appends a css rule into the stylesheet

styleSheet.flush()
- empties the stylesheet of all its contents

*/
// $FlowFixMe
function sheetForTag(tag) {
    if (tag.sheet) {
        // $FlowFixMe
        return tag.sheet;
    } // this weirdness brought to you by firefox

    /* istanbul ignore next */

    for (var i = 0; i < document.styleSheets.length; i++) {
        if (document.styleSheets[i].ownerNode === tag) {
            // $FlowFixMe
            return document.styleSheets[i];
        }
    }
}

function createStyleElement(options) {
    var tag = document.createElement("style");
    tag.setAttribute("data-emotion", options.key);

    if (options.nonce !== undefined) {
        tag.setAttribute("nonce", options.nonce);
    }

    tag.appendChild(document.createTextNode(""));
    tag.setAttribute("data-s", "");
    return tag;
}

var StyleSheet = /*#__PURE__*/ (function () {
    // Using Node instead of HTMLElement since container may be a ShadowRoot
    function StyleSheet(options) {
        var _this = this;

        this._insertTag = function (tag) {
            var before;

            if (_this.tags.length === 0) {
                if (_this.insertionPoint) {
                    before = _this.insertionPoint.nextSibling;
                } else if (_this.prepend) {
                    before = _this.container.firstChild;
                } else {
                    before = _this.before;
                }
            } else {
                before = _this.tags[_this.tags.length - 1].nextSibling;
            }

            _this.container.insertBefore(tag, before);

            _this.tags.push(tag);
        };

        this.isSpeedy = options.speedy === undefined ? process.env.NODE_ENV === "production" : options.speedy;
        this.tags = [];
        this.ctr = 0;
        this.nonce = options.nonce; // key is the value of the data-emotion attribute, it's used to identify different sheets

        this.key = options.key;
        this.container = options.container;
        this.prepend = options.prepend;
        this.insertionPoint = options.insertionPoint;
        this.before = null;
    }

    var _proto = StyleSheet.prototype;

    _proto.hydrate = function hydrate(nodes) {
        nodes.forEach(this._insertTag);
    };

    _proto.insert = function insert(rule) {
        // the max length is how many rules we have per style tag, it's 65000 in speedy mode
        // it's 1 in dev because we insert source maps that map a single rule to a location
        // and you can only have one source map per style tag
        if (this.ctr % (this.isSpeedy ? 65000 : 1) === 0) {
            this._insertTag(createStyleElement(this));
        }

        var tag = this.tags[this.tags.length - 1];

        if (process.env.NODE_ENV !== "production") {
            var isImportRule = rule.charCodeAt(0) === 64 && rule.charCodeAt(1) === 105;

            if (isImportRule && this._alreadyInsertedOrderInsensitiveRule) {
                // this would only cause problem in speedy mode
                // but we don't want enabling speedy to affect the observable behavior
                // so we report this error at all times
                console.error(
                    "You're attempting to insert the following rule:\n" +
                        rule +
                        "\n\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules."
                );
            }
            this._alreadyInsertedOrderInsensitiveRule = this._alreadyInsertedOrderInsensitiveRule || !isImportRule;
        }

        if (this.isSpeedy) {
            var sheet = sheetForTag(tag);

            try {
                // this is the ultrafast version, works across browsers
                // the big drawback is that the css won't be editable in devtools
                sheet.insertRule(rule, sheet.cssRules.length);
            } catch (e) {
                if (
                    process.env.NODE_ENV !== "production" &&
                    !/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear){/.test(
                        rule
                    )
                ) {
                    console.error('There was a problem inserting the following rule: "' + rule + '"', e);
                }
            }
        } else {
            tag.appendChild(document.createTextNode(rule));
        }

        this.ctr++;
    };

    _proto.flush = function flush() {
        // $FlowFixMe
        this.tags.forEach(function (tag) {
            return tag.parentNode && tag.parentNode.removeChild(tag);
        });
        this.tags = [];
        this.ctr = 0;

        if (process.env.NODE_ENV !== "production") {
            this._alreadyInsertedOrderInsensitiveRule = false;
        }
    };

    return StyleSheet;
})();

var e = "-ms-";
var r = "-moz-";
var a = "-webkit-";
var c = "comm";
var n = "rule";
var t = "decl";
var i$1 = "@import";
var p = "@keyframes";
var k = Math.abs;
var d = String.fromCharCode;
var g = Object.assign;
function m(e, r) {
    return (((((((r << 2) ^ z(e, 0)) << 2) ^ z(e, 1)) << 2) ^ z(e, 2)) << 2) ^ z(e, 3);
}
function x(e) {
    return e.trim();
}
function y(e, r) {
    return (e = r.exec(e)) ? e[0] : e;
}
function j$1(e, r, a) {
    return e.replace(r, a);
}
function C(e, r) {
    return e.indexOf(r);
}
function z(e, r) {
    return e.charCodeAt(r) | 0;
}
function A(e, r, a) {
    return e.slice(r, a);
}
function O(e) {
    return e.length;
}
function M(e) {
    return e.length;
}
function S(e, r) {
    return r.push(e), e;
}
function q(e, r) {
    return e.map(r).join("");
}
var B = 1;
var D = 1;
var E = 0;
var F = 0;
var G = 0;
var H = "";
function I(e, r, a, c, n, t, s) {
    return { value: e, root: r, parent: a, type: c, props: n, children: t, line: B, column: D, length: s, return: "" };
}
function J(e, r) {
    return g(I("", null, null, "", null, null, 0), e, { length: -e.length }, r);
}
function K() {
    return G;
}
function L() {
    G = F > 0 ? z(H, --F) : 0;
    if ((D--, G === 10)) (D = 1), B--;
    return G;
}
function N() {
    G = F < E ? z(H, F++) : 0;
    if ((D++, G === 10)) (D = 1), B++;
    return G;
}
function P() {
    return z(H, F);
}
function Q() {
    return F;
}
function R(e, r) {
    return A(H, e, r);
}
function T(e) {
    switch (e) {
        case 0:
        case 9:
        case 10:
        case 13:
        case 32:
            return 5;
        case 33:
        case 43:
        case 44:
        case 47:
        case 62:
        case 64:
        case 126:
        case 59:
        case 123:
        case 125:
            return 4;
        case 58:
            return 3;
        case 34:
        case 39:
        case 40:
        case 91:
            return 2;
        case 41:
        case 93:
            return 1;
    }
    return 0;
}
function U(e) {
    return (B = D = 1), (E = O((H = e))), (F = 0), [];
}
function V(e) {
    return (H = ""), e;
}
function W(e) {
    return x(R(F - 1, ee(e === 91 ? e + 2 : e === 40 ? e + 1 : e)));
}
function Y(e) {
    while ((G = P()))
        if (G < 33) N();
        else break;
    return T(e) > 2 || T(G) > 3 ? "" : " ";
}
function _(e, r) {
    while (--r && N()) if (G < 48 || G > 102 || (G > 57 && G < 65) || (G > 70 && G < 97)) break;
    return R(e, Q() + (r < 6 && P() == 32 && N() == 32));
}
function ee(e) {
    while (N())
        switch (G) {
            case e:
                return F;
            case 34:
            case 39:
                if (e !== 34 && e !== 39) ee(G);
                break;
            case 40:
                if (e === 41) ee(e);
                break;
            case 92:
                N();
                break;
        }
    return F;
}
function re(e, r) {
    while (N())
        if (e + G === 47 + 10) break;
        else if (e + G === 42 + 42 && P() === 47) break;
    return "/*" + R(r, F - 1) + "*" + d(e === 47 ? e : N());
}
function ae(e) {
    while (!T(P())) N();
    return R(e, F);
}
function ce(e) {
    return V(ne("", null, null, null, [""], (e = U(e)), 0, [0], e));
}
function ne(e, r, a, c, n, t, s, u, i) {
    var f = 0;
    var o = 0;
    var l = s;
    var v = 0;
    var h = 0;
    var p = 0;
    var b = 1;
    var w = 1;
    var $ = 1;
    var k = 0;
    var g = "";
    var m = n;
    var x = t;
    var y = c;
    var z = g;
    while (w)
        switch (((p = k), (k = N()))) {
            case 40:
                if (p != 108 && z.charCodeAt(l - 1) == 58) {
                    if (C((z += j$1(W(k), "&", "&\f")), "&\f") != -1) $ = -1;
                    break;
                }
            case 34:
            case 39:
            case 91:
                z += W(k);
                break;
            case 9:
            case 10:
            case 13:
            case 32:
                z += Y(p);
                break;
            case 92:
                z += _(Q() - 1, 7);
                continue;
            case 47:
                switch (P()) {
                    case 42:
                    case 47:
                        S(se(re(N(), Q()), r, a), i);
                        break;
                    default:
                        z += "/";
                }
                break;
            case 123 * b:
                u[f++] = O(z) * $;
            case 125 * b:
            case 59:
            case 0:
                switch (k) {
                    case 0:
                    case 125:
                        w = 0;
                    case 59 + o:
                        if (h > 0 && O(z) - l)
                            S(h > 32 ? ue(z + ";", c, a, l - 1) : ue(j$1(z, " ", "") + ";", c, a, l - 2), i);
                        break;
                    case 59:
                        z += ";";
                    default:
                        S((y = te(z, r, a, f, o, n, u, g, (m = []), (x = []), l)), t);
                        if (k === 123)
                            if (o === 0) ne(z, r, y, y, m, t, l, u, x);
                            else
                                switch (v) {
                                    case 100:
                                    case 109:
                                    case 115:
                                        ne(
                                            e,
                                            y,
                                            y,
                                            c && S(te(e, y, y, 0, 0, n, u, g, n, (m = []), l), x),
                                            n,
                                            x,
                                            l,
                                            u,
                                            c ? m : x
                                        );
                                        break;
                                    default:
                                        ne(z, y, y, y, [""], x, 0, u, x);
                                }
                }
                (f = o = h = 0), (b = $ = 1), (g = z = ""), (l = s);
                break;
            case 58:
                (l = 1 + O(z)), (h = p);
            default:
                if (b < 1)
                    if (k == 123) --b;
                    else if (k == 125 && b++ == 0 && L() == 125) continue;
                switch (((z += d(k)), k * b)) {
                    case 38:
                        $ = o > 0 ? 1 : ((z += "\f"), -1);
                        break;
                    case 44:
                        (u[f++] = (O(z) - 1) * $), ($ = 1);
                        break;
                    case 64:
                        if (P() === 45) z += W(N());
                        (v = P()), (o = l = O((g = z += ae(Q())))), k++;
                        break;
                    case 45:
                        if (p === 45 && O(z) == 2) b = 0;
                }
        }
    return t;
}
function te(e, r, a, c, t, s, u, i, f, o, l) {
    var v = t - 1;
    var h = t === 0 ? s : [""];
    var p = M(h);
    for (var b = 0, w = 0, $ = 0; b < c; ++b)
        for (var d = 0, g = A(e, v + 1, (v = k((w = u[b])))), m = e; d < p; ++d)
            if ((m = x(w > 0 ? h[d] + " " + g : j$1(g, /&\f/g, h[d])))) f[$++] = m;
    return I(e, r, a, t === 0 ? n : i, f, o, l);
}
function se(e, r, a) {
    return I(e, r, a, c, d(K()), A(e, 2, -2), 0);
}
function ue(e, r, a, c) {
    return I(e, r, a, t, A(e, 0, c), A(e, c + 1, -1), c);
}
function ie(c, n) {
    switch (m(c, n)) {
        case 5103:
            return a + "print-" + c + c;
        case 5737:
        case 4201:
        case 3177:
        case 3433:
        case 1641:
        case 4457:
        case 2921:
        case 5572:
        case 6356:
        case 5844:
        case 3191:
        case 6645:
        case 3005:
        case 6391:
        case 5879:
        case 5623:
        case 6135:
        case 4599:
        case 4855:
        case 4215:
        case 6389:
        case 5109:
        case 5365:
        case 5621:
        case 3829:
            return a + c + c;
        case 5349:
        case 4246:
        case 4810:
        case 6968:
        case 2756:
            return a + c + r + c + e + c + c;
        case 6828:
        case 4268:
            return a + c + e + c + c;
        case 6165:
            return a + c + e + "flex-" + c + c;
        case 5187:
            return a + c + j$1(c, /(\w+).+(:[^]+)/, a + "box-$1$2" + e + "flex-$1$2") + c;
        case 5443:
            return a + c + e + "flex-item-" + j$1(c, /flex-|-self/, "") + c;
        case 4675:
            return a + c + e + "flex-line-pack" + j$1(c, /align-content|flex-|-self/, "") + c;
        case 5548:
            return a + c + e + j$1(c, "shrink", "negative") + c;
        case 5292:
            return a + c + e + j$1(c, "basis", "preferred-size") + c;
        case 6060:
            return a + "box-" + j$1(c, "-grow", "") + a + c + e + j$1(c, "grow", "positive") + c;
        case 4554:
            return a + j$1(c, /([^-])(transform)/g, "$1" + a + "$2") + c;
        case 6187:
            return j$1(j$1(j$1(c, /(zoom-|grab)/, a + "$1"), /(image-set)/, a + "$1"), c, "") + c;
        case 5495:
        case 3959:
            return j$1(c, /(image-set\([^]*)/, a + "$1" + "$`$1");
        case 4968:
            return (
                j$1(j$1(c, /(.+:)(flex-)?(.*)/, a + "box-pack:$3" + e + "flex-pack:$3"), /s.+-b[^;]+/, "justify") +
                a +
                c +
                c
            );
        case 4095:
        case 3583:
        case 4068:
        case 2532:
            return j$1(c, /(.+)-inline(.+)/, a + "$1$2") + c;
        case 8116:
        case 7059:
        case 5753:
        case 5535:
        case 5445:
        case 5701:
        case 4933:
        case 4677:
        case 5533:
        case 5789:
        case 5021:
        case 4765:
            if (O(c) - 1 - n > 6)
                switch (z(c, n + 1)) {
                    case 109:
                        if (z(c, n + 4) !== 45) break;
                    case 102:
                        return (
                            j$1(
                                c,
                                /(.+:)(.+)-([^]+)/,
                                "$1" + a + "$2-$3" + "$1" + r + (z(c, n + 3) == 108 ? "$3" : "$2-$3")
                            ) + c
                        );
                    case 115:
                        return ~C(c, "stretch") ? ie(j$1(c, "stretch", "fill-available"), n) + c : c;
                }
            break;
        case 4949:
            if (z(c, n + 1) !== 115) break;
        case 6444:
            switch (z(c, O(c) - 3 - (~C(c, "!important") && 10))) {
                case 107:
                    return j$1(c, ":", ":" + a) + c;
                case 101:
                    return (
                        j$1(
                            c,
                            /(.+:)([^;!]+)(;|!.+)?/,
                            "$1" +
                                a +
                                (z(c, 14) === 45 ? "inline-" : "") +
                                "box$3" +
                                "$1" +
                                a +
                                "$2$3" +
                                "$1" +
                                e +
                                "$2box$3"
                        ) + c
                    );
            }
            break;
        case 5936:
            switch (z(c, n + 11)) {
                case 114:
                    return a + c + e + j$1(c, /[svh]\w+-[tblr]{2}/, "tb") + c;
                case 108:
                    return a + c + e + j$1(c, /[svh]\w+-[tblr]{2}/, "tb-rl") + c;
                case 45:
                    return a + c + e + j$1(c, /[svh]\w+-[tblr]{2}/, "lr") + c;
            }
            return a + c + e + c + c;
    }
    return c;
}
function fe(e, r) {
    var a = "";
    var c = M(e);
    for (var n = 0; n < c; n++) a += r(e[n], n, e, r) || "";
    return a;
}
function oe(e, r, a, s) {
    switch (e.type) {
        case i$1:
        case t:
            return (e.return = e.return || e.value);
        case c:
            return "";
        case p:
            return (e.return = e.value + "{" + fe(e.children, s) + "}");
        case n:
            e.value = e.props.join(",");
    }
    return O((a = fe(e.children, s))) ? (e.return = e.value + "{" + a + "}") : "";
}
function le(e) {
    var r = M(e);
    return function (a, c, n, t) {
        var s = "";
        for (var u = 0; u < r; u++) s += e[u](a, c, n, t) || "";
        return s;
    };
}
function ve(e) {
    return function (r) {
        if (!r.root) if ((r = r.return)) e(r);
    };
}
function he(c, s, u, i) {
    if (c.length > -1)
        if (!c.return)
            switch (c.type) {
                case t:
                    c.return = ie(c.value, c.length);
                    break;
                case p:
                    return fe([J(c, { value: j$1(c.value, "@", "@" + a) })], i);
                case n:
                    if (c.length)
                        return q(c.props, function (n) {
                            switch (y(n, /(::plac\w+|:read-\w+)/)) {
                                case ":read-only":
                                case ":read-write":
                                    return fe([J(c, { props: [j$1(n, /:(read-\w+)/, ":" + r + "$1")] })], i);
                                case "::placeholder":
                                    return fe(
                                        [
                                            J(c, { props: [j$1(n, /:(plac\w+)/, ":" + a + "input-$1")] }),
                                            J(c, { props: [j$1(n, /:(plac\w+)/, ":" + r + "$1")] }),
                                            J(c, { props: [j$1(n, /:(plac\w+)/, e + "input-$1")] }),
                                        ],
                                        i
                                    );
                            }
                            return "";
                        });
            }
}

var weakMemoize = function weakMemoize(func) {
    // $FlowFixMe flow doesn't include all non-primitive types as allowed for weakmaps
    var cache = new WeakMap();
    return function (arg) {
        if (cache.has(arg)) {
            // $FlowFixMe
            return cache.get(arg);
        }

        var ret = func(arg);
        cache.set(arg, ret);
        return ret;
    };
};

function memoize(fn) {
    var cache = Object.create(null);
    return function (arg) {
        if (cache[arg] === undefined) cache[arg] = fn(arg);
        return cache[arg];
    };
}

var identifierWithPointTracking = function identifierWithPointTracking(begin, points, index) {
    var previous = 0;
    var character = 0;

    while (true) {
        previous = character;
        character = P(); // &\f

        if (previous === 38 && character === 12) {
            points[index] = 1;
        }

        if (T(character)) {
            break;
        }

        N();
    }

    return R(begin, F);
};

var toRules = function toRules(parsed, points) {
    // pretend we've started with a comma
    var index = -1;
    var character = 44;

    do {
        switch (T(character)) {
            case 0:
                // &\f
                if (character === 38 && P() === 12) {
                    // this is not 100% correct, we don't account for literal sequences here - like for example quoted strings
                    // stylis inserts \f after & to know when & where it should replace this sequence with the context selector
                    // and when it should just concatenate the outer and inner selectors
                    // it's very unlikely for this sequence to actually appear in a different context, so we just leverage this fact here
                    points[index] = 1;
                }

                parsed[index] += identifierWithPointTracking(F - 1, points, index);
                break;

            case 2:
                parsed[index] += W(character);
                break;

            case 4:
                // comma
                if (character === 44) {
                    // colon
                    parsed[++index] = P() === 58 ? "&\f" : "";
                    points[index] = parsed[index].length;
                    break;
                }

            // fallthrough

            default:
                parsed[index] += d(character);
        }
    } while ((character = N()));

    return parsed;
};

var getRules = function getRules(value, points) {
    return V(toRules(U(value), points));
}; // WeakSet would be more appropriate, but only WeakMap is supported in IE11

var fixedElements = /* #__PURE__ */ new WeakMap();
var compat = function compat(element) {
    if (
        element.type !== "rule" ||
        !element.parent || // positive .length indicates that this rule contains pseudo
        // negative .length indicates that this rule has been already prefixed
        element.length < 1
    ) {
        return;
    }

    var value = element.value,
        parent = element.parent;
    var isImplicitRule = element.column === parent.column && element.line === parent.line;

    while (parent.type !== "rule") {
        parent = parent.parent;
        if (!parent) return;
    } // short-circuit for the simplest case

    if (
        element.props.length === 1 &&
        value.charCodeAt(0) !== 58 &&
        /* colon */
        !fixedElements.get(parent)
    ) {
        return;
    } // if this is an implicitly inserted rule (the one eagerly inserted at the each new nested level)
    // then the props has already been manipulated beforehand as they that array is shared between it and its "rule parent"

    if (isImplicitRule) {
        return;
    }

    fixedElements.set(element, true);
    var points = [];
    var rules = getRules(value, points);
    var parentRules = parent.props;

    for (var i = 0, k = 0; i < rules.length; i++) {
        for (var j = 0; j < parentRules.length; j++, k++) {
            element.props[k] = points[i] ? rules[i].replace(/&\f/g, parentRules[j]) : parentRules[j] + " " + rules[i];
        }
    }
};
var removeLabel = function removeLabel(element) {
    if (element.type === "decl") {
        var value = element.value;

        if (
            // charcode for l
            value.charCodeAt(0) === 108 && // charcode for b
            value.charCodeAt(2) === 98
        ) {
            // this ignores label
            element["return"] = "";
            element.value = "";
        }
    }
};
var ignoreFlag =
    "emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason";

var isIgnoringComment = function isIgnoringComment(element) {
    return element.type === "comm" && element.children.indexOf(ignoreFlag) > -1;
};

var createUnsafeSelectorsAlarm = function createUnsafeSelectorsAlarm(cache) {
    return function (element, index, children) {
        if (element.type !== "rule" || cache.compat) return;
        var unsafePseudoClasses = element.value.match(/(:first|:nth|:nth-last)-child/g);

        if (unsafePseudoClasses) {
            var isNested = element.parent === children[0]; // in nested rules comments become children of the "auto-inserted" rule
            //
            // considering this input:
            // .a {
            //   .b /* comm */ {}
            //   color: hotpink;
            // }
            // we get output corresponding to this:
            // .a {
            //   & {
            //     /* comm */
            //     color: hotpink;
            //   }
            //   .b {}
            // }

            var commentContainer = isNested
                ? children[0].children // global rule at the root level
                : children;

            for (var i = commentContainer.length - 1; i >= 0; i--) {
                var node = commentContainer[i];

                if (node.line < element.line) {
                    break;
                } // it is quite weird but comments are *usually* put at `column: element.column - 1`
                // so we seek *from the end* for the node that is earlier than the rule's `element` and check that
                // this will also match inputs like this:
                // .a {
                //   /* comm */
                //   .b {}
                // }
                //
                // but that is fine
                //
                // it would be the easiest to change the placement of the comment to be the first child of the rule:
                // .a {
                //   .b { /* comm */ }
                // }
                // with such inputs we wouldn't have to search for the comment at all
                // TODO: consider changing this comment placement in the next major version

                if (node.column < element.column) {
                    if (isIgnoringComment(node)) {
                        return;
                    }

                    break;
                }
            }

            unsafePseudoClasses.forEach(function (unsafePseudoClass) {
                console.error(
                    'The pseudo class "' +
                        unsafePseudoClass +
                        '" is potentially unsafe when doing server-side rendering. Try changing it to "' +
                        unsafePseudoClass.split("-child")[0] +
                        '-of-type".'
                );
            });
        }
    };
};

var isImportRule = function isImportRule(element) {
    return element.type.charCodeAt(1) === 105 && element.type.charCodeAt(0) === 64;
};

var isPrependedWithRegularRules = function isPrependedWithRegularRules(index, children) {
    for (var i = index - 1; i >= 0; i--) {
        if (!isImportRule(children[i])) {
            return true;
        }
    }

    return false;
}; // use this to remove incorrect elements from further processing
// so they don't get handed to the `sheet` (or anything else)
// as that could potentially lead to additional logs which in turn could be overhelming to the user

var nullifyElement = function nullifyElement(element) {
    element.type = "";
    element.value = "";
    element["return"] = "";
    element.children = "";
    element.props = "";
};

var incorrectImportAlarm = function incorrectImportAlarm(element, index, children) {
    if (!isImportRule(element)) {
        return;
    }

    if (element.parent) {
        console.error(
            "`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles."
        );
        nullifyElement(element);
    } else if (isPrependedWithRegularRules(index, children)) {
        console.error(
            "`@import` rules can't be after other rules. Please put your `@import` rules before your other rules."
        );
        nullifyElement(element);
    }
};

var isBrowser$4 = typeof document !== "undefined";
var getServerStylisCache = isBrowser$4
    ? undefined
    : weakMemoize(function () {
          return memoize(function () {
              var cache = {};
              return function (name) {
                  return cache[name];
              };
          });
      });
var defaultStylisPlugins = [he];

var createCache = function createCache(options) {
    var key = options.key;

    if (process.env.NODE_ENV !== "production" && !key) {
        throw new Error(
            "You have to configure `key` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.\n" +
                'If multiple caches share the same key they might "fight" for each other\'s style elements.'
        );
    }

    if (isBrowser$4 && key === "css") {
        var ssrStyles = document.querySelectorAll("style[data-emotion]:not([data-s])"); // get SSRed styles out of the way of React's hydration
        // document.head is a safe place to move them to(though note document.head is not necessarily the last place they will be)
        // note this very very intentionally targets all style elements regardless of the key to ensure
        // that creating a cache works inside of render of a React component

        Array.prototype.forEach.call(ssrStyles, function (node) {
            // we want to only move elements which have a space in the data-emotion attribute value
            // because that indicates that it is an Emotion 11 server-side rendered style elements
            // while we will already ignore Emotion 11 client-side inserted styles because of the :not([data-s]) part in the selector
            // Emotion 10 client-side inserted styles did not have data-s (but importantly did not have a space in their data-emotion attributes)
            // so checking for the space ensures that loading Emotion 11 after Emotion 10 has inserted some styles
            // will not result in the Emotion 10 styles being destroyed
            var dataEmotionAttribute = node.getAttribute("data-emotion");

            if (dataEmotionAttribute.indexOf(" ") === -1) {
                return;
            }
            document.head.appendChild(node);
            node.setAttribute("data-s", "");
        });
    }

    var stylisPlugins = options.stylisPlugins || defaultStylisPlugins;

    if (process.env.NODE_ENV !== "production") {
        // $FlowFixMe
        if (/[^a-z-]/.test(key)) {
            throw new Error(
                'Emotion key must only contain lower case alphabetical characters and - but "' + key + '" was passed'
            );
        }
    }

    var inserted = {};
    var container;
    var nodesToHydrate = [];

    if (isBrowser$4) {
        container = options.container || document.head;
        Array.prototype.forEach.call(
            // this means we will ignore elements which don't have a space in them which
            // means that the style elements we're looking at are only Emotion 11 server-rendered style elements
            document.querySelectorAll('style[data-emotion^="' + key + ' "]'),
            function (node) {
                var attrib = node.getAttribute("data-emotion").split(" "); // $FlowFixMe

                for (var i = 1; i < attrib.length; i++) {
                    inserted[attrib[i]] = true;
                }

                nodesToHydrate.push(node);
            }
        );
    }

    var _insert;

    var omnipresentPlugins = [compat, removeLabel];

    if (process.env.NODE_ENV !== "production") {
        omnipresentPlugins.push(
            createUnsafeSelectorsAlarm({
                get compat() {
                    return cache.compat;
                },
            }),
            incorrectImportAlarm
        );
    }

    if (isBrowser$4) {
        var currentSheet;
        var finalizingPlugins = [
            oe,
            process.env.NODE_ENV !== "production"
                ? function (element) {
                      if (!element.root) {
                          if (element["return"]) {
                              currentSheet.insert(element["return"]);
                          } else if (element.value && element.type !== c) {
                              // insert empty rule in non-production environments
                              // so @emotion/jest can grab `key` from the (JS)DOM for caches without any rules inserted yet
                              currentSheet.insert(element.value + "{}");
                          }
                      }
                  }
                : ve(function (rule) {
                      currentSheet.insert(rule);
                  }),
        ];
        var serializer = le(omnipresentPlugins.concat(stylisPlugins, finalizingPlugins));

        var stylis = function stylis(styles) {
            return fe(ce(styles), serializer);
        };

        _insert = function insert(selector, serialized, sheet, shouldCache) {
            currentSheet = sheet;

            if (process.env.NODE_ENV !== "production" && serialized.map !== undefined) {
                currentSheet = {
                    insert: function insert(rule) {
                        sheet.insert(rule + serialized.map);
                    },
                };
            }

            stylis(selector ? selector + "{" + serialized.styles + "}" : serialized.styles);

            if (shouldCache) {
                cache.inserted[serialized.name] = true;
            }
        };
    } else {
        var _finalizingPlugins = [oe];

        var _serializer = le(omnipresentPlugins.concat(stylisPlugins, _finalizingPlugins));

        var _stylis = function _stylis(styles) {
            return fe(ce(styles), _serializer);
        }; // $FlowFixMe

        var serverStylisCache = getServerStylisCache(stylisPlugins)(key);

        var getRules = function getRules(selector, serialized) {
            var name = serialized.name;

            if (serverStylisCache[name] === undefined) {
                serverStylisCache[name] = _stylis(
                    selector ? selector + "{" + serialized.styles + "}" : serialized.styles
                );
            }

            return serverStylisCache[name];
        };

        _insert = function _insert(selector, serialized, sheet, shouldCache) {
            var name = serialized.name;
            var rules = getRules(selector, serialized);

            if (cache.compat === undefined) {
                // in regular mode, we don't set the styles on the inserted cache
                // since we don't need to and that would be wasting memory
                // we return them so that they are rendered in a style tag
                if (shouldCache) {
                    cache.inserted[name] = true;
                }

                if (
                    // using === development instead of !== production
                    // because if people do ssr in tests, the source maps showing up would be annoying
                    process.env.NODE_ENV === "development" &&
                    serialized.map !== undefined
                ) {
                    return rules + serialized.map;
                }

                return rules;
            } else {
                // in compat mode, we put the styles on the inserted cache so
                // that emotion-server can pull out the styles
                // except when we don't want to cache it which was in Global but now
                // is nowhere but we don't want to do a major right now
                // and just in case we're going to leave the case here
                // it's also not affecting client side bundle size
                // so it's really not a big deal
                if (shouldCache) {
                    cache.inserted[name] = rules;
                } else {
                    return rules;
                }
            }
        };
    }

    var cache = {
        key: key,
        sheet: new StyleSheet({
            key: key,
            container: container,
            nonce: options.nonce,
            speedy: options.speedy,
            prepend: options.prepend,
            insertionPoint: options.insertionPoint,
        }),
        nonce: options.nonce,
        inserted: inserted,
        registered: {},
        insert: _insert,
    };
    cache.sheet.hydrate(nodesToHydrate);
    return cache;
};

var FORWARD_REF_STATICS = {
    $$typeof: true,
    render: true,
    defaultProps: true,
    displayName: true,
    propTypes: true,
};
var MEMO_STATICS = {
    $$typeof: true,
    compare: true,
    defaultProps: true,
    displayName: true,
    propTypes: true,
    type: true,
};
var TYPE_STATICS = {};
TYPE_STATICS[querier.reactIs.ForwardRef] = FORWARD_REF_STATICS;
TYPE_STATICS[querier.reactIs.Memo] = MEMO_STATICS;

var isBrowser$3 = typeof document !== "undefined";
function getRegisteredStyles(registered, registeredStyles, classNames) {
    var rawClassName = "";
    classNames.split(" ").forEach(function (className) {
        if (registered[className] !== undefined) {
            registeredStyles.push(registered[className] + ";");
        } else {
            rawClassName += className + " ";
        }
    });
    return rawClassName;
}
var registerStyles = function registerStyles(cache, serialized, isStringTag) {
    var className = cache.key + "-" + serialized.name;

    if (
        // we only need to add the styles to the registered cache if the
        // class name could be used further down
        // the tree but if it's a string tag, we know it won't
        // so we don't have to add it to registered cache.
        // this improves memory usage since we can avoid storing the whole style string
        (isStringTag === false || // we need to always store it if we're in compat mode and
            // in node since emotion-server relies on whether a style is in
            // the registered cache to know whether a style is global or not
            // also, note that this check will be dead code eliminated in the browser
            (isBrowser$3 === false && cache.compat !== undefined)) &&
        cache.registered[className] === undefined
    ) {
        cache.registered[className] = serialized.styles;
    }
};
var insertStyles = function insertStyles(cache, serialized, isStringTag) {
    registerStyles(cache, serialized, isStringTag);
    var className = cache.key + "-" + serialized.name;

    if (cache.inserted[serialized.name] === undefined) {
        var stylesForSSR = "";
        var current = serialized;

        do {
            var maybeStyles = cache.insert(serialized === current ? "." + className : "", current, cache.sheet, true);

            if (!isBrowser$3 && maybeStyles !== undefined) {
                stylesForSSR += maybeStyles;
            }

            current = current.next;
        } while (current !== undefined);

        if (!isBrowser$3 && stylesForSSR.length !== 0) {
            return stylesForSSR;
        }
    }
};

/* eslint-disable */
// Inspired by https://github.com/garycourt/murmurhash-js
// Ported from https://github.com/aappleby/smhasher/blob/61a0530f28277f2e850bfc39600ce61d02b518de/src/MurmurHash2.cpp#L37-L86
function murmur2(str) {
    // 'm' and 'r' are mixing constants generated offline.
    // They're not really 'magic', they just happen to work well.
    // const m = 0x5bd1e995;
    // const r = 24;
    // Initialize the hash
    var h = 0; // Mix 4 bytes at a time into the hash

    var k,
        i = 0,
        len = str.length;

    for (; len >= 4; ++i, len -= 4) {
        k =
            (str.charCodeAt(i) & 0xff) |
            ((str.charCodeAt(++i) & 0xff) << 8) |
            ((str.charCodeAt(++i) & 0xff) << 16) |
            ((str.charCodeAt(++i) & 0xff) << 24);
        k =
            /* Math.imul(k, m): */
            (k & 0xffff) * 0x5bd1e995 + (((k >>> 16) * 0xe995) << 16);
        k ^=
            /* k >>> r: */
            k >>> 24;
        h =
            /* Math.imul(k, m): */
            ((k & 0xffff) * 0x5bd1e995 + (((k >>> 16) * 0xe995) << 16)) ^
            /* Math.imul(h, m): */
            ((h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0xe995) << 16));
    } // Handle the last few bytes of the input array

    switch (len) {
        case 3:
            h ^= (str.charCodeAt(i + 2) & 0xff) << 16;

        case 2:
            h ^= (str.charCodeAt(i + 1) & 0xff) << 8;

        case 1:
            h ^= str.charCodeAt(i) & 0xff;
            h =
                /* Math.imul(h, m): */
                (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0xe995) << 16);
    } // Do a few final mixes of the hash to ensure the last few
    // bytes are well-incorporated.

    h ^= h >>> 13;
    h =
        /* Math.imul(h, m): */
        (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0xe995) << 16);
    return ((h ^ (h >>> 15)) >>> 0).toString(36);
}

var unitlessKeys = {
    animationIterationCount: 1,
    borderImageOutset: 1,
    borderImageSlice: 1,
    borderImageWidth: 1,
    boxFlex: 1,
    boxFlexGroup: 1,
    boxOrdinalGroup: 1,
    columnCount: 1,
    columns: 1,
    flex: 1,
    flexGrow: 1,
    flexPositive: 1,
    flexShrink: 1,
    flexNegative: 1,
    flexOrder: 1,
    gridRow: 1,
    gridRowEnd: 1,
    gridRowSpan: 1,
    gridRowStart: 1,
    gridColumn: 1,
    gridColumnEnd: 1,
    gridColumnSpan: 1,
    gridColumnStart: 1,
    msGridRow: 1,
    msGridRowSpan: 1,
    msGridColumn: 1,
    msGridColumnSpan: 1,
    fontWeight: 1,
    lineHeight: 1,
    opacity: 1,
    order: 1,
    orphans: 1,
    tabSize: 1,
    widows: 1,
    zIndex: 1,
    zoom: 1,
    WebkitLineClamp: 1,
    // SVG-related properties
    fillOpacity: 1,
    floodOpacity: 1,
    stopOpacity: 1,
    strokeDasharray: 1,
    strokeDashoffset: 1,
    strokeMiterlimit: 1,
    strokeOpacity: 1,
    strokeWidth: 1,
};

var ILLEGAL_ESCAPE_SEQUENCE_ERROR =
    "You have illegal escape sequence in your template literal, most likely inside content's property value.\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \"content: '\\00d7';\" should become \"content: '\\\\00d7';\".\nYou can read more about this here:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences";
var UNDEFINED_AS_OBJECT_KEY_ERROR =
    "You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).";
var hyphenateRegex = /[A-Z]|^ms/g;
var animationRegex = /_EMO_([^_]+?)_([^]*?)_EMO_/g;

var isCustomProperty = function isCustomProperty(property) {
    return property.charCodeAt(1) === 45;
};

var isProcessableValue = function isProcessableValue(value) {
    return value != null && typeof value !== "boolean";
};

var processStyleName = /* #__PURE__ */ memoize(function (styleName) {
    return isCustomProperty(styleName) ? styleName : styleName.replace(hyphenateRegex, "-$&").toLowerCase();
});

var processStyleValue = function processStyleValue(key, value) {
    switch (key) {
        case "animation":
        case "animationName": {
            if (typeof value === "string") {
                return value.replace(animationRegex, function (match, p1, p2) {
                    cursor = {
                        name: p1,
                        styles: p2,
                        next: cursor,
                    };
                    return p1;
                });
            }
        }
    }

    if (unitlessKeys[key] !== 1 && !isCustomProperty(key) && typeof value === "number" && value !== 0) {
        return value + "px";
    }

    return value;
};

if (process.env.NODE_ENV !== "production") {
    var contentValuePattern =
        /(var|attr|counters?|url|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/;
    var contentValues = ["normal", "none", "initial", "inherit", "unset"];
    var oldProcessStyleValue = processStyleValue;
    var msPattern = /^-ms-/;
    var hyphenPattern = /-(.)/g;
    var hyphenatedCache = {};

    processStyleValue = function processStyleValue(key, value) {
        if (key === "content") {
            if (
                typeof value !== "string" ||
                (contentValues.indexOf(value) === -1 &&
                    !contentValuePattern.test(value) &&
                    (value.charAt(0) !== value.charAt(value.length - 1) ||
                        (value.charAt(0) !== '"' && value.charAt(0) !== "'")))
            ) {
                throw new Error(
                    "You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"" +
                        value +
                        "\"'`"
                );
            }
        }

        var processed = oldProcessStyleValue(key, value);

        if (
            processed !== "" &&
            !isCustomProperty(key) &&
            key.indexOf("-") !== -1 &&
            hyphenatedCache[key] === undefined
        ) {
            hyphenatedCache[key] = true;
            console.error(
                "Using kebab-case for css properties in objects is not supported. Did you mean " +
                    key.replace(msPattern, "ms-").replace(hyphenPattern, function (str, _char) {
                        return _char.toUpperCase();
                    }) +
                    "?"
            );
        }

        return processed;
    };
}

var noComponentSelectorMessage =
    "Component selectors can only be used in conjunction with " +
    "@emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware " +
    "compiler transform.";

function handleInterpolation(mergedProps, registered, interpolation) {
    if (interpolation == null) {
        return "";
    }

    if (interpolation.__emotion_styles !== undefined) {
        if (process.env.NODE_ENV !== "production" && interpolation.toString() === "NO_COMPONENT_SELECTOR") {
            throw new Error(noComponentSelectorMessage);
        }

        return interpolation;
    }

    switch (typeof interpolation) {
        case "boolean": {
            return "";
        }

        case "object": {
            if (interpolation.anim === 1) {
                cursor = {
                    name: interpolation.name,
                    styles: interpolation.styles,
                    next: cursor,
                };
                return interpolation.name;
            }

            if (interpolation.styles !== undefined) {
                var next = interpolation.next;

                if (next !== undefined) {
                    // not the most efficient thing ever but this is a pretty rare case
                    // and there will be very few iterations of this generally
                    while (next !== undefined) {
                        cursor = {
                            name: next.name,
                            styles: next.styles,
                            next: cursor,
                        };
                        next = next.next;
                    }
                }

                var styles = interpolation.styles + ";";

                if (process.env.NODE_ENV !== "production" && interpolation.map !== undefined) {
                    styles += interpolation.map;
                }

                return styles;
            }

            return createStringFromObject(mergedProps, registered, interpolation);
        }

        case "function": {
            if (mergedProps !== undefined) {
                var previousCursor = cursor;
                var result = interpolation(mergedProps);
                cursor = previousCursor;
                return handleInterpolation(mergedProps, registered, result);
            } else if (process.env.NODE_ENV !== "production") {
                console.error(
                    "Functions that are interpolated in css calls will be stringified.\n" +
                        "If you want to have a css call based on props, create a function that returns a css call like this\n" +
                        "let dynamicStyle = (props) => css`color: ${props.color}`\n" +
                        "It can be called directly with props or interpolated in a styled call like this\n" +
                        "let SomeComponent = styled('div')`${dynamicStyle}`"
                );
            }

            break;
        }

        case "string":
            if (process.env.NODE_ENV !== "production") {
                var matched = [];
                var replaced = interpolation.replace(animationRegex, function (match, p1, p2) {
                    var fakeVarName = "animation" + matched.length;
                    matched.push(
                        "const " + fakeVarName + " = keyframes`" + p2.replace(/^@keyframes animation-\w+/, "") + "`"
                    );
                    return "${" + fakeVarName + "}";
                });

                if (matched.length) {
                    console.error(
                        "`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\n" +
                            "Instead of doing this:\n\n" +
                            [].concat(matched, ["`" + replaced + "`"]).join("\n") +
                            "\n\nYou should wrap it with `css` like this:\n\n" +
                            ("css`" + replaced + "`")
                    );
                }
            }

            break;
    } // finalize string values (regular strings and functions interpolated into css calls)

    if (registered == null) {
        return interpolation;
    }

    var cached = registered[interpolation];
    return cached !== undefined ? cached : interpolation;
}

function createStringFromObject(mergedProps, registered, obj) {
    var string = "";

    if (Array.isArray(obj)) {
        for (var i = 0; i < obj.length; i++) {
            string += handleInterpolation(mergedProps, registered, obj[i]) + ";";
        }
    } else {
        for (var _key in obj) {
            var value = obj[_key];

            if (typeof value !== "object") {
                if (registered != null && registered[value] !== undefined) {
                    string += _key + "{" + registered[value] + "}";
                } else if (isProcessableValue(value)) {
                    string += processStyleName(_key) + ":" + processStyleValue(_key, value) + ";";
                }
            } else {
                if (_key === "NO_COMPONENT_SELECTOR" && process.env.NODE_ENV !== "production") {
                    throw new Error(noComponentSelectorMessage);
                }

                if (
                    Array.isArray(value) &&
                    typeof value[0] === "string" &&
                    (registered == null || registered[value[0]] === undefined)
                ) {
                    for (var _i = 0; _i < value.length; _i++) {
                        if (isProcessableValue(value[_i])) {
                            string += processStyleName(_key) + ":" + processStyleValue(_key, value[_i]) + ";";
                        }
                    }
                } else {
                    var interpolated = handleInterpolation(mergedProps, registered, value);

                    switch (_key) {
                        case "animation":
                        case "animationName": {
                            string += processStyleName(_key) + ":" + interpolated + ";";
                            break;
                        }

                        default: {
                            if (process.env.NODE_ENV !== "production" && _key === "undefined") {
                                console.error(UNDEFINED_AS_OBJECT_KEY_ERROR);
                            }

                            string += _key + "{" + interpolated + "}";
                        }
                    }
                }
            }
        }
    }

    return string;
}

var labelPattern = /label:\s*([^\s;\n{]+)\s*(;|$)/g;
var sourceMapPattern;

if (process.env.NODE_ENV !== "production") {
    sourceMapPattern = /\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//g;
} // this is the cursor for keyframes
// keyframes are stored on the SerializedStyles object as a linked list

var cursor;
var serializeStyles = function serializeStyles(args, registered, mergedProps) {
    if (args.length === 1 && typeof args[0] === "object" && args[0] !== null && args[0].styles !== undefined) {
        return args[0];
    }

    var stringMode = true;
    var styles = "";
    cursor = undefined;
    var strings = args[0];

    if (strings == null || strings.raw === undefined) {
        stringMode = false;
        styles += handleInterpolation(mergedProps, registered, strings);
    } else {
        if (process.env.NODE_ENV !== "production" && strings[0] === undefined) {
            console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);
        }

        styles += strings[0];
    } // we start at 1 since we've already handled the first arg

    for (var i = 1; i < args.length; i++) {
        styles += handleInterpolation(mergedProps, registered, args[i]);

        if (stringMode) {
            if (process.env.NODE_ENV !== "production" && strings[i] === undefined) {
                console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);
            }

            styles += strings[i];
        }
    }

    var sourceMap;

    if (process.env.NODE_ENV !== "production") {
        styles = styles.replace(sourceMapPattern, function (match) {
            sourceMap = match;
            return "";
        });
    } // using a global regex with .exec is stateful so lastIndex has to be reset each time

    labelPattern.lastIndex = 0;
    var identifierName = "";
    var match; // https://esbench.com/bench/5b809c2cf2949800a0f61fb5

    while ((match = labelPattern.exec(styles)) !== null) {
        identifierName +=
            "-" + // $FlowFixMe we know it's not null
            match[1];
    }

    var name = murmur2(styles) + identifierName;

    if (process.env.NODE_ENV !== "production") {
        // $FlowFixMe SerializedStyles type doesn't have toString property (and we don't want to add it)
        return {
            name: name,
            styles: styles,
            map: sourceMap,
            next: cursor,
            toString: function toString() {
                return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
            },
        };
    }

    return {
        name: name,
        styles: styles,
        next: cursor,
    };
};

var isBrowser$2 = typeof document !== "undefined";

var syncFallback = function syncFallback(create) {
    return create();
};

var useInsertionEffect = React__namespace["useInsertion" + "Effect"]
    ? React__namespace["useInsertion" + "Effect"]
    : false;
var useInsertionEffectAlwaysWithSyncFallback = !isBrowser$2 ? syncFallback : useInsertionEffect || syncFallback;
var useInsertionEffectWithLayoutFallback = useInsertionEffect || React.useLayoutEffect;

var isBrowser$1 = typeof document !== "undefined";
var hasOwnProperty = {}.hasOwnProperty;

var EmotionCacheContext = /* #__PURE__ */ React.createContext(
    // we're doing this to avoid preconstruct's dead code elimination in this one case
    // because this module is primarily intended for the browser and node
    // but it's also required in react native and similar environments sometimes
    // and we could have a special build just for that
    // but this is much easier and the native packages
    // might use a different theme context in the future anyway
    typeof HTMLElement !== "undefined"
        ? /* #__PURE__ */ createCache({
              key: "css",
          })
        : null
);

if (process.env.NODE_ENV !== "production") {
    EmotionCacheContext.displayName = "EmotionCacheContext";
}

EmotionCacheContext.Provider;

var withEmotionCache = function withEmotionCache(func) {
    // $FlowFixMe
    return /*#__PURE__*/ React.forwardRef(function (props, ref) {
        // the cache will never be null in the browser
        var cache = React.useContext(EmotionCacheContext);
        return func(props, cache, ref);
    });
};

if (!isBrowser$1) {
    withEmotionCache = function withEmotionCache(func) {
        return function (props) {
            var cache = React.useContext(EmotionCacheContext);

            if (cache === null) {
                // yes, we're potentially creating this on every render
                // it doesn't actually matter though since it's only on the server
                // so there will only every be a single render
                // that could change in the future because of suspense and etc. but for now,
                // this works and i don't want to optimise for a future thing that we aren't sure about
                cache = createCache({
                    key: "css",
                });
                return /*#__PURE__*/ React.createElement(
                    EmotionCacheContext.Provider,
                    {
                        value: cache,
                    },
                    func(props, cache)
                );
            } else {
                return func(props, cache);
            }
        };
    };
}

var ThemeContext = /* #__PURE__ */ React.createContext({});

if (process.env.NODE_ENV !== "production") {
    ThemeContext.displayName = "EmotionThemeContext";
}

var getLastPart = function getLastPart(functionName) {
    // The match may be something like 'Object.createEmotionProps' or
    // 'Loader.prototype.render'
    var parts = functionName.split(".");
    return parts[parts.length - 1];
};

var getFunctionNameFromStackTraceLine = function getFunctionNameFromStackTraceLine(line) {
    // V8
    var match = /^\s+at\s+([A-Za-z0-9$.]+)\s/.exec(line);
    if (match) return getLastPart(match[1]); // Safari / Firefox

    match = /^([A-Za-z0-9$.]+)@/.exec(line);
    if (match) return getLastPart(match[1]);
    return undefined;
};

var internalReactFunctionNames = /* #__PURE__ */ new Set([
    "renderWithHooks",
    "processChild",
    "finishClassComponent",
    "renderToString",
]); // These identifiers come from error stacks, so they have to be valid JS
// identifiers, thus we only need to replace what is a valid character for JS,
// but not for CSS.

var sanitizeIdentifier = function sanitizeIdentifier(identifier) {
    return identifier.replace(/\$/g, "-");
};

var getLabelFromStackTrace = function getLabelFromStackTrace(stackTrace) {
    if (!stackTrace) return undefined;
    var lines = stackTrace.split("\n");

    for (var i = 0; i < lines.length; i++) {
        var functionName = getFunctionNameFromStackTraceLine(lines[i]); // The first line of V8 stack traces is just "Error"

        if (!functionName) continue; // If we reach one of these, we have gone too far and should quit

        if (internalReactFunctionNames.has(functionName)) break; // The component name is the first function in the stack that starts with an
        // uppercase letter

        if (/^[A-Z]/.test(functionName)) return sanitizeIdentifier(functionName);
    }

    return undefined;
};

var typePropName = "__EMOTION_TYPE_PLEASE_DO_NOT_USE__";
var labelPropName = "__EMOTION_LABEL_PLEASE_DO_NOT_USE__";
var createEmotionProps = function createEmotionProps(type, props) {
    if (
        process.env.NODE_ENV !== "production" &&
        typeof props.css === "string" && // check if there is a css declaration
        props.css.indexOf(":") !== -1
    ) {
        throw new Error(
            "Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/react' like this: css`" +
                props.css +
                "`"
        );
    }

    var newProps = {};

    for (var key in props) {
        if (hasOwnProperty.call(props, key)) {
            newProps[key] = props[key];
        }
    }

    newProps[typePropName] = type; // For performance, only call getLabelFromStackTrace in development and when
    // the label hasn't already been computed

    if (
        process.env.NODE_ENV !== "production" &&
        !!props.css &&
        (typeof props.css !== "object" || typeof props.css.name !== "string" || props.css.name.indexOf("-") === -1)
    ) {
        var label = getLabelFromStackTrace(new Error().stack);
        if (label) newProps[labelPropName] = label;
    }

    return newProps;
};

var Insertion$1 = function Insertion(_ref) {
    var cache = _ref.cache,
        serialized = _ref.serialized,
        isStringTag = _ref.isStringTag;
    registerStyles(cache, serialized, isStringTag);
    var rules = useInsertionEffectAlwaysWithSyncFallback(function () {
        return insertStyles(cache, serialized, isStringTag);
    });

    if (!isBrowser$1 && rules !== undefined) {
        var _ref2;

        var serializedNames = serialized.name;
        var next = serialized.next;

        while (next !== undefined) {
            serializedNames += " " + next.name;
            next = next.next;
        }

        return /*#__PURE__*/ React.createElement(
            "style",
            ((_ref2 = {}),
            (_ref2["data-emotion"] = cache.key + " " + serializedNames),
            (_ref2.dangerouslySetInnerHTML = {
                __html: rules,
            }),
            (_ref2.nonce = cache.sheet.nonce),
            _ref2)
        );
    }

    return null;
};

var Emotion = /* #__PURE__ */ withEmotionCache(function (props, cache, ref) {
    var cssProp = props.css; // so that using `css` from `emotion` and passing the result to the css prop works
    // not passing the registered cache to serializeStyles because it would
    // make certain babel optimisations not possible

    if (typeof cssProp === "string" && cache.registered[cssProp] !== undefined) {
        cssProp = cache.registered[cssProp];
    }

    var WrappedComponent = props[typePropName];
    var registeredStyles = [cssProp];
    var className = "";

    if (typeof props.className === "string") {
        className = getRegisteredStyles(cache.registered, registeredStyles, props.className);
    } else if (props.className != null) {
        className = props.className + " ";
    }

    var serialized = serializeStyles(registeredStyles, undefined, React.useContext(ThemeContext));

    if (process.env.NODE_ENV !== "production" && serialized.name.indexOf("-") === -1) {
        var labelFromStack = props[labelPropName];

        if (labelFromStack) {
            serialized = serializeStyles([serialized, "label:" + labelFromStack + ";"]);
        }
    }

    className += cache.key + "-" + serialized.name;
    var newProps = {};

    for (var key in props) {
        if (
            hasOwnProperty.call(props, key) &&
            key !== "css" &&
            key !== typePropName &&
            (process.env.NODE_ENV === "production" || key !== labelPropName)
        ) {
            newProps[key] = props[key];
        }
    }

    newProps.ref = ref;
    newProps.className = className;
    return /*#__PURE__*/ React.createElement(
        React.Fragment,
        null,
        /*#__PURE__*/ React.createElement(Insertion$1, {
            cache: cache,
            serialized: serialized,
            isStringTag: typeof WrappedComponent === "string",
        }),
        /*#__PURE__*/ React.createElement(WrappedComponent, newProps)
    );
});

if (process.env.NODE_ENV !== "production") {
    Emotion.displayName = "EmotionCssPropInternal";
}

var _extends_1 = authRecipe.createCommonjsModule(function (module) {
    function _extends() {
        (module.exports = _extends =
            Object.assign
                ? Object.assign.bind()
                : function (target) {
                      for (var i = 1; i < arguments.length; i++) {
                          var source = arguments[i];

                          for (var key in source) {
                              if (Object.prototype.hasOwnProperty.call(source, key)) {
                                  target[key] = source[key];
                              }
                          }
                      }

                      return target;
                  }),
            (module.exports.__esModule = true),
            (module.exports["default"] = module.exports);
        return _extends.apply(this, arguments);
    }

    (module.exports = _extends), (module.exports.__esModule = true), (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(_extends_1);

var pkg = {
    name: "@emotion/react",
    version: "11.10.4",
    main: "dist/emotion-react.cjs.js",
    module: "dist/emotion-react.esm.js",
    browser: {
        "./dist/emotion-react.esm.js": "./dist/emotion-react.browser.esm.js",
    },
    exports: {
        ".": {
            module: {
                worker: "./dist/emotion-react.worker.esm.js",
                browser: "./dist/emotion-react.browser.esm.js",
                default: "./dist/emotion-react.esm.js",
            },
            default: "./dist/emotion-react.cjs.js",
        },
        "./jsx-runtime": {
            module: {
                worker: "./jsx-runtime/dist/emotion-react-jsx-runtime.worker.esm.js",
                browser: "./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js",
                default: "./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js",
            },
            default: "./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js",
        },
        "./_isolated-hnrs": {
            module: {
                worker: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.worker.esm.js",
                browser: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js",
                default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js",
            },
            default: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js",
        },
        "./jsx-dev-runtime": {
            module: {
                worker: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.worker.esm.js",
                browser: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js",
                default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js",
            },
            default: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js",
        },
        "./package.json": "./package.json",
        "./types/css-prop": "./types/css-prop.d.ts",
        "./macro": "./macro.js",
    },
    types: "types/index.d.ts",
    files: [
        "src",
        "dist",
        "jsx-runtime",
        "jsx-dev-runtime",
        "_isolated-hnrs",
        "types/*.d.ts",
        "macro.js",
        "macro.d.ts",
        "macro.js.flow",
    ],
    sideEffects: false,
    author: "Emotion Contributors",
    license: "MIT",
    scripts: {
        "test:typescript": "dtslint types",
    },
    dependencies: {
        "@babel/runtime": "^7.18.3",
        "@emotion/babel-plugin": "^11.10.0",
        "@emotion/cache": "^11.10.0",
        "@emotion/serialize": "^1.1.0",
        "@emotion/use-insertion-effect-with-fallbacks": "^1.0.0",
        "@emotion/utils": "^1.2.0",
        "@emotion/weak-memoize": "^0.3.0",
        "hoist-non-react-statics": "^3.3.1",
    },
    peerDependencies: {
        "@babel/core": "^7.0.0",
        react: ">=16.8.0",
    },
    peerDependenciesMeta: {
        "@babel/core": {
            optional: true,
        },
        "@types/react": {
            optional: true,
        },
    },
    devDependencies: {
        "@babel/core": "^7.18.5",
        "@definitelytyped/dtslint": "0.0.112",
        "@emotion/css": "11.10.0",
        "@emotion/css-prettifier": "1.1.0",
        "@emotion/server": "11.10.0",
        "@emotion/styled": "11.10.4",
        "html-tag-names": "^1.1.2",
        react: "16.14.0",
        "svg-tag-names": "^1.1.1",
        typescript: "^4.5.5",
    },
    repository: "https://github.com/emotion-js/emotion/tree/main/packages/react",
    publishConfig: {
        access: "public",
    },
    "umd:main": "dist/emotion-react.umd.min.js",
    preconstruct: {
        entrypoints: ["./index.js", "./jsx-runtime.js", "./jsx-dev-runtime.js", "./_isolated-hnrs.js"],
        umdName: "emotionReact",
        exports: {
            envConditions: ["browser", "worker"],
            extra: {
                "./types/css-prop": "./types/css-prop.d.ts",
                "./macro": "./macro.js",
            },
        },
    },
};

var jsx = function jsx(type, props) {
    var args = arguments;

    if (props == null || !hasOwnProperty.call(props, "css")) {
        // $FlowFixMe
        return React.createElement.apply(undefined, args);
    }

    var argsLength = args.length;
    var createElementArgArray = new Array(argsLength);
    createElementArgArray[0] = Emotion;
    createElementArgArray[1] = createEmotionProps(type, props);

    for (var i = 2; i < argsLength; i++) {
        createElementArgArray[i] = args[i];
    } // $FlowFixMe

    return React.createElement.apply(null, createElementArgArray);
};

var warnedAboutCssPropForGlobal = false; // maintain place over rerenders.
// initial render from browser, insertBefore context.sheet.tags[0] or if a style hasn't been inserted there yet, appendChild
// initial client-side render from SSR, use place of hydrating tag

var Global = /* #__PURE__ */ withEmotionCache(function (props, cache) {
    if (
        process.env.NODE_ENV !== "production" &&
        !warnedAboutCssPropForGlobal && // check for className as well since the user is
        // probably using the custom createElement which
        // means it will be turned into a className prop
        // $FlowFixMe I don't really want to add it to the type since it shouldn't be used
        (props.className || props.css)
    ) {
        console.error(
            "It looks like you're using the css prop on Global, did you mean to use the styles prop instead?"
        );
        warnedAboutCssPropForGlobal = true;
    }

    var styles = props.styles;
    var serialized = serializeStyles([styles], undefined, React.useContext(ThemeContext));

    if (!isBrowser$1) {
        var _ref;

        var serializedNames = serialized.name;
        var serializedStyles = serialized.styles;
        var next = serialized.next;

        while (next !== undefined) {
            serializedNames += " " + next.name;
            serializedStyles += next.styles;
            next = next.next;
        }

        var shouldCache = cache.compat === true;
        var rules = cache.insert(
            "",
            {
                name: serializedNames,
                styles: serializedStyles,
            },
            cache.sheet,
            shouldCache
        );

        if (shouldCache) {
            return null;
        }

        return /*#__PURE__*/ React.createElement(
            "style",
            ((_ref = {}),
            (_ref["data-emotion"] = cache.key + "-global " + serializedNames),
            (_ref.dangerouslySetInnerHTML = {
                __html: rules,
            }),
            (_ref.nonce = cache.sheet.nonce),
            _ref)
        );
    } // yes, i know these hooks are used conditionally
    // but it is based on a constant that will never change at runtime
    // it's effectively like having two implementations and switching them out
    // so it's not actually breaking anything

    var sheetRef = React.useRef();
    useInsertionEffectWithLayoutFallback(
        function () {
            var key = cache.key + "-global"; // use case of https://github.com/emotion-js/emotion/issues/2675

            var sheet = new cache.sheet.constructor({
                key: key,
                nonce: cache.sheet.nonce,
                container: cache.sheet.container,
                speedy: cache.sheet.isSpeedy,
            });
            var rehydrating = false; // $FlowFixMe

            var node = document.querySelector('style[data-emotion="' + key + " " + serialized.name + '"]');

            if (cache.sheet.tags.length) {
                sheet.before = cache.sheet.tags[0];
            }

            if (node !== null) {
                rehydrating = true; // clear the hash so this node won't be recognizable as rehydratable by other <Global/>s

                node.setAttribute("data-emotion", key);
                sheet.hydrate([node]);
            }

            sheetRef.current = [sheet, rehydrating];
            return function () {
                sheet.flush();
            };
        },
        [cache]
    );
    useInsertionEffectWithLayoutFallback(
        function () {
            var sheetRefCurrent = sheetRef.current;
            var sheet = sheetRefCurrent[0],
                rehydrating = sheetRefCurrent[1];

            if (rehydrating) {
                sheetRefCurrent[1] = false;
                return;
            }

            if (serialized.next !== undefined) {
                // insert keyframes
                insertStyles(cache, serialized.next, true);
            }

            if (sheet.tags.length) {
                // if this doesn't exist then it will be null so the style element will be appended
                var element = sheet.tags[sheet.tags.length - 1].nextElementSibling;
                sheet.before = element;
                sheet.flush();
            }

            cache.insert("", serialized, sheet, false);
        },
        [cache, serialized.name]
    );
    return null;
});

if (process.env.NODE_ENV !== "production") {
    Global.displayName = "EmotionGlobal";
}

function css$2() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
    }

    return serializeStyles(args);
}

var keyframes = function keyframes() {
    var insertable = css$2.apply(void 0, arguments);
    var name = "animation-" + insertable.name; // $FlowFixMe

    return {
        name: name,
        styles: "@keyframes " + name + "{" + insertable.styles + "}",
        anim: 1,
        toString: function toString() {
            return "_EMO_" + this.name + "_" + this.styles + "_EMO_";
        },
    };
};

var classnames = function classnames(args) {
    var len = args.length;
    var i = 0;
    var cls = "";

    for (; i < len; i++) {
        var arg = args[i];
        if (arg == null) continue;
        var toAdd = void 0;

        switch (typeof arg) {
            case "boolean":
                break;

            case "object": {
                if (Array.isArray(arg)) {
                    toAdd = classnames(arg);
                } else {
                    if (process.env.NODE_ENV !== "production" && arg.styles !== undefined && arg.name !== undefined) {
                        console.error(
                            "You have passed styles created with `css` from `@emotion/react` package to the `cx`.\n" +
                                "`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component."
                        );
                    }

                    toAdd = "";

                    for (var k in arg) {
                        if (arg[k] && k) {
                            toAdd && (toAdd += " ");
                            toAdd += k;
                        }
                    }
                }

                break;
            }

            default: {
                toAdd = arg;
            }
        }

        if (toAdd) {
            cls && (cls += " ");
            cls += toAdd;
        }
    }

    return cls;
};

function merge(registered, css, className) {
    var registeredStyles = [];
    var rawClassName = getRegisteredStyles(registered, registeredStyles, className);

    if (registeredStyles.length < 2) {
        return className;
    }

    return rawClassName + css(registeredStyles);
}

var Insertion = function Insertion(_ref) {
    var cache = _ref.cache,
        serializedArr = _ref.serializedArr;
    var rules = useInsertionEffectAlwaysWithSyncFallback(function () {
        var rules = "";

        for (var i = 0; i < serializedArr.length; i++) {
            var res = insertStyles(cache, serializedArr[i], false);

            if (!isBrowser$1 && res !== undefined) {
                rules += res;
            }
        }

        if (!isBrowser$1) {
            return rules;
        }
    });

    if (!isBrowser$1 && rules.length !== 0) {
        var _ref2;

        return /*#__PURE__*/ React.createElement(
            "style",
            ((_ref2 = {}),
            (_ref2["data-emotion"] =
                cache.key +
                " " +
                serializedArr
                    .map(function (serialized) {
                        return serialized.name;
                    })
                    .join(" ")),
            (_ref2.dangerouslySetInnerHTML = {
                __html: rules,
            }),
            (_ref2.nonce = cache.sheet.nonce),
            _ref2)
        );
    }

    return null;
};

var ClassNames = /* #__PURE__ */ withEmotionCache(function (props, cache) {
    var hasRendered = false;
    var serializedArr = [];

    var css = function css() {
        if (hasRendered && process.env.NODE_ENV !== "production") {
            throw new Error("css can only be used during render");
        }

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        var serialized = serializeStyles(args, cache.registered);
        serializedArr.push(serialized); // registration has to happen here as the result of this might get consumed by `cx`

        registerStyles(cache, serialized, false);
        return cache.key + "-" + serialized.name;
    };

    var cx = function cx() {
        if (hasRendered && process.env.NODE_ENV !== "production") {
            throw new Error("cx can only be used during render");
        }

        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
        }

        return merge(cache.registered, css, classnames(args));
    };

    var content = {
        css: css,
        cx: cx,
        theme: React.useContext(ThemeContext),
    };
    var ele = props.children(content);
    hasRendered = true;
    return /*#__PURE__*/ React.createElement(
        React.Fragment,
        null,
        /*#__PURE__*/ React.createElement(Insertion, {
            cache: cache,
            serializedArr: serializedArr,
        }),
        ele
    );
});

if (process.env.NODE_ENV !== "production") {
    ClassNames.displayName = "EmotionClassNames";
}

if (process.env.NODE_ENV !== "production") {
    var isBrowser = typeof document !== "undefined"; // #1727 for some reason Jest evaluates modules twice if some consuming module gets mocked with jest.mock

    var isJest = typeof jest !== "undefined";

    if (isBrowser && !isJest) {
        // globalThis has wide browser support - https://caniuse.com/?search=globalThis, Node.js 12 and later
        var globalContext = // $FlowIgnore
            typeof globalThis !== "undefined"
                ? globalThis // eslint-disable-line no-undef
                : isBrowser
                ? window
                : global;
        var globalKey = "__EMOTION_REACT_" + pkg.version.split(".")[0] + "__";

        if (globalContext[globalKey]) {
            console.warn(
                "You are loading @emotion/react when it is already loaded. Running " +
                    "multiple instances may cause problems. This can happen if multiple " +
                    "versions are used, or if multiple builds of the same version are " +
                    "used."
            );
        }

        globalContext[globalKey] = true;
    }
}

function _taggedTemplateLiteral(strings, raw) {
    if (!raw) {
        raw = strings.slice(0);
    }

    return Object.freeze(
        Object.defineProperties(strings, {
            raw: {
                value: Object.freeze(raw),
            },
        })
    );
}

function _objectWithoutPropertiesLoose(source, excluded) {
    if (source == null) return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i;

    for (i = 0; i < sourceKeys.length; i++) {
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0) continue;
        target[key] = source[key];
    }

    return target;
}

function _objectWithoutProperties(source, excluded) {
    if (source == null) return {};
    var target = _objectWithoutPropertiesLoose(source, excluded);
    var key, i;

    if (Object.getOwnPropertySymbols) {
        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

        for (i = 0; i < sourceSymbolKeys.length; i++) {
            key = sourceSymbolKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
            target[key] = source[key];
        }
    }

    return target;
}

function _typeof(obj) {
    "@babel/helpers - typeof";

    return (
        (_typeof =
            "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                ? function (obj) {
                      return typeof obj;
                  }
                : function (obj) {
                      return obj &&
                          "function" == typeof Symbol &&
                          obj.constructor === Symbol &&
                          obj !== Symbol.prototype
                          ? "symbol"
                          : typeof obj;
                  }),
        _typeof(obj)
    );
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
    }
}

function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    Object.defineProperty(Constructor, "prototype", {
        writable: false,
    });
    return Constructor;
}

function _setPrototypeOf(o, p) {
    _setPrototypeOf = Object.setPrototypeOf
        ? Object.setPrototypeOf.bind()
        : function _setPrototypeOf(o, p) {
              o.__proto__ = p;
              return o;
          };
    return _setPrototypeOf(o, p);
}

function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
            value: subClass,
            writable: true,
            configurable: true,
        },
    });
    Object.defineProperty(subClass, "prototype", {
        writable: false,
    });
    if (superClass) _setPrototypeOf(subClass, superClass);
}

function _defineProperty$1(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true,
        });
    } else {
        obj[key] = value;
    }

    return obj;
}

function _defineProperty(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true,
        });
    } else {
        obj[key] = value;
    }

    return obj;
}

function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);

    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);

        if (enumerableOnly) {
            symbols = symbols.filter(function (sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
        }

        keys.push.apply(keys, symbols);
    }

    return keys;
}

function _objectSpread2(target) {
    for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};

        if (i % 2) {
            ownKeys(Object(source), true).forEach(function (key) {
                _defineProperty(target, key, source[key]);
            });
        } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
        } else {
            ownKeys(Object(source)).forEach(function (key) {
                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
            });
        }
    }

    return target;
}

function _getPrototypeOf(o) {
    _getPrototypeOf = Object.setPrototypeOf
        ? Object.getPrototypeOf
        : function _getPrototypeOf(o) {
              return o.__proto__ || Object.getPrototypeOf(o);
          };
    return _getPrototypeOf(o);
}

function _isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
        return true;
    } catch (e) {
        return false;
    }
}

function _assertThisInitialized(self) {
    if (self === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
}

function _possibleConstructorReturn(self, call) {
    if (call && (typeof call === "object" || typeof call === "function")) {
        return call;
    }

    return _assertThisInitialized(self);
}

function _createSuper(Derived) {
    var hasNativeReflectConstruct = _isNativeReflectConstruct();
    return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived),
            result;

        if (hasNativeReflectConstruct) {
            var NewTarget = _getPrototypeOf(this).constructor;
            result = Reflect.construct(Super, arguments, NewTarget);
        } else {
            result = Super.apply(this, arguments);
        }

        return _possibleConstructorReturn(this, result);
    };
}

var _excluded$3 = [
    "className",
    "clearValue",
    "cx",
    "getStyles",
    "getValue",
    "hasValue",
    "isMulti",
    "isRtl",
    "options",
    "selectOption",
    "selectProps",
    "setValue",
    "theme",
];
// ==============================
// NO OP
// ==============================
var noop = function noop() {};
// Class Name Prefixer
// ==============================

/**
 String representation of component state for styling with class names.

 Expects an array of strings OR a string/object pair:
 - className(['comp', 'comp-arg', 'comp-arg-2'])
   @returns 'react-select__comp react-select__comp-arg react-select__comp-arg-2'
 - className('comp', { some: true, state: false })
   @returns 'react-select__comp react-select__comp--some'
*/

function applyPrefixToName(prefix, name) {
    if (!name) {
        return prefix;
    } else if (name[0] === "-") {
        return prefix + name;
    } else {
        return prefix + "__" + name;
    }
}

function classNames(prefix, state, className) {
    var arr = [className];

    if (state && prefix) {
        for (var key in state) {
            if (state.hasOwnProperty(key) && state[key]) {
                arr.push("".concat(applyPrefixToName(prefix, key)));
            }
        }
    }

    return arr
        .filter(function (i) {
            return i;
        })
        .map(function (i) {
            return String(i).trim();
        })
        .join(" ");
} // ==============================
// Clean Value
// ==============================

var cleanValue = function cleanValue(value) {
    if (isArray(value)) return value.filter(Boolean);
    if (_typeof(value) === "object" && value !== null) return [value];
    return [];
}; // ==============================
// Clean Common Props
// ==============================

var cleanCommonProps = function cleanCommonProps(props) {
    //className
    props.className;
    props.clearValue;
    props.cx;
    props.getStyles;
    props.getValue;
    props.hasValue;
    props.isMulti;
    props.isRtl;
    props.options;
    props.selectOption;
    props.selectProps;
    props.setValue;
    props.theme;
    var innerProps = _objectWithoutProperties(props, _excluded$3);

    return _objectSpread2({}, innerProps);
}; // ==============================
// Scroll Helpers
// ==============================

function isDocumentElement(el) {
    return [document.documentElement, document.body, window].indexOf(el) > -1;
} // Normalized Scroll Top
// ------------------------------

function getScrollTop(el) {
    if (isDocumentElement(el)) {
        return window.pageYOffset;
    }

    return el.scrollTop;
}
function scrollTo(el, top) {
    // with a scroll distance, we perform scroll on the element
    if (isDocumentElement(el)) {
        window.scrollTo(0, top);
        return;
    }

    el.scrollTop = top;
} // Get Scroll Parent
// ------------------------------

function getScrollParent(element) {
    var style = getComputedStyle(element);
    var excludeStaticParent = style.position === "absolute";
    var overflowRx = /(auto|scroll)/;
    if (style.position === "fixed") return document.documentElement;

    for (var parent = element; (parent = parent.parentElement); ) {
        style = getComputedStyle(parent);

        if (excludeStaticParent && style.position === "static") {
            continue;
        }

        if (overflowRx.test(style.overflow + style.overflowY + style.overflowX)) {
            return parent;
        }
    }

    return document.documentElement;
} // Animated Scroll To
// ------------------------------

/**
  @param t: time (elapsed)
  @param b: initial value
  @param c: amount of change
  @param d: duration
*/

function easeOutCubic(t, b, c, d) {
    return c * ((t = t / d - 1) * t * t + 1) + b;
}

function animatedScrollTo(element, to) {
    var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 200;
    var callback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : noop;
    var start = getScrollTop(element);
    var change = to - start;
    var increment = 10;
    var currentTime = 0;

    function animateScroll() {
        currentTime += increment;
        var val = easeOutCubic(currentTime, start, change, duration);
        scrollTo(element, val);

        if (currentTime < duration) {
            window.requestAnimationFrame(animateScroll);
        } else {
            callback(element);
        }
    }

    animateScroll();
} // Scroll Into View
// ------------------------------

function scrollIntoView(menuEl, focusedEl) {
    var menuRect = menuEl.getBoundingClientRect();
    var focusedRect = focusedEl.getBoundingClientRect();
    var overScroll = focusedEl.offsetHeight / 3;

    if (focusedRect.bottom + overScroll > menuRect.bottom) {
        scrollTo(
            menuEl,
            Math.min(
                focusedEl.offsetTop + focusedEl.clientHeight - menuEl.offsetHeight + overScroll,
                menuEl.scrollHeight
            )
        );
    } else if (focusedRect.top - overScroll < menuRect.top) {
        scrollTo(menuEl, Math.max(focusedEl.offsetTop - overScroll, 0));
    }
} // ==============================
// Get bounding client object
// ==============================
// cannot get keys using array notation with DOMRect

function getBoundingClientObj(element) {
    var rect = element.getBoundingClientRect();
    return {
        bottom: rect.bottom,
        height: rect.height,
        left: rect.left,
        right: rect.right,
        top: rect.top,
        width: rect.width,
    };
}
// Touch Capability Detector
// ==============================

function isTouchCapable() {
    try {
        document.createEvent("TouchEvent");
        return true;
    } catch (e) {
        return false;
    }
} // ==============================
// Mobile Device Detector
// ==============================

function isMobileDevice() {
    try {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    } catch (e) {
        return false;
    }
} // ==============================
// Passive Event Detector
// ==============================
// https://github.com/rafgraph/detect-it/blob/main/src/index.ts#L19-L36

var passiveOptionAccessed = false;
var options = {
    get passive() {
        return (passiveOptionAccessed = true);
    },
}; // check for SSR

var w = typeof window !== "undefined" ? window : {};

if (w.addEventListener && w.removeEventListener) {
    w.addEventListener("p", noop, options);
    w.removeEventListener("p", noop, false);
}

var supportsPassiveEvents = passiveOptionAccessed;
function notNullish(item) {
    return item != null;
}
function isArray(arg) {
    return Array.isArray(arg);
}
function valueTernary(isMulti, multiValue, singleValue) {
    return isMulti ? multiValue : singleValue;
}
function singleValueAsValue(singleValue) {
    return singleValue;
}
function multiValueAsValue(multiValue) {
    return multiValue;
}

function getMenuPlacement(_ref) {
    var maxHeight = _ref.maxHeight,
        menuEl = _ref.menuEl,
        minHeight = _ref.minHeight,
        placement = _ref.placement,
        shouldScroll = _ref.shouldScroll,
        isFixedPosition = _ref.isFixedPosition,
        theme = _ref.theme;
    var spacing = theme.spacing;
    var scrollParent = getScrollParent(menuEl);
    var defaultState = {
        placement: "bottom",
        maxHeight: maxHeight,
    }; // something went wrong, return default state

    if (!menuEl || !menuEl.offsetParent) return defaultState; // we can't trust `scrollParent.scrollHeight` --> it may increase when
    // the menu is rendered

    var _scrollParent$getBoun = scrollParent.getBoundingClientRect(),
        scrollHeight = _scrollParent$getBoun.height;

    var _menuEl$getBoundingCl = menuEl.getBoundingClientRect(),
        menuBottom = _menuEl$getBoundingCl.bottom,
        menuHeight = _menuEl$getBoundingCl.height,
        menuTop = _menuEl$getBoundingCl.top;

    var _menuEl$offsetParent$ = menuEl.offsetParent.getBoundingClientRect(),
        containerTop = _menuEl$offsetParent$.top;

    var viewHeight = window.innerHeight;
    var scrollTop = getScrollTop(scrollParent);
    var marginBottom = parseInt(getComputedStyle(menuEl).marginBottom, 10);
    var marginTop = parseInt(getComputedStyle(menuEl).marginTop, 10);
    var viewSpaceAbove = containerTop - marginTop;
    var viewSpaceBelow = viewHeight - menuTop;
    var scrollSpaceAbove = viewSpaceAbove + scrollTop;
    var scrollSpaceBelow = scrollHeight - scrollTop - menuTop;
    var scrollDown = menuBottom - viewHeight + scrollTop + marginBottom;
    var scrollUp = scrollTop + menuTop - marginTop;
    var scrollDuration = 160;

    switch (placement) {
        case "auto":
        case "bottom":
            // 1: the menu will fit, do nothing
            if (viewSpaceBelow >= menuHeight) {
                return {
                    placement: "bottom",
                    maxHeight: maxHeight,
                };
            } // 2: the menu will fit, if scrolled

            if (scrollSpaceBelow >= menuHeight && !isFixedPosition) {
                if (shouldScroll) {
                    animatedScrollTo(scrollParent, scrollDown, scrollDuration);
                }

                return {
                    placement: "bottom",
                    maxHeight: maxHeight,
                };
            } // 3: the menu will fit, if constrained

            if (
                (!isFixedPosition && scrollSpaceBelow >= minHeight) ||
                (isFixedPosition && viewSpaceBelow >= minHeight)
            ) {
                if (shouldScroll) {
                    animatedScrollTo(scrollParent, scrollDown, scrollDuration);
                } // we want to provide as much of the menu as possible to the user,
                // so give them whatever is available below rather than the minHeight.

                var constrainedHeight = isFixedPosition
                    ? viewSpaceBelow - marginBottom
                    : scrollSpaceBelow - marginBottom;
                return {
                    placement: "bottom",
                    maxHeight: constrainedHeight,
                };
            } // 4. Forked beviour when there isn't enough space below
            // AUTO: flip the menu, render above

            if (placement === "auto" || isFixedPosition) {
                // may need to be constrained after flipping
                var _constrainedHeight = maxHeight;
                var spaceAbove = isFixedPosition ? viewSpaceAbove : scrollSpaceAbove;

                if (spaceAbove >= minHeight) {
                    _constrainedHeight = Math.min(spaceAbove - marginBottom - spacing.controlHeight, maxHeight);
                }

                return {
                    placement: "top",
                    maxHeight: _constrainedHeight,
                };
            } // BOTTOM: allow browser to increase scrollable area and immediately set scroll

            if (placement === "bottom") {
                if (shouldScroll) {
                    scrollTo(scrollParent, scrollDown);
                }

                return {
                    placement: "bottom",
                    maxHeight: maxHeight,
                };
            }

            break;

        case "top":
            // 1: the menu will fit, do nothing
            if (viewSpaceAbove >= menuHeight) {
                return {
                    placement: "top",
                    maxHeight: maxHeight,
                };
            } // 2: the menu will fit, if scrolled

            if (scrollSpaceAbove >= menuHeight && !isFixedPosition) {
                if (shouldScroll) {
                    animatedScrollTo(scrollParent, scrollUp, scrollDuration);
                }

                return {
                    placement: "top",
                    maxHeight: maxHeight,
                };
            } // 3: the menu will fit, if constrained

            if (
                (!isFixedPosition && scrollSpaceAbove >= minHeight) ||
                (isFixedPosition && viewSpaceAbove >= minHeight)
            ) {
                var _constrainedHeight2 = maxHeight; // we want to provide as much of the menu as possible to the user,
                // so give them whatever is available below rather than the minHeight.

                if (
                    (!isFixedPosition && scrollSpaceAbove >= minHeight) ||
                    (isFixedPosition && viewSpaceAbove >= minHeight)
                ) {
                    _constrainedHeight2 = isFixedPosition ? viewSpaceAbove - marginTop : scrollSpaceAbove - marginTop;
                }

                if (shouldScroll) {
                    animatedScrollTo(scrollParent, scrollUp, scrollDuration);
                }

                return {
                    placement: "top",
                    maxHeight: _constrainedHeight2,
                };
            } // 4. not enough space, the browser WILL NOT increase scrollable area when
            // absolutely positioned element rendered above the viewport (only below).
            // Flip the menu, render below

            return {
                placement: "bottom",
                maxHeight: maxHeight,
            };

        default:
            throw new Error('Invalid placement provided "'.concat(placement, '".'));
    }

    return defaultState;
} // Menu Component
// ------------------------------

function alignToControl(placement) {
    var placementToCSSProp = {
        bottom: "top",
        top: "bottom",
    };
    return placement ? placementToCSSProp[placement] : "bottom";
}

var coercePlacement = function coercePlacement(p) {
    return p === "auto" ? "bottom" : p;
};

var menuCSS = function menuCSS(_ref2) {
    var _ref3;

    var placement = _ref2.placement,
        _ref2$theme = _ref2.theme,
        borderRadius = _ref2$theme.borderRadius,
        spacing = _ref2$theme.spacing,
        colors = _ref2$theme.colors;
    return (
        (_ref3 = {
            label: "menu",
        }),
        _defineProperty$1(_ref3, alignToControl(placement), "100%"),
        _defineProperty$1(_ref3, "backgroundColor", colors.neutral0),
        _defineProperty$1(_ref3, "borderRadius", borderRadius),
        _defineProperty$1(_ref3, "boxShadow", "0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),
        _defineProperty$1(_ref3, "marginBottom", spacing.menuGutter),
        _defineProperty$1(_ref3, "marginTop", spacing.menuGutter),
        _defineProperty$1(_ref3, "position", "absolute"),
        _defineProperty$1(_ref3, "width", "100%"),
        _defineProperty$1(_ref3, "zIndex", 1),
        _ref3
    );
};
var PortalPlacementContext = /*#__PURE__*/ React.createContext({
    getPortalPlacement: null,
}); // NOTE: internal only

var MenuPlacer = /*#__PURE__*/ (function (_Component) {
    _inherits(MenuPlacer, _Component);

    var _super = _createSuper(MenuPlacer);

    function MenuPlacer() {
        var _this;

        _classCallCheck(this, MenuPlacer);

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        _this = _super.call.apply(_super, [this].concat(args));
        _this.state = {
            maxHeight: _this.props.maxMenuHeight,
            placement: null,
        };
        _this.context = void 0;

        _this.getPlacement = function (ref) {
            var _this$props = _this.props,
                minMenuHeight = _this$props.minMenuHeight,
                maxMenuHeight = _this$props.maxMenuHeight,
                menuPlacement = _this$props.menuPlacement,
                menuPosition = _this$props.menuPosition,
                menuShouldScrollIntoView = _this$props.menuShouldScrollIntoView,
                theme = _this$props.theme;
            if (!ref) return; // DO NOT scroll if position is fixed

            var isFixedPosition = menuPosition === "fixed";
            var shouldScroll = menuShouldScrollIntoView && !isFixedPosition;
            var state = getMenuPlacement({
                maxHeight: maxMenuHeight,
                menuEl: ref,
                minHeight: minMenuHeight,
                placement: menuPlacement,
                shouldScroll: shouldScroll,
                isFixedPosition: isFixedPosition,
                theme: theme,
            });
            var getPortalPlacement = _this.context.getPortalPlacement;
            if (getPortalPlacement) getPortalPlacement(state);

            _this.setState(state);
        };

        _this.getUpdatedProps = function () {
            var menuPlacement = _this.props.menuPlacement;
            var placement = _this.state.placement || coercePlacement(menuPlacement);
            return _objectSpread2(
                _objectSpread2({}, _this.props),
                {},
                {
                    placement: placement,
                    maxHeight: _this.state.maxHeight,
                }
            );
        };

        return _this;
    }

    _createClass(MenuPlacer, [
        {
            key: "render",
            value: function render() {
                var children = this.props.children;
                return children({
                    ref: this.getPlacement,
                    placerProps: this.getUpdatedProps(),
                });
            },
        },
    ]);

    return MenuPlacer;
})(React.Component);
MenuPlacer.contextType = PortalPlacementContext;

var Menu = function Menu(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        innerRef = props.innerRef,
        innerProps = props.innerProps;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("menu", props),
                className: cx(
                    {
                        menu: true,
                    },
                    className
                ),
                ref: innerRef,
            },
            innerProps
        ),
        children
    );
};
// Menu List
// ==============================

var menuListCSS = function menuListCSS(_ref4) {
    var maxHeight = _ref4.maxHeight,
        baseUnit = _ref4.theme.spacing.baseUnit;
    return {
        maxHeight: maxHeight,
        overflowY: "auto",
        paddingBottom: baseUnit,
        paddingTop: baseUnit,
        position: "relative",
        // required for offset[Height, Top] > keyboard scroll
        WebkitOverflowScrolling: "touch",
    };
};
var MenuList = function MenuList(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        innerProps = props.innerProps,
        innerRef = props.innerRef,
        isMulti = props.isMulti;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("menuList", props),
                className: cx(
                    {
                        "menu-list": true,
                        "menu-list--is-multi": isMulti,
                    },
                    className
                ),
                ref: innerRef,
            },
            innerProps
        ),
        children
    );
}; // ==============================
// Menu Notices
// ==============================

var noticeCSS = function noticeCSS(_ref5) {
    var _ref5$theme = _ref5.theme,
        baseUnit = _ref5$theme.spacing.baseUnit,
        colors = _ref5$theme.colors;
    return {
        color: colors.neutral40,
        padding: "".concat(baseUnit * 2, "px ").concat(baseUnit * 3, "px"),
        textAlign: "center",
    };
};

var noOptionsMessageCSS = noticeCSS;
var loadingMessageCSS = noticeCSS;
var NoOptionsMessage = function NoOptionsMessage(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        innerProps = props.innerProps;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("noOptionsMessage", props),
                className: cx(
                    {
                        "menu-notice": true,
                        "menu-notice--no-options": true,
                    },
                    className
                ),
            },
            innerProps
        ),
        children
    );
};
NoOptionsMessage.defaultProps = {
    children: "No options",
};
var LoadingMessage = function LoadingMessage(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        innerProps = props.innerProps;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("loadingMessage", props),
                className: cx(
                    {
                        "menu-notice": true,
                        "menu-notice--loading": true,
                    },
                    className
                ),
            },
            innerProps
        ),
        children
    );
};
LoadingMessage.defaultProps = {
    children: "Loading...",
}; // ==============================
// Menu Portal
// ==============================

var menuPortalCSS = function menuPortalCSS(_ref6) {
    var rect = _ref6.rect,
        offset = _ref6.offset,
        position = _ref6.position;
    return {
        left: rect.left,
        position: position,
        top: offset,
        width: rect.width,
        zIndex: 1,
    };
};
var MenuPortal = /*#__PURE__*/ (function (_Component2) {
    _inherits(MenuPortal, _Component2);

    var _super2 = _createSuper(MenuPortal);

    function MenuPortal() {
        var _this2;

        _classCallCheck(this, MenuPortal);

        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
        }

        _this2 = _super2.call.apply(_super2, [this].concat(args));
        _this2.state = {
            placement: null,
        };

        _this2.getPortalPlacement = function (_ref7) {
            var placement = _ref7.placement;
            var initialPlacement = coercePlacement(_this2.props.menuPlacement); // avoid re-renders if the placement has not changed

            if (placement !== initialPlacement) {
                _this2.setState({
                    placement: placement,
                });
            }
        };

        return _this2;
    }

    _createClass(MenuPortal, [
        {
            key: "render",
            value: function render() {
                var _this$props2 = this.props,
                    appendTo = _this$props2.appendTo,
                    children = _this$props2.children,
                    className = _this$props2.className,
                    controlElement = _this$props2.controlElement,
                    cx = _this$props2.cx,
                    innerProps = _this$props2.innerProps,
                    menuPlacement = _this$props2.menuPlacement,
                    position = _this$props2.menuPosition,
                    getStyles = _this$props2.getStyles;
                var isFixed = position === "fixed"; // bail early if required elements aren't present

                if ((!appendTo && !isFixed) || !controlElement) {
                    return null;
                }

                var placement = this.state.placement || coercePlacement(menuPlacement);
                var rect = getBoundingClientObj(controlElement);
                var scrollDistance = isFixed ? 0 : window.pageYOffset;
                var offset = rect[placement] + scrollDistance;
                var state = {
                    offset: offset,
                    position: position,
                    rect: rect,
                }; // same wrapper element whether fixed or portalled

                var menuWrapper = jsx(
                    "div",
                    _extends(
                        {
                            css: getStyles("menuPortal", state),
                            className: cx(
                                {
                                    "menu-portal": true,
                                },
                                className
                            ),
                        },
                        innerProps
                    ),
                    children
                );
                return jsx(
                    PortalPlacementContext.Provider,
                    {
                        value: {
                            getPortalPlacement: this.getPortalPlacement,
                        },
                    },
                    appendTo ? /*#__PURE__*/ reactDom.createPortal(menuWrapper, appendTo) : menuWrapper
                );
            },
        },
    ]);

    return MenuPortal;
})(React.Component);

var containerCSS = function containerCSS(_ref) {
    var isDisabled = _ref.isDisabled,
        isRtl = _ref.isRtl;
    return {
        label: "container",
        direction: isRtl ? "rtl" : undefined,
        pointerEvents: isDisabled ? "none" : undefined,
        // cancel mouse events when disabled
        position: "relative",
    };
};
var SelectContainer = function SelectContainer(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        innerProps = props.innerProps,
        isDisabled = props.isDisabled,
        isRtl = props.isRtl;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("container", props),
                className: cx(
                    {
                        "--is-disabled": isDisabled,
                        "--is-rtl": isRtl,
                    },
                    className
                ),
            },
            innerProps
        ),
        children
    );
}; // ==============================
// Value Container
// ==============================

var valueContainerCSS = function valueContainerCSS(_ref2) {
    var spacing = _ref2.theme.spacing,
        isMulti = _ref2.isMulti,
        hasValue = _ref2.hasValue,
        controlShouldRenderValue = _ref2.selectProps.controlShouldRenderValue;
    return {
        alignItems: "center",
        display: isMulti && hasValue && controlShouldRenderValue ? "flex" : "grid",
        flex: 1,
        flexWrap: "wrap",
        padding: "".concat(spacing.baseUnit / 2, "px ").concat(spacing.baseUnit * 2, "px"),
        WebkitOverflowScrolling: "touch",
        position: "relative",
        overflow: "hidden",
    };
};
var ValueContainer = function ValueContainer(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        innerProps = props.innerProps,
        isMulti = props.isMulti,
        getStyles = props.getStyles,
        hasValue = props.hasValue;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("valueContainer", props),
                className: cx(
                    {
                        "value-container": true,
                        "value-container--is-multi": isMulti,
                        "value-container--has-value": hasValue,
                    },
                    className
                ),
            },
            innerProps
        ),
        children
    );
}; // ==============================
// Indicator Container
// ==============================

var indicatorsContainerCSS = function indicatorsContainerCSS() {
    return {
        alignItems: "center",
        alignSelf: "stretch",
        display: "flex",
        flexShrink: 0,
    };
};
var IndicatorsContainer = function IndicatorsContainer(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        innerProps = props.innerProps,
        getStyles = props.getStyles;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("indicatorsContainer", props),
                className: cx(
                    {
                        indicators: true,
                    },
                    className
                ),
            },
            innerProps
        ),
        children
    );
};

var _templateObject;

var _excluded$2 = ["size"];

function _EMOTION_STRINGIFIED_CSS_ERROR__$2() {
    return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}

var _ref2$1 =
    process.env.NODE_ENV === "production"
        ? {
              name: "8mmkcg",
              styles: "display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0",
          }
        : {
              name: "tj5bde-Svg",
              styles: "display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;label:Svg;",
              map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGljYXRvcnMudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdCSSIsImZpbGUiOiJpbmRpY2F0b3JzLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsganN4LCBrZXlmcmFtZXMgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5cbmltcG9ydCB7XG4gIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lLFxuICBDU1NPYmplY3RXaXRoTGFiZWwsXG4gIEdyb3VwQmFzZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERyb3Bkb3duICYgQ2xlYXIgSWNvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBTdmcgPSAoe1xuICBzaXplLFxuICAuLi5wcm9wc1xufTogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzdmcnXSAmIHsgc2l6ZTogbnVtYmVyIH0pID0+IChcbiAgPHN2Z1xuICAgIGhlaWdodD17c2l6ZX1cbiAgICB3aWR0aD17c2l6ZX1cbiAgICB2aWV3Qm94PVwiMCAwIDIwIDIwXCJcbiAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgIGZvY3VzYWJsZT1cImZhbHNlXCJcbiAgICBjc3M9e3tcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgZmlsbDogJ2N1cnJlbnRDb2xvcicsXG4gICAgICBsaW5lSGVpZ2h0OiAxLFxuICAgICAgc3Ryb2tlOiAnY3VycmVudENvbG9yJyxcbiAgICAgIHN0cm9rZVdpZHRoOiAwLFxuICAgIH19XG4gICAgey4uLnByb3BzfVxuICAvPlxuKTtcblxuZXhwb3J0IHR5cGUgQ3Jvc3NJY29uUHJvcHMgPSBKU1guSW50cmluc2ljRWxlbWVudHNbJ3N2ZyddICYgeyBzaXplPzogbnVtYmVyIH07XG5leHBvcnQgY29uc3QgQ3Jvc3NJY29uID0gKHByb3BzOiBDcm9zc0ljb25Qcm9wcykgPT4gKFxuICA8U3ZnIHNpemU9ezIwfSB7Li4ucHJvcHN9PlxuICAgIDxwYXRoIGQ9XCJNMTQuMzQ4IDE0Ljg0OWMtMC40NjkgMC40NjktMS4yMjkgMC40NjktMS42OTcgMGwtMi42NTEtMy4wMzAtMi42NTEgMy4wMjljLTAuNDY5IDAuNDY5LTEuMjI5IDAuNDY5LTEuNjk3IDAtMC40NjktMC40NjktMC40NjktMS4yMjkgMC0xLjY5N2wyLjc1OC0zLjE1LTIuNzU5LTMuMTUyYy0wLjQ2OS0wLjQ2OS0wLjQ2OS0xLjIyOCAwLTEuNjk3czEuMjI4LTAuNDY5IDEuNjk3IDBsMi42NTIgMy4wMzEgMi42NTEtMy4wMzFjMC40NjktMC40NjkgMS4yMjgtMC40NjkgMS42OTcgMHMwLjQ2OSAxLjIyOSAwIDEuNjk3bC0yLjc1OCAzLjE1MiAyLjc1OCAzLjE1YzAuNDY5IDAuNDY5IDAuNDY5IDEuMjI5IDAgMS42OTh6XCIgLz5cbiAgPC9Tdmc+XG4pO1xuZXhwb3J0IHR5cGUgRG93bkNoZXZyb25Qcm9wcyA9IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snc3ZnJ10gJiB7IHNpemU/OiBudW1iZXIgfTtcbmV4cG9ydCBjb25zdCBEb3duQ2hldnJvbiA9IChwcm9wczogRG93bkNoZXZyb25Qcm9wcykgPT4gKFxuICA8U3ZnIHNpemU9ezIwfSB7Li4ucHJvcHN9PlxuICAgIDxwYXRoIGQ9XCJNNC41MTYgNy41NDhjMC40MzYtMC40NDYgMS4wNDMtMC40ODEgMS41NzYgMGwzLjkwOCAzLjc0NyAzLjkwOC0zLjc0N2MwLjUzMy0wLjQ4MSAxLjE0MS0wLjQ0NiAxLjU3NCAwIDAuNDM2IDAuNDQ1IDAuNDA4IDEuMTk3IDAgMS42MTUtMC40MDYgMC40MTgtNC42OTUgNC41MDItNC42OTUgNC41MDItMC4yMTcgMC4yMjMtMC41MDIgMC4zMzUtMC43ODcgMC4zMzVzLTAuNTctMC4xMTItMC43ODktMC4zMzVjMCAwLTQuMjg3LTQuMDg0LTQuNjk1LTQuNTAycy0wLjQzNi0xLjE3IDAtMS42MTV6XCIgLz5cbiAgPC9Tdmc+XG4pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERyb3Bkb3duICYgQ2xlYXIgQnV0dG9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcGRvd25JbmRpY2F0b3JQcm9wczxcbiAgT3B0aW9uID0gdW5rbm93bixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+ID0gR3JvdXBCYXNlPE9wdGlvbj5cbj4gZXh0ZW5kcyBDb21tb25Qcm9wc0FuZENsYXNzTmFtZTxPcHRpb24sIElzTXVsdGksIEdyb3VwPiB7XG4gIC8qKiBUaGUgY2hpbGRyZW4gdG8gYmUgcmVuZGVyZWQgaW5zaWRlIHRoZSBpbmRpY2F0b3IuICovXG4gIGNoaWxkcmVuPzogUmVhY3ROb2RlO1xuICAvKiogUHJvcHMgdGhhdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUgY2hpbGRyZW4uICovXG4gIGlubmVyUHJvcHM6IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snZGl2J107XG4gIC8qKiBUaGUgZm9jdXNlZCBzdGF0ZSBvZiB0aGUgc2VsZWN0LiAqL1xuICBpc0ZvY3VzZWQ6IGJvb2xlYW47XG4gIGlzRGlzYWJsZWQ6IGJvb2xlYW47XG59XG5cbmNvbnN0IGJhc2VDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oe1xuICBpc0ZvY3VzZWQsXG4gIHRoZW1lOiB7XG4gICAgc3BhY2luZzogeyBiYXNlVW5pdCB9LFxuICAgIGNvbG9ycyxcbiAgfSxcbn06XG4gIHwgRHJvcGRvd25JbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuICB8IENsZWFySW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD4pOiBDU1NPYmplY3RXaXRoTGFiZWwgPT4gKHtcbiAgbGFiZWw6ICdpbmRpY2F0b3JDb250YWluZXInLFxuICBjb2xvcjogaXNGb2N1c2VkID8gY29sb3JzLm5ldXRyYWw2MCA6IGNvbG9ycy5uZXV0cmFsMjAsXG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgcGFkZGluZzogYmFzZVVuaXQgKiAyLFxuICB0cmFuc2l0aW9uOiAnY29sb3IgMTUwbXMnLFxuXG4gICc6aG92ZXInOiB7XG4gICAgY29sb3I6IGlzRm9jdXNlZCA/IGNvbG9ycy5uZXV0cmFsODAgOiBjb2xvcnMubmV1dHJhbDQwLFxuICB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBkcm9wZG93bkluZGljYXRvckNTUyA9IGJhc2VDU1M7XG5leHBvcnQgY29uc3QgRHJvcGRvd25JbmRpY2F0b3IgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHByb3BzOiBEcm9wZG93bkluZGljYXRvclByb3BzPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+XG4pID0+IHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBjeCwgZ2V0U3R5bGVzLCBpbm5lclByb3BzIH0gPSBwcm9wcztcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjc3M9e2dldFN0eWxlcygnZHJvcGRvd25JbmRpY2F0b3InLCBwcm9wcyl9XG4gICAgICBjbGFzc05hbWU9e2N4KFxuICAgICAgICB7XG4gICAgICAgICAgaW5kaWNhdG9yOiB0cnVlLFxuICAgICAgICAgICdkcm9wZG93bi1pbmRpY2F0b3InOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgICl9XG4gICAgICB7Li4uaW5uZXJQcm9wc31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW4gfHwgPERvd25DaGV2cm9uIC8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBDbGVhckluZGljYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgLyoqIFRoZSBjaGlsZHJlbiB0byBiZSByZW5kZXJlZCBpbnNpZGUgdGhlIGluZGljYXRvci4gKi9cbiAgY2hpbGRyZW4/OiBSZWFjdE5vZGU7XG4gIC8qKiBQcm9wcyB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBjaGlsZHJlbi4gKi9cbiAgaW5uZXJQcm9wczogSlNYLkludHJpbnNpY0VsZW1lbnRzWydkaXYnXTtcbiAgLyoqIFRoZSBmb2N1c2VkIHN0YXRlIG9mIHRoZSBzZWxlY3QuICovXG4gIGlzRm9jdXNlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IGNsZWFySW5kaWNhdG9yQ1NTID0gYmFzZUNTUztcbmV4cG9ydCBjb25zdCBDbGVhckluZGljYXRvciA9IDxcbiAgT3B0aW9uLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbixcbiAgR3JvdXAgZXh0ZW5kcyBHcm91cEJhc2U8T3B0aW9uPlxuPihcbiAgcHJvcHM6IENsZWFySW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbikgPT4ge1xuICBjb25zdCB7IGNoaWxkcmVuLCBjbGFzc05hbWUsIGN4LCBnZXRTdHlsZXMsIGlubmVyUHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNzcz17Z2V0U3R5bGVzKCdjbGVhckluZGljYXRvcicsIHByb3BzKX1cbiAgICAgIGNsYXNzTmFtZT17Y3goXG4gICAgICAgIHtcbiAgICAgICAgICBpbmRpY2F0b3I6IHRydWUsXG4gICAgICAgICAgJ2NsZWFyLWluZGljYXRvcic6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZVxuICAgICAgKX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbiB8fCA8Q3Jvc3NJY29uIC8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTZXBhcmF0b3Jcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIEluZGljYXRvclNlcGFyYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgaXNEaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpbm5lclByb3BzPzogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzcGFuJ107XG59XG5cbmV4cG9ydCBjb25zdCBpbmRpY2F0b3JTZXBhcmF0b3JDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oe1xuICBpc0Rpc2FibGVkLFxuICB0aGVtZToge1xuICAgIHNwYWNpbmc6IHsgYmFzZVVuaXQgfSxcbiAgICBjb2xvcnMsXG4gIH0sXG59OiBJbmRpY2F0b3JTZXBhcmF0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPik6IENTU09iamVjdFdpdGhMYWJlbCA9PiAoe1xuICBsYWJlbDogJ2luZGljYXRvclNlcGFyYXRvcicsXG4gIGFsaWduU2VsZjogJ3N0cmV0Y2gnLFxuICBiYWNrZ3JvdW5kQ29sb3I6IGlzRGlzYWJsZWQgPyBjb2xvcnMubmV1dHJhbDEwIDogY29sb3JzLm5ldXRyYWwyMCxcbiAgbWFyZ2luQm90dG9tOiBiYXNlVW5pdCAqIDIsXG4gIG1hcmdpblRvcDogYmFzZVVuaXQgKiAyLFxuICB3aWR0aDogMSxcbn0pO1xuXG5leHBvcnQgY29uc3QgSW5kaWNhdG9yU2VwYXJhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICBwcm9wczogSW5kaWNhdG9yU2VwYXJhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbikgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZSwgY3gsIGdldFN0eWxlcywgaW5uZXJQcm9wcyB9ID0gcHJvcHM7XG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgICAgY3NzPXtnZXRTdHlsZXMoJ2luZGljYXRvclNlcGFyYXRvcicsIHByb3BzKX1cbiAgICAgIGNsYXNzTmFtZT17Y3goeyAnaW5kaWNhdG9yLXNlcGFyYXRvcic6IHRydWUgfSwgY2xhc3NOYW1lKX1cbiAgICAvPlxuICApO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBMb2FkaW5nXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgbG9hZGluZ0RvdEFuaW1hdGlvbnMgPSBrZXlmcmFtZXNgXG4gIDAlLCA4MCUsIDEwMCUgeyBvcGFjaXR5OiAwOyB9XG4gIDQwJSB7IG9wYWNpdHk6IDE7IH1cbmA7XG5cbmV4cG9ydCBjb25zdCBsb2FkaW5nSW5kaWNhdG9yQ1NTID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KHtcbiAgaXNGb2N1c2VkLFxuICBzaXplLFxuICB0aGVtZToge1xuICAgIGNvbG9ycyxcbiAgICBzcGFjaW5nOiB7IGJhc2VVbml0IH0sXG4gIH0sXG59OiBMb2FkaW5nSW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD4pOiBDU1NPYmplY3RXaXRoTGFiZWwgPT4gKHtcbiAgbGFiZWw6ICdsb2FkaW5nSW5kaWNhdG9yJyxcbiAgY29sb3I6IGlzRm9jdXNlZCA/IGNvbG9ycy5uZXV0cmFsNjAgOiBjb2xvcnMubmV1dHJhbDIwLFxuICBkaXNwbGF5OiAnZmxleCcsXG4gIHBhZGRpbmc6IGJhc2VVbml0ICogMixcbiAgdHJhbnNpdGlvbjogJ2NvbG9yIDE1MG1zJyxcbiAgYWxpZ25TZWxmOiAnY2VudGVyJyxcbiAgZm9udFNpemU6IHNpemUsXG4gIGxpbmVIZWlnaHQ6IDEsXG4gIG1hcmdpblJpZ2h0OiBzaXplLFxuICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcbn0pO1xuXG5pbnRlcmZhY2UgTG9hZGluZ0RvdFByb3BzIHtcbiAgZGVsYXk6IG51bWJlcjtcbiAgb2Zmc2V0OiBib29sZWFuO1xufVxuY29uc3QgTG9hZGluZ0RvdCA9ICh7IGRlbGF5LCBvZmZzZXQgfTogTG9hZGluZ0RvdFByb3BzKSA9PiAoXG4gIDxzcGFuXG4gICAgY3NzPXt7XG4gICAgICBhbmltYXRpb246IGAke2xvYWRpbmdEb3RBbmltYXRpb25zfSAxcyBlYXNlLWluLW91dCAke2RlbGF5fW1zIGluZmluaXRlO2AsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdjdXJyZW50Q29sb3InLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnMWVtJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgbWFyZ2luTGVmdDogb2Zmc2V0ID8gJzFlbScgOiB1bmRlZmluZWQsXG4gICAgICBoZWlnaHQ6ICcxZW0nLFxuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICB3aWR0aDogJzFlbScsXG4gICAgfX1cbiAgLz5cbik7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGluZ0luZGljYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgLyoqIFByb3BzIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGNoaWxkcmVuLiAqL1xuICBpbm5lclByb3BzOiBKU1guSW50cmluc2ljRWxlbWVudHNbJ2RpdiddO1xuICAvKiogVGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIHNlbGVjdC4gKi9cbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpc0Rpc2FibGVkOiBib29sZWFuO1xuICAvKiogU2V0IHNpemUgb2YgdGhlIGNvbnRhaW5lci4gKi9cbiAgc2l6ZTogbnVtYmVyO1xufVxuZXhwb3J0IGNvbnN0IExvYWRpbmdJbmRpY2F0b3IgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHByb3BzOiBMb2FkaW5nSW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbikgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZSwgY3gsIGdldFN0eWxlcywgaW5uZXJQcm9wcywgaXNSdGwgfSA9IHByb3BzO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY3NzPXtnZXRTdHlsZXMoJ2xvYWRpbmdJbmRpY2F0b3InLCBwcm9wcyl9XG4gICAgICBjbGFzc05hbWU9e2N4KFxuICAgICAgICB7XG4gICAgICAgICAgaW5kaWNhdG9yOiB0cnVlLFxuICAgICAgICAgICdsb2FkaW5nLWluZGljYXRvcic6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZVxuICAgICAgKX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIDxMb2FkaW5nRG90IGRlbGF5PXswfSBvZmZzZXQ9e2lzUnRsfSAvPlxuICAgICAgPExvYWRpbmdEb3QgZGVsYXk9ezE2MH0gb2Zmc2V0IC8+XG4gICAgICA8TG9hZGluZ0RvdCBkZWxheT17MzIwfSBvZmZzZXQ9eyFpc1J0bH0gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5Mb2FkaW5nSW5kaWNhdG9yLmRlZmF1bHRQcm9wcyA9IHsgc2l6ZTogNCB9O1xuIl19 */",
              toString: _EMOTION_STRINGIFIED_CSS_ERROR__$2,
          };

// ==============================
// Dropdown & Clear Icons
// ==============================
var Svg = function Svg(_ref) {
    var size = _ref.size,
        props = _objectWithoutProperties(_ref, _excluded$2);

    return jsx(
        "svg",
        _extends(
            {
                height: size,
                width: size,
                viewBox: "0 0 20 20",
                "aria-hidden": "true",
                focusable: "false",
                css: _ref2$1,
            },
            props
        )
    );
};

var CrossIcon = function CrossIcon(props) {
    return jsx(
        Svg,
        _extends(
            {
                size: 20,
            },
            props
        ),
        jsx("path", {
            d: "M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z",
        })
    );
};
var DownChevron = function DownChevron(props) {
    return jsx(
        Svg,
        _extends(
            {
                size: 20,
            },
            props
        ),
        jsx("path", {
            d: "M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z",
        })
    );
}; // ==============================
// Dropdown & Clear Buttons
// ==============================

var baseCSS = function baseCSS(_ref3) {
    var isFocused = _ref3.isFocused,
        _ref3$theme = _ref3.theme,
        baseUnit = _ref3$theme.spacing.baseUnit,
        colors = _ref3$theme.colors;
    return {
        label: "indicatorContainer",
        color: isFocused ? colors.neutral60 : colors.neutral20,
        display: "flex",
        padding: baseUnit * 2,
        transition: "color 150ms",
        ":hover": {
            color: isFocused ? colors.neutral80 : colors.neutral40,
        },
    };
};

var dropdownIndicatorCSS = baseCSS;
var DropdownIndicator = function DropdownIndicator(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        innerProps = props.innerProps;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("dropdownIndicator", props),
                className: cx(
                    {
                        indicator: true,
                        "dropdown-indicator": true,
                    },
                    className
                ),
            },
            innerProps
        ),
        children || jsx(DownChevron, null)
    );
};
var clearIndicatorCSS = baseCSS;
var ClearIndicator = function ClearIndicator(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        innerProps = props.innerProps;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("clearIndicator", props),
                className: cx(
                    {
                        indicator: true,
                        "clear-indicator": true,
                    },
                    className
                ),
            },
            innerProps
        ),
        children || jsx(CrossIcon, null)
    );
}; // ==============================
// Separator
// ==============================

var indicatorSeparatorCSS = function indicatorSeparatorCSS(_ref4) {
    var isDisabled = _ref4.isDisabled,
        _ref4$theme = _ref4.theme,
        baseUnit = _ref4$theme.spacing.baseUnit,
        colors = _ref4$theme.colors;
    return {
        label: "indicatorSeparator",
        alignSelf: "stretch",
        backgroundColor: isDisabled ? colors.neutral10 : colors.neutral20,
        marginBottom: baseUnit * 2,
        marginTop: baseUnit * 2,
        width: 1,
    };
};
var IndicatorSeparator = function IndicatorSeparator(props) {
    var className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        innerProps = props.innerProps;
    return jsx(
        "span",
        _extends({}, innerProps, {
            css: getStyles("indicatorSeparator", props),
            className: cx(
                {
                    "indicator-separator": true,
                },
                className
            ),
        })
    );
}; // ==============================
// Loading
// ==============================

var loadingDotAnimations = keyframes(
    _templateObject ||
        (_templateObject = _taggedTemplateLiteral(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))
);
var loadingIndicatorCSS = function loadingIndicatorCSS(_ref5) {
    var isFocused = _ref5.isFocused,
        size = _ref5.size,
        _ref5$theme = _ref5.theme,
        colors = _ref5$theme.colors,
        baseUnit = _ref5$theme.spacing.baseUnit;
    return {
        label: "loadingIndicator",
        color: isFocused ? colors.neutral60 : colors.neutral20,
        display: "flex",
        padding: baseUnit * 2,
        transition: "color 150ms",
        alignSelf: "center",
        fontSize: size,
        lineHeight: 1,
        marginRight: size,
        textAlign: "center",
        verticalAlign: "middle",
    };
};

var LoadingDot = function LoadingDot(_ref6) {
    var delay = _ref6.delay,
        offset = _ref6.offset;
    return jsx("span", {
        css: /*#__PURE__*/ css$2(
            {
                animation: "".concat(loadingDotAnimations, " 1s ease-in-out ").concat(delay, "ms infinite;"),
                backgroundColor: "currentColor",
                borderRadius: "1em",
                display: "inline-block",
                marginLeft: offset ? "1em" : undefined,
                height: "1em",
                verticalAlign: "top",
                width: "1em",
            },
            process.env.NODE_ENV === "production" ? "" : ";label:LoadingDot;",
            process.env.NODE_ENV === "production"
                ? ""
                : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGljYXRvcnMudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXFQSSIsImZpbGUiOiJpbmRpY2F0b3JzLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsganN4LCBrZXlmcmFtZXMgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5cbmltcG9ydCB7XG4gIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lLFxuICBDU1NPYmplY3RXaXRoTGFiZWwsXG4gIEdyb3VwQmFzZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERyb3Bkb3duICYgQ2xlYXIgSWNvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBTdmcgPSAoe1xuICBzaXplLFxuICAuLi5wcm9wc1xufTogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzdmcnXSAmIHsgc2l6ZTogbnVtYmVyIH0pID0+IChcbiAgPHN2Z1xuICAgIGhlaWdodD17c2l6ZX1cbiAgICB3aWR0aD17c2l6ZX1cbiAgICB2aWV3Qm94PVwiMCAwIDIwIDIwXCJcbiAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgIGZvY3VzYWJsZT1cImZhbHNlXCJcbiAgICBjc3M9e3tcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgZmlsbDogJ2N1cnJlbnRDb2xvcicsXG4gICAgICBsaW5lSGVpZ2h0OiAxLFxuICAgICAgc3Ryb2tlOiAnY3VycmVudENvbG9yJyxcbiAgICAgIHN0cm9rZVdpZHRoOiAwLFxuICAgIH19XG4gICAgey4uLnByb3BzfVxuICAvPlxuKTtcblxuZXhwb3J0IHR5cGUgQ3Jvc3NJY29uUHJvcHMgPSBKU1guSW50cmluc2ljRWxlbWVudHNbJ3N2ZyddICYgeyBzaXplPzogbnVtYmVyIH07XG5leHBvcnQgY29uc3QgQ3Jvc3NJY29uID0gKHByb3BzOiBDcm9zc0ljb25Qcm9wcykgPT4gKFxuICA8U3ZnIHNpemU9ezIwfSB7Li4ucHJvcHN9PlxuICAgIDxwYXRoIGQ9XCJNMTQuMzQ4IDE0Ljg0OWMtMC40NjkgMC40NjktMS4yMjkgMC40NjktMS42OTcgMGwtMi42NTEtMy4wMzAtMi42NTEgMy4wMjljLTAuNDY5IDAuNDY5LTEuMjI5IDAuNDY5LTEuNjk3IDAtMC40NjktMC40NjktMC40NjktMS4yMjkgMC0xLjY5N2wyLjc1OC0zLjE1LTIuNzU5LTMuMTUyYy0wLjQ2OS0wLjQ2OS0wLjQ2OS0xLjIyOCAwLTEuNjk3czEuMjI4LTAuNDY5IDEuNjk3IDBsMi42NTIgMy4wMzEgMi42NTEtMy4wMzFjMC40NjktMC40NjkgMS4yMjgtMC40NjkgMS42OTcgMHMwLjQ2OSAxLjIyOSAwIDEuNjk3bC0yLjc1OCAzLjE1MiAyLjc1OCAzLjE1YzAuNDY5IDAuNDY5IDAuNDY5IDEuMjI5IDAgMS42OTh6XCIgLz5cbiAgPC9Tdmc+XG4pO1xuZXhwb3J0IHR5cGUgRG93bkNoZXZyb25Qcm9wcyA9IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snc3ZnJ10gJiB7IHNpemU/OiBudW1iZXIgfTtcbmV4cG9ydCBjb25zdCBEb3duQ2hldnJvbiA9IChwcm9wczogRG93bkNoZXZyb25Qcm9wcykgPT4gKFxuICA8U3ZnIHNpemU9ezIwfSB7Li4ucHJvcHN9PlxuICAgIDxwYXRoIGQ9XCJNNC41MTYgNy41NDhjMC40MzYtMC40NDYgMS4wNDMtMC40ODEgMS41NzYgMGwzLjkwOCAzLjc0NyAzLjkwOC0zLjc0N2MwLjUzMy0wLjQ4MSAxLjE0MS0wLjQ0NiAxLjU3NCAwIDAuNDM2IDAuNDQ1IDAuNDA4IDEuMTk3IDAgMS42MTUtMC40MDYgMC40MTgtNC42OTUgNC41MDItNC42OTUgNC41MDItMC4yMTcgMC4yMjMtMC41MDIgMC4zMzUtMC43ODcgMC4zMzVzLTAuNTctMC4xMTItMC43ODktMC4zMzVjMCAwLTQuMjg3LTQuMDg0LTQuNjk1LTQuNTAycy0wLjQzNi0xLjE3IDAtMS42MTV6XCIgLz5cbiAgPC9Tdmc+XG4pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERyb3Bkb3duICYgQ2xlYXIgQnV0dG9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcGRvd25JbmRpY2F0b3JQcm9wczxcbiAgT3B0aW9uID0gdW5rbm93bixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+ID0gR3JvdXBCYXNlPE9wdGlvbj5cbj4gZXh0ZW5kcyBDb21tb25Qcm9wc0FuZENsYXNzTmFtZTxPcHRpb24sIElzTXVsdGksIEdyb3VwPiB7XG4gIC8qKiBUaGUgY2hpbGRyZW4gdG8gYmUgcmVuZGVyZWQgaW5zaWRlIHRoZSBpbmRpY2F0b3IuICovXG4gIGNoaWxkcmVuPzogUmVhY3ROb2RlO1xuICAvKiogUHJvcHMgdGhhdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUgY2hpbGRyZW4uICovXG4gIGlubmVyUHJvcHM6IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snZGl2J107XG4gIC8qKiBUaGUgZm9jdXNlZCBzdGF0ZSBvZiB0aGUgc2VsZWN0LiAqL1xuICBpc0ZvY3VzZWQ6IGJvb2xlYW47XG4gIGlzRGlzYWJsZWQ6IGJvb2xlYW47XG59XG5cbmNvbnN0IGJhc2VDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oe1xuICBpc0ZvY3VzZWQsXG4gIHRoZW1lOiB7XG4gICAgc3BhY2luZzogeyBiYXNlVW5pdCB9LFxuICAgIGNvbG9ycyxcbiAgfSxcbn06XG4gIHwgRHJvcGRvd25JbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuICB8IENsZWFySW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD4pOiBDU1NPYmplY3RXaXRoTGFiZWwgPT4gKHtcbiAgbGFiZWw6ICdpbmRpY2F0b3JDb250YWluZXInLFxuICBjb2xvcjogaXNGb2N1c2VkID8gY29sb3JzLm5ldXRyYWw2MCA6IGNvbG9ycy5uZXV0cmFsMjAsXG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgcGFkZGluZzogYmFzZVVuaXQgKiAyLFxuICB0cmFuc2l0aW9uOiAnY29sb3IgMTUwbXMnLFxuXG4gICc6aG92ZXInOiB7XG4gICAgY29sb3I6IGlzRm9jdXNlZCA/IGNvbG9ycy5uZXV0cmFsODAgOiBjb2xvcnMubmV1dHJhbDQwLFxuICB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBkcm9wZG93bkluZGljYXRvckNTUyA9IGJhc2VDU1M7XG5leHBvcnQgY29uc3QgRHJvcGRvd25JbmRpY2F0b3IgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHByb3BzOiBEcm9wZG93bkluZGljYXRvclByb3BzPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+XG4pID0+IHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBjeCwgZ2V0U3R5bGVzLCBpbm5lclByb3BzIH0gPSBwcm9wcztcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjc3M9e2dldFN0eWxlcygnZHJvcGRvd25JbmRpY2F0b3InLCBwcm9wcyl9XG4gICAgICBjbGFzc05hbWU9e2N4KFxuICAgICAgICB7XG4gICAgICAgICAgaW5kaWNhdG9yOiB0cnVlLFxuICAgICAgICAgICdkcm9wZG93bi1pbmRpY2F0b3InOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgICl9XG4gICAgICB7Li4uaW5uZXJQcm9wc31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW4gfHwgPERvd25DaGV2cm9uIC8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBDbGVhckluZGljYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgLyoqIFRoZSBjaGlsZHJlbiB0byBiZSByZW5kZXJlZCBpbnNpZGUgdGhlIGluZGljYXRvci4gKi9cbiAgY2hpbGRyZW4/OiBSZWFjdE5vZGU7XG4gIC8qKiBQcm9wcyB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBjaGlsZHJlbi4gKi9cbiAgaW5uZXJQcm9wczogSlNYLkludHJpbnNpY0VsZW1lbnRzWydkaXYnXTtcbiAgLyoqIFRoZSBmb2N1c2VkIHN0YXRlIG9mIHRoZSBzZWxlY3QuICovXG4gIGlzRm9jdXNlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IGNsZWFySW5kaWNhdG9yQ1NTID0gYmFzZUNTUztcbmV4cG9ydCBjb25zdCBDbGVhckluZGljYXRvciA9IDxcbiAgT3B0aW9uLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbixcbiAgR3JvdXAgZXh0ZW5kcyBHcm91cEJhc2U8T3B0aW9uPlxuPihcbiAgcHJvcHM6IENsZWFySW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbikgPT4ge1xuICBjb25zdCB7IGNoaWxkcmVuLCBjbGFzc05hbWUsIGN4LCBnZXRTdHlsZXMsIGlubmVyUHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNzcz17Z2V0U3R5bGVzKCdjbGVhckluZGljYXRvcicsIHByb3BzKX1cbiAgICAgIGNsYXNzTmFtZT17Y3goXG4gICAgICAgIHtcbiAgICAgICAgICBpbmRpY2F0b3I6IHRydWUsXG4gICAgICAgICAgJ2NsZWFyLWluZGljYXRvcic6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZVxuICAgICAgKX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbiB8fCA8Q3Jvc3NJY29uIC8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTZXBhcmF0b3Jcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIEluZGljYXRvclNlcGFyYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgaXNEaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpbm5lclByb3BzPzogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzcGFuJ107XG59XG5cbmV4cG9ydCBjb25zdCBpbmRpY2F0b3JTZXBhcmF0b3JDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oe1xuICBpc0Rpc2FibGVkLFxuICB0aGVtZToge1xuICAgIHNwYWNpbmc6IHsgYmFzZVVuaXQgfSxcbiAgICBjb2xvcnMsXG4gIH0sXG59OiBJbmRpY2F0b3JTZXBhcmF0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPik6IENTU09iamVjdFdpdGhMYWJlbCA9PiAoe1xuICBsYWJlbDogJ2luZGljYXRvclNlcGFyYXRvcicsXG4gIGFsaWduU2VsZjogJ3N0cmV0Y2gnLFxuICBiYWNrZ3JvdW5kQ29sb3I6IGlzRGlzYWJsZWQgPyBjb2xvcnMubmV1dHJhbDEwIDogY29sb3JzLm5ldXRyYWwyMCxcbiAgbWFyZ2luQm90dG9tOiBiYXNlVW5pdCAqIDIsXG4gIG1hcmdpblRvcDogYmFzZVVuaXQgKiAyLFxuICB3aWR0aDogMSxcbn0pO1xuXG5leHBvcnQgY29uc3QgSW5kaWNhdG9yU2VwYXJhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICBwcm9wczogSW5kaWNhdG9yU2VwYXJhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbikgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZSwgY3gsIGdldFN0eWxlcywgaW5uZXJQcm9wcyB9ID0gcHJvcHM7XG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgICAgY3NzPXtnZXRTdHlsZXMoJ2luZGljYXRvclNlcGFyYXRvcicsIHByb3BzKX1cbiAgICAgIGNsYXNzTmFtZT17Y3goeyAnaW5kaWNhdG9yLXNlcGFyYXRvcic6IHRydWUgfSwgY2xhc3NOYW1lKX1cbiAgICAvPlxuICApO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBMb2FkaW5nXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgbG9hZGluZ0RvdEFuaW1hdGlvbnMgPSBrZXlmcmFtZXNgXG4gIDAlLCA4MCUsIDEwMCUgeyBvcGFjaXR5OiAwOyB9XG4gIDQwJSB7IG9wYWNpdHk6IDE7IH1cbmA7XG5cbmV4cG9ydCBjb25zdCBsb2FkaW5nSW5kaWNhdG9yQ1NTID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KHtcbiAgaXNGb2N1c2VkLFxuICBzaXplLFxuICB0aGVtZToge1xuICAgIGNvbG9ycyxcbiAgICBzcGFjaW5nOiB7IGJhc2VVbml0IH0sXG4gIH0sXG59OiBMb2FkaW5nSW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD4pOiBDU1NPYmplY3RXaXRoTGFiZWwgPT4gKHtcbiAgbGFiZWw6ICdsb2FkaW5nSW5kaWNhdG9yJyxcbiAgY29sb3I6IGlzRm9jdXNlZCA/IGNvbG9ycy5uZXV0cmFsNjAgOiBjb2xvcnMubmV1dHJhbDIwLFxuICBkaXNwbGF5OiAnZmxleCcsXG4gIHBhZGRpbmc6IGJhc2VVbml0ICogMixcbiAgdHJhbnNpdGlvbjogJ2NvbG9yIDE1MG1zJyxcbiAgYWxpZ25TZWxmOiAnY2VudGVyJyxcbiAgZm9udFNpemU6IHNpemUsXG4gIGxpbmVIZWlnaHQ6IDEsXG4gIG1hcmdpblJpZ2h0OiBzaXplLFxuICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcbn0pO1xuXG5pbnRlcmZhY2UgTG9hZGluZ0RvdFByb3BzIHtcbiAgZGVsYXk6IG51bWJlcjtcbiAgb2Zmc2V0OiBib29sZWFuO1xufVxuY29uc3QgTG9hZGluZ0RvdCA9ICh7IGRlbGF5LCBvZmZzZXQgfTogTG9hZGluZ0RvdFByb3BzKSA9PiAoXG4gIDxzcGFuXG4gICAgY3NzPXt7XG4gICAgICBhbmltYXRpb246IGAke2xvYWRpbmdEb3RBbmltYXRpb25zfSAxcyBlYXNlLWluLW91dCAke2RlbGF5fW1zIGluZmluaXRlO2AsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdjdXJyZW50Q29sb3InLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnMWVtJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgbWFyZ2luTGVmdDogb2Zmc2V0ID8gJzFlbScgOiB1bmRlZmluZWQsXG4gICAgICBoZWlnaHQ6ICcxZW0nLFxuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICB3aWR0aDogJzFlbScsXG4gICAgfX1cbiAgLz5cbik7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGluZ0luZGljYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgLyoqIFByb3BzIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGNoaWxkcmVuLiAqL1xuICBpbm5lclByb3BzOiBKU1guSW50cmluc2ljRWxlbWVudHNbJ2RpdiddO1xuICAvKiogVGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIHNlbGVjdC4gKi9cbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpc0Rpc2FibGVkOiBib29sZWFuO1xuICAvKiogU2V0IHNpemUgb2YgdGhlIGNvbnRhaW5lci4gKi9cbiAgc2l6ZTogbnVtYmVyO1xufVxuZXhwb3J0IGNvbnN0IExvYWRpbmdJbmRpY2F0b3IgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHByb3BzOiBMb2FkaW5nSW5kaWNhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD5cbikgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZSwgY3gsIGdldFN0eWxlcywgaW5uZXJQcm9wcywgaXNSdGwgfSA9IHByb3BzO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY3NzPXtnZXRTdHlsZXMoJ2xvYWRpbmdJbmRpY2F0b3InLCBwcm9wcyl9XG4gICAgICBjbGFzc05hbWU9e2N4KFxuICAgICAgICB7XG4gICAgICAgICAgaW5kaWNhdG9yOiB0cnVlLFxuICAgICAgICAgICdsb2FkaW5nLWluZGljYXRvcic6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZVxuICAgICAgKX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIDxMb2FkaW5nRG90IGRlbGF5PXswfSBvZmZzZXQ9e2lzUnRsfSAvPlxuICAgICAgPExvYWRpbmdEb3QgZGVsYXk9ezE2MH0gb2Zmc2V0IC8+XG4gICAgICA8TG9hZGluZ0RvdCBkZWxheT17MzIwfSBvZmZzZXQ9eyFpc1J0bH0gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5Mb2FkaW5nSW5kaWNhdG9yLmRlZmF1bHRQcm9wcyA9IHsgc2l6ZTogNCB9O1xuIl19 */"
        ),
    });
};

var LoadingIndicator = function LoadingIndicator(props) {
    var className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        innerProps = props.innerProps,
        isRtl = props.isRtl;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("loadingIndicator", props),
                className: cx(
                    {
                        indicator: true,
                        "loading-indicator": true,
                    },
                    className
                ),
            },
            innerProps
        ),
        jsx(LoadingDot, {
            delay: 0,
            offset: isRtl,
        }),
        jsx(LoadingDot, {
            delay: 160,
            offset: true,
        }),
        jsx(LoadingDot, {
            delay: 320,
            offset: !isRtl,
        })
    );
};
LoadingIndicator.defaultProps = {
    size: 4,
};

var css$1 = function css(_ref) {
    var isDisabled = _ref.isDisabled,
        isFocused = _ref.isFocused,
        _ref$theme = _ref.theme,
        colors = _ref$theme.colors,
        borderRadius = _ref$theme.borderRadius,
        spacing = _ref$theme.spacing;
    return {
        label: "control",
        alignItems: "center",
        backgroundColor: isDisabled ? colors.neutral5 : colors.neutral0,
        borderColor: isDisabled ? colors.neutral10 : isFocused ? colors.primary : colors.neutral20,
        borderRadius: borderRadius,
        borderStyle: "solid",
        borderWidth: 1,
        boxShadow: isFocused ? "0 0 0 1px ".concat(colors.primary) : undefined,
        cursor: "default",
        display: "flex",
        flexWrap: "wrap",
        justifyContent: "space-between",
        minHeight: spacing.controlHeight,
        outline: "0 !important",
        position: "relative",
        transition: "all 100ms",
        "&:hover": {
            borderColor: isFocused ? colors.primary : colors.neutral30,
        },
    };
};

var Control = function Control(props) {
    var children = props.children,
        cx = props.cx,
        getStyles = props.getStyles,
        className = props.className,
        isDisabled = props.isDisabled,
        isFocused = props.isFocused,
        innerRef = props.innerRef,
        innerProps = props.innerProps,
        menuIsOpen = props.menuIsOpen;
    return jsx(
        "div",
        _extends(
            {
                ref: innerRef,
                css: getStyles("control", props),
                className: cx(
                    {
                        control: true,
                        "control--is-disabled": isDisabled,
                        "control--is-focused": isFocused,
                        "control--menu-is-open": menuIsOpen,
                    },
                    className
                ),
            },
            innerProps
        ),
        children
    );
};

var _excluded$1$1 = ["data"];
var groupCSS = function groupCSS(_ref) {
    var spacing = _ref.theme.spacing;
    return {
        paddingBottom: spacing.baseUnit * 2,
        paddingTop: spacing.baseUnit * 2,
    };
};

var Group = function Group(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        Heading = props.Heading,
        headingProps = props.headingProps,
        innerProps = props.innerProps,
        label = props.label,
        theme = props.theme,
        selectProps = props.selectProps;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("group", props),
                className: cx(
                    {
                        group: true,
                    },
                    className
                ),
            },
            innerProps
        ),
        jsx(
            Heading,
            _extends({}, headingProps, {
                selectProps: selectProps,
                theme: theme,
                getStyles: getStyles,
                cx: cx,
            }),
            label
        ),
        jsx("div", null, children)
    );
};

var groupHeadingCSS = function groupHeadingCSS(_ref2) {
    var spacing = _ref2.theme.spacing;
    return {
        label: "group",
        color: "#999",
        cursor: "default",
        display: "block",
        fontSize: "75%",
        fontWeight: 500,
        marginBottom: "0.25em",
        paddingLeft: spacing.baseUnit * 3,
        paddingRight: spacing.baseUnit * 3,
        textTransform: "uppercase",
    };
};
var GroupHeading = function GroupHeading(props) {
    var getStyles = props.getStyles,
        cx = props.cx,
        className = props.className;

    var _cleanCommonProps = cleanCommonProps(props);
    _cleanCommonProps.data;
    var innerProps = _objectWithoutProperties(_cleanCommonProps, _excluded$1$1);

    return jsx(
        "div",
        _extends(
            {
                css: getStyles("groupHeading", props),
                className: cx(
                    {
                        "group-heading": true,
                    },
                    className
                ),
            },
            innerProps
        )
    );
};

var _excluded$4 = ["innerRef", "isDisabled", "isHidden", "inputClassName"];
var inputCSS = function inputCSS(_ref) {
    var isDisabled = _ref.isDisabled,
        value = _ref.value,
        _ref$theme = _ref.theme,
        spacing = _ref$theme.spacing,
        colors = _ref$theme.colors;
    return _objectSpread2(
        {
            margin: spacing.baseUnit / 2,
            paddingBottom: spacing.baseUnit / 2,
            paddingTop: spacing.baseUnit / 2,
            visibility: isDisabled ? "hidden" : "visible",
            color: colors.neutral80,
            // force css to recompute when value change due to @emotion bug.
            // We can remove it whenever the bug is fixed.
            transform: value ? "translateZ(0)" : "",
        },
        containerStyle
    );
};
var spacingStyle = {
    gridArea: "1 / 2",
    font: "inherit",
    minWidth: "2px",
    border: 0,
    margin: 0,
    outline: 0,
    padding: 0,
};
var containerStyle = {
    flex: "1 1 auto",
    display: "inline-grid",
    gridArea: "1 / 1 / 2 / 3",
    gridTemplateColumns: "0 min-content",
    "&:after": _objectSpread2(
        {
            content: 'attr(data-value) " "',
            visibility: "hidden",
            whiteSpace: "pre",
        },
        spacingStyle
    ),
};

var inputStyle = function inputStyle(isHidden) {
    return _objectSpread2(
        {
            label: "input",
            color: "inherit",
            background: 0,
            opacity: isHidden ? 0 : 1,
            width: "100%",
        },
        spacingStyle
    );
};

var Input = function Input(props) {
    var className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        value = props.value;

    var _cleanCommonProps = cleanCommonProps(props),
        innerRef = _cleanCommonProps.innerRef,
        isDisabled = _cleanCommonProps.isDisabled,
        isHidden = _cleanCommonProps.isHidden,
        inputClassName = _cleanCommonProps.inputClassName,
        innerProps = _objectWithoutProperties(_cleanCommonProps, _excluded$4);

    return jsx(
        "div",
        {
            className: cx(
                {
                    "input-container": true,
                },
                className
            ),
            css: getStyles("input", props),
            "data-value": value || "",
        },
        jsx(
            "input",
            _extends(
                {
                    className: cx(
                        {
                            input: true,
                        },
                        inputClassName
                    ),
                    ref: innerRef,
                    style: inputStyle(isHidden),
                    disabled: isDisabled,
                },
                innerProps
            )
        )
    );
};

var multiValueCSS = function multiValueCSS(_ref) {
    var _ref$theme = _ref.theme,
        spacing = _ref$theme.spacing,
        borderRadius = _ref$theme.borderRadius,
        colors = _ref$theme.colors;
    return {
        label: "multiValue",
        backgroundColor: colors.neutral10,
        borderRadius: borderRadius / 2,
        display: "flex",
        margin: spacing.baseUnit / 2,
        minWidth: 0, // resolves flex/text-overflow bug
    };
};
var multiValueLabelCSS = function multiValueLabelCSS(_ref2) {
    var _ref2$theme = _ref2.theme,
        borderRadius = _ref2$theme.borderRadius,
        colors = _ref2$theme.colors,
        cropWithEllipsis = _ref2.cropWithEllipsis;
    return {
        borderRadius: borderRadius / 2,
        color: colors.neutral80,
        fontSize: "85%",
        overflow: "hidden",
        padding: 3,
        paddingLeft: 6,
        textOverflow: cropWithEllipsis || cropWithEllipsis === undefined ? "ellipsis" : undefined,
        whiteSpace: "nowrap",
    };
};
var multiValueRemoveCSS = function multiValueRemoveCSS(_ref3) {
    var _ref3$theme = _ref3.theme,
        spacing = _ref3$theme.spacing,
        borderRadius = _ref3$theme.borderRadius,
        colors = _ref3$theme.colors,
        isFocused = _ref3.isFocused;
    return {
        alignItems: "center",
        borderRadius: borderRadius / 2,
        backgroundColor: isFocused ? colors.dangerLight : undefined,
        display: "flex",
        paddingLeft: spacing.baseUnit,
        paddingRight: spacing.baseUnit,
        ":hover": {
            backgroundColor: colors.dangerLight,
            color: colors.danger,
        },
    };
};
var MultiValueGeneric = function MultiValueGeneric(_ref4) {
    var children = _ref4.children,
        innerProps = _ref4.innerProps;
    return jsx("div", innerProps, children);
};
var MultiValueContainer = MultiValueGeneric;
var MultiValueLabel = MultiValueGeneric;
function MultiValueRemove(_ref5) {
    var children = _ref5.children,
        innerProps = _ref5.innerProps;
    return jsx(
        "div",
        _extends(
            {
                role: "button",
            },
            innerProps
        ),
        children ||
            jsx(CrossIcon, {
                size: 14,
            })
    );
}

var MultiValue = function MultiValue(props) {
    var children = props.children,
        className = props.className,
        components = props.components,
        cx = props.cx,
        data = props.data,
        getStyles = props.getStyles,
        innerProps = props.innerProps,
        isDisabled = props.isDisabled,
        removeProps = props.removeProps,
        selectProps = props.selectProps;
    var Container = components.Container,
        Label = components.Label,
        Remove = components.Remove;
    return jsx(ClassNames, null, function (_ref6) {
        var css = _ref6.css,
            emotionCx = _ref6.cx;
        return jsx(
            Container,
            {
                data: data,
                innerProps: _objectSpread2(
                    {
                        className: emotionCx(
                            css(getStyles("multiValue", props)),
                            cx(
                                {
                                    "multi-value": true,
                                    "multi-value--is-disabled": isDisabled,
                                },
                                className
                            )
                        ),
                    },
                    innerProps
                ),
                selectProps: selectProps,
            },
            jsx(
                Label,
                {
                    data: data,
                    innerProps: {
                        className: emotionCx(
                            css(getStyles("multiValueLabel", props)),
                            cx(
                                {
                                    "multi-value__label": true,
                                },
                                className
                            )
                        ),
                    },
                    selectProps: selectProps,
                },
                children
            ),
            jsx(Remove, {
                data: data,
                innerProps: _objectSpread2(
                    {
                        className: emotionCx(
                            css(getStyles("multiValueRemove", props)),
                            cx(
                                {
                                    "multi-value__remove": true,
                                },
                                className
                            )
                        ),
                        "aria-label": "Remove ".concat(children || "option"),
                    },
                    removeProps
                ),
                selectProps: selectProps,
            })
        );
    });
};

var optionCSS = function optionCSS(_ref) {
    var isDisabled = _ref.isDisabled,
        isFocused = _ref.isFocused,
        isSelected = _ref.isSelected,
        _ref$theme = _ref.theme,
        spacing = _ref$theme.spacing,
        colors = _ref$theme.colors;
    return {
        label: "option",
        backgroundColor: isSelected ? colors.primary : isFocused ? colors.primary25 : "transparent",
        color: isDisabled ? colors.neutral20 : isSelected ? colors.neutral0 : "inherit",
        cursor: "default",
        display: "block",
        fontSize: "inherit",
        padding: "".concat(spacing.baseUnit * 2, "px ").concat(spacing.baseUnit * 3, "px"),
        width: "100%",
        userSelect: "none",
        WebkitTapHighlightColor: "rgba(0, 0, 0, 0)",
        // provide some affordance on touch devices
        ":active": {
            backgroundColor: !isDisabled ? (isSelected ? colors.primary : colors.primary50) : undefined,
        },
    };
};

var Option = function Option(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        isDisabled = props.isDisabled,
        isFocused = props.isFocused,
        isSelected = props.isSelected,
        innerRef = props.innerRef,
        innerProps = props.innerProps;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("option", props),
                className: cx(
                    {
                        option: true,
                        "option--is-disabled": isDisabled,
                        "option--is-focused": isFocused,
                        "option--is-selected": isSelected,
                    },
                    className
                ),
                ref: innerRef,
                "aria-disabled": isDisabled,
            },
            innerProps
        ),
        children
    );
};

var placeholderCSS = function placeholderCSS(_ref) {
    var _ref$theme = _ref.theme,
        spacing = _ref$theme.spacing,
        colors = _ref$theme.colors;
    return {
        label: "placeholder",
        color: colors.neutral50,
        gridArea: "1 / 1 / 2 / 3",
        marginLeft: spacing.baseUnit / 2,
        marginRight: spacing.baseUnit / 2,
    };
};

var Placeholder = function Placeholder(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        innerProps = props.innerProps;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("placeholder", props),
                className: cx(
                    {
                        placeholder: true,
                    },
                    className
                ),
            },
            innerProps
        ),
        children
    );
};

var css = function css(_ref) {
    var isDisabled = _ref.isDisabled,
        _ref$theme = _ref.theme,
        spacing = _ref$theme.spacing,
        colors = _ref$theme.colors;
    return {
        label: "singleValue",
        color: isDisabled ? colors.neutral40 : colors.neutral80,
        gridArea: "1 / 1 / 2 / 3",
        marginLeft: spacing.baseUnit / 2,
        marginRight: spacing.baseUnit / 2,
        maxWidth: "100%",
        overflow: "hidden",
        textOverflow: "ellipsis",
        whiteSpace: "nowrap",
    };
};

var SingleValue = function SingleValue(props) {
    var children = props.children,
        className = props.className,
        cx = props.cx,
        getStyles = props.getStyles,
        isDisabled = props.isDisabled,
        innerProps = props.innerProps;
    return jsx(
        "div",
        _extends(
            {
                css: getStyles("singleValue", props),
                className: cx(
                    {
                        "single-value": true,
                        "single-value--is-disabled": isDisabled,
                    },
                    className
                ),
            },
            innerProps
        ),
        children
    );
};

var components = {
    ClearIndicator: ClearIndicator,
    Control: Control,
    DropdownIndicator: DropdownIndicator,
    DownChevron: DownChevron,
    CrossIcon: CrossIcon,
    Group: Group,
    GroupHeading: GroupHeading,
    IndicatorsContainer: IndicatorsContainer,
    IndicatorSeparator: IndicatorSeparator,
    Input: Input,
    LoadingIndicator: LoadingIndicator,
    Menu: Menu,
    MenuList: MenuList,
    MenuPortal: MenuPortal,
    LoadingMessage: LoadingMessage,
    NoOptionsMessage: NoOptionsMessage,
    MultiValue: MultiValue,
    MultiValueContainer: MultiValueContainer,
    MultiValueLabel: MultiValueLabel,
    MultiValueRemove: MultiValueRemove,
    Option: Option,
    Placeholder: Placeholder,
    SelectContainer: SelectContainer,
    SingleValue: SingleValue,
    ValueContainer: ValueContainer,
};
var defaultComponents = function defaultComponents(props) {
    return _objectSpread2(_objectSpread2({}, components), props.components);
};

function _arrayWithHoles(arr) {
    if (Array.isArray(arr)) return arr;
}

function _iterableToArrayLimit(arr, i) {
    var _i = arr == null ? null : (typeof Symbol !== "undefined" && arr[Symbol.iterator]) || arr["@@iterator"];

    if (_i == null) return;
    var _arr = [];
    var _n = true;
    var _d = false;

    var _s, _e;

    try {
        for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {
            _arr.push(_s.value);

            if (i && _arr.length === i) break;
        }
    } catch (err) {
        _d = true;
        _e = err;
    } finally {
        try {
            if (!_n && _i["return"] != null) _i["return"]();
        } finally {
            if (_d) throw _e;
        }
    }

    return _arr;
}

function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) {
        arr2[i] = arr[i];
    }

    return arr2;
}

function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _nonIterableRest() {
    throw new TypeError(
        "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
    );
}

function _slicedToArray(arr, i) {
    return (
        _arrayWithHoles(arr) ||
        _iterableToArrayLimit(arr, i) ||
        _unsupportedIterableToArray(arr, i) ||
        _nonIterableRest()
    );
}

var _excluded$1 = [
    "defaultInputValue",
    "defaultMenuIsOpen",
    "defaultValue",
    "inputValue",
    "menuIsOpen",
    "onChange",
    "onInputChange",
    "onMenuClose",
    "onMenuOpen",
    "value",
];
function useStateManager(_ref) {
    var _ref$defaultInputValu = _ref.defaultInputValue,
        defaultInputValue = _ref$defaultInputValu === void 0 ? "" : _ref$defaultInputValu,
        _ref$defaultMenuIsOpe = _ref.defaultMenuIsOpen,
        defaultMenuIsOpen = _ref$defaultMenuIsOpe === void 0 ? false : _ref$defaultMenuIsOpe,
        _ref$defaultValue = _ref.defaultValue,
        defaultValue = _ref$defaultValue === void 0 ? null : _ref$defaultValue,
        propsInputValue = _ref.inputValue,
        propsMenuIsOpen = _ref.menuIsOpen,
        propsOnChange = _ref.onChange,
        propsOnInputChange = _ref.onInputChange,
        propsOnMenuClose = _ref.onMenuClose,
        propsOnMenuOpen = _ref.onMenuOpen,
        propsValue = _ref.value,
        restSelectProps = _objectWithoutProperties(_ref, _excluded$1);

    var _useState = React.useState(propsInputValue !== undefined ? propsInputValue : defaultInputValue),
        _useState2 = _slicedToArray(_useState, 2),
        stateInputValue = _useState2[0],
        setStateInputValue = _useState2[1];

    var _useState3 = React.useState(propsMenuIsOpen !== undefined ? propsMenuIsOpen : defaultMenuIsOpen),
        _useState4 = _slicedToArray(_useState3, 2),
        stateMenuIsOpen = _useState4[0],
        setStateMenuIsOpen = _useState4[1];

    var _useState5 = React.useState(propsValue !== undefined ? propsValue : defaultValue),
        _useState6 = _slicedToArray(_useState5, 2),
        stateValue = _useState6[0],
        setStateValue = _useState6[1];

    var onChange = React.useCallback(
        function (value, actionMeta) {
            if (typeof propsOnChange === "function") {
                propsOnChange(value, actionMeta);
            }

            setStateValue(value);
        },
        [propsOnChange]
    );
    var onInputChange = React.useCallback(
        function (value, actionMeta) {
            var newValue;

            if (typeof propsOnInputChange === "function") {
                newValue = propsOnInputChange(value, actionMeta);
            }

            setStateInputValue(newValue !== undefined ? newValue : value);
        },
        [propsOnInputChange]
    );
    var onMenuOpen = React.useCallback(
        function () {
            if (typeof propsOnMenuOpen === "function") {
                propsOnMenuOpen();
            }

            setStateMenuIsOpen(true);
        },
        [propsOnMenuOpen]
    );
    var onMenuClose = React.useCallback(
        function () {
            if (typeof propsOnMenuClose === "function") {
                propsOnMenuClose();
            }

            setStateMenuIsOpen(false);
        },
        [propsOnMenuClose]
    );
    var inputValue = propsInputValue !== undefined ? propsInputValue : stateInputValue;
    var menuIsOpen = propsMenuIsOpen !== undefined ? propsMenuIsOpen : stateMenuIsOpen;
    var value = propsValue !== undefined ? propsValue : stateValue;
    return _objectSpread2(
        _objectSpread2({}, restSelectProps),
        {},
        {
            inputValue: inputValue,
            menuIsOpen: menuIsOpen,
            onChange: onChange,
            onInputChange: onInputChange,
            onMenuClose: onMenuClose,
            onMenuOpen: onMenuOpen,
            value: value,
        }
    );
}

function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _iterableToArray(iter) {
    if ((typeof Symbol !== "undefined" && iter[Symbol.iterator] != null) || iter["@@iterator"] != null)
        return Array.from(iter);
}

function _nonIterableSpread() {
    throw new TypeError(
        "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
    );
}

function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

var safeIsNaN =
    Number.isNaN ||
    function ponyfill(value) {
        return typeof value === "number" && value !== value;
    };
function isEqual(first, second) {
    if (first === second) {
        return true;
    }
    if (safeIsNaN(first) && safeIsNaN(second)) {
        return true;
    }
    return false;
}
function areInputsEqual(newInputs, lastInputs) {
    if (newInputs.length !== lastInputs.length) {
        return false;
    }
    for (var i = 0; i < newInputs.length; i++) {
        if (!isEqual(newInputs[i], lastInputs[i])) {
            return false;
        }
    }
    return true;
}

function memoizeOne(resultFn, isEqual) {
    if (isEqual === void 0) {
        isEqual = areInputsEqual;
    }
    var lastThis;
    var lastArgs = [];
    var lastResult;
    var calledOnce = false;
    function memoized() {
        var newArgs = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            newArgs[_i] = arguments[_i];
        }
        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {
            return lastResult;
        }
        lastResult = resultFn.apply(this, newArgs);
        calledOnce = true;
        lastThis = this;
        lastArgs = newArgs;
        return lastResult;
    }
    return memoized;
}

function _EMOTION_STRINGIFIED_CSS_ERROR__$1() {
    return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}

var _ref =
    process.env.NODE_ENV === "production"
        ? {
              name: "7pg0cj-a11yText",
              styles: "label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap",
          }
        : {
              name: "1f43avz-a11yText-A11yText",
              styles: "label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;label:A11yText;",
              map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkExMXlUZXh0LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFNSSIsImZpbGUiOiJBMTF5VGV4dC50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IGpzeCB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcblxuLy8gQXNzaXN0aXZlIHRleHQgdG8gZGVzY3JpYmUgdmlzdWFsIGVsZW1lbnRzLiBIaWRkZW4gZm9yIHNpZ2h0ZWQgdXNlcnMuXG5jb25zdCBBMTF5VGV4dCA9IChwcm9wczogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzcGFuJ10pID0+IChcbiAgPHNwYW5cbiAgICBjc3M9e3tcbiAgICAgIGxhYmVsOiAnYTExeVRleHQnLFxuICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgYm9yZGVyOiAwLFxuICAgICAgY2xpcDogJ3JlY3QoMXB4LCAxcHgsIDFweCwgMXB4KScsXG4gICAgICBoZWlnaHQ6IDEsXG4gICAgICB3aWR0aDogMSxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgIH19XG4gICAgey4uLnByb3BzfVxuICAvPlxuKTtcblxuZXhwb3J0IGRlZmF1bHQgQTExeVRleHQ7XG4iXX0= */",
              toString: _EMOTION_STRINGIFIED_CSS_ERROR__$1,
          };

var A11yText = function A11yText(props) {
    return jsx(
        "span",
        _extends(
            {
                css: _ref,
            },
            props
        )
    );
};

var defaultAriaLiveMessages = {
    guidance: function guidance(props) {
        var isSearchable = props.isSearchable,
            isMulti = props.isMulti,
            isDisabled = props.isDisabled,
            tabSelectsValue = props.tabSelectsValue,
            context = props.context;

        switch (context) {
            case "menu":
                return "Use Up and Down to choose options"
                    .concat(
                        isDisabled ? "" : ", press Enter to select the currently focused option",
                        ", press Escape to exit the menu"
                    )
                    .concat(tabSelectsValue ? ", press Tab to select the option and exit the menu" : "", ".");

            case "input":
                return ""
                    .concat(props["aria-label"] || "Select", " is focused ")
                    .concat(isSearchable ? ",type to refine list" : "", ", press Down to open the menu, ")
                    .concat(isMulti ? " press left to focus selected values" : "");

            case "value":
                return "Use left and right to toggle between focused values, press Backspace to remove the currently focused value";

            default:
                return "";
        }
    },
    onChange: function onChange(props) {
        var action = props.action,
            _props$label = props.label,
            label = _props$label === void 0 ? "" : _props$label,
            labels = props.labels,
            isDisabled = props.isDisabled;

        switch (action) {
            case "deselect-option":
            case "pop-value":
            case "remove-value":
                return "option ".concat(label, ", deselected.");

            case "clear":
                return "All selected options have been cleared.";

            case "initial-input-focus":
                return "option".concat(labels.length > 1 ? "s" : "", " ").concat(labels.join(","), ", selected.");

            case "select-option":
                return isDisabled
                    ? "option ".concat(label, " is disabled. Select another option.")
                    : "option ".concat(label, ", selected.");

            default:
                return "";
        }
    },
    onFocus: function onFocus(props) {
        var context = props.context,
            focused = props.focused,
            options = props.options,
            _props$label2 = props.label,
            label = _props$label2 === void 0 ? "" : _props$label2,
            selectValue = props.selectValue,
            isDisabled = props.isDisabled,
            isSelected = props.isSelected;

        var getArrayIndex = function getArrayIndex(arr, item) {
            return arr && arr.length ? "".concat(arr.indexOf(item) + 1, " of ").concat(arr.length) : "";
        };

        if (context === "value" && selectValue) {
            return "value ".concat(label, " focused, ").concat(getArrayIndex(selectValue, focused), ".");
        }

        if (context === "menu") {
            var disabled = isDisabled ? " disabled" : "";
            var status = "".concat(isSelected ? "selected" : "focused").concat(disabled);
            return "option ".concat(label, " ").concat(status, ", ").concat(getArrayIndex(options, focused), ".");
        }

        return "";
    },
    onFilter: function onFilter(props) {
        var inputValue = props.inputValue,
            resultsMessage = props.resultsMessage;
        return "".concat(resultsMessage).concat(inputValue ? " for search term " + inputValue : "", ".");
    },
};

var LiveRegion = function LiveRegion(props) {
    var ariaSelection = props.ariaSelection,
        focusedOption = props.focusedOption,
        focusedValue = props.focusedValue,
        focusableOptions = props.focusableOptions,
        isFocused = props.isFocused,
        selectValue = props.selectValue,
        selectProps = props.selectProps,
        id = props.id;
    var ariaLiveMessages = selectProps.ariaLiveMessages,
        getOptionLabel = selectProps.getOptionLabel,
        inputValue = selectProps.inputValue,
        isMulti = selectProps.isMulti,
        isOptionDisabled = selectProps.isOptionDisabled,
        isSearchable = selectProps.isSearchable,
        menuIsOpen = selectProps.menuIsOpen,
        options = selectProps.options,
        screenReaderStatus = selectProps.screenReaderStatus,
        tabSelectsValue = selectProps.tabSelectsValue;
    var ariaLabel = selectProps["aria-label"];
    var ariaLive = selectProps["aria-live"]; // Update aria live message configuration when prop changes

    var messages = React.useMemo(
        function () {
            return _objectSpread2(_objectSpread2({}, defaultAriaLiveMessages), ariaLiveMessages || {});
        },
        [ariaLiveMessages]
    ); // Update aria live selected option when prop changes

    var ariaSelected = React.useMemo(
        function () {
            var message = "";

            if (ariaSelection && messages.onChange) {
                var option = ariaSelection.option,
                    selectedOptions = ariaSelection.options,
                    removedValue = ariaSelection.removedValue,
                    removedValues = ariaSelection.removedValues,
                    value = ariaSelection.value; // select-option when !isMulti does not return option so we assume selected option is value

                var asOption = function asOption(val) {
                    return !Array.isArray(val) ? val : null;
                }; // If there is just one item from the action then get its label

                var selected = removedValue || option || asOption(value);
                var label = selected ? getOptionLabel(selected) : ""; // If there are multiple items from the action then return an array of labels

                var multiSelected = selectedOptions || removedValues || undefined;
                var labels = multiSelected ? multiSelected.map(getOptionLabel) : [];

                var onChangeProps = _objectSpread2(
                    {
                        // multiSelected items are usually items that have already been selected
                        // or set by the user as a default value so we assume they are not disabled
                        isDisabled: selected && isOptionDisabled(selected, selectValue),
                        label: label,
                        labels: labels,
                    },
                    ariaSelection
                );

                message = messages.onChange(onChangeProps);
            }

            return message;
        },
        [ariaSelection, messages, isOptionDisabled, selectValue, getOptionLabel]
    );
    var ariaFocused = React.useMemo(
        function () {
            var focusMsg = "";
            var focused = focusedOption || focusedValue;
            var isSelected = !!(focusedOption && selectValue && selectValue.includes(focusedOption));

            if (focused && messages.onFocus) {
                var onFocusProps = {
                    focused: focused,
                    label: getOptionLabel(focused),
                    isDisabled: isOptionDisabled(focused, selectValue),
                    isSelected: isSelected,
                    options: options,
                    context: focused === focusedOption ? "menu" : "value",
                    selectValue: selectValue,
                };
                focusMsg = messages.onFocus(onFocusProps);
            }

            return focusMsg;
        },
        [focusedOption, focusedValue, getOptionLabel, isOptionDisabled, messages, options, selectValue]
    );
    var ariaResults = React.useMemo(
        function () {
            var resultsMsg = "";

            if (menuIsOpen && options.length && messages.onFilter) {
                var resultsMessage = screenReaderStatus({
                    count: focusableOptions.length,
                });
                resultsMsg = messages.onFilter({
                    inputValue: inputValue,
                    resultsMessage: resultsMessage,
                });
            }

            return resultsMsg;
        },
        [focusableOptions, inputValue, menuIsOpen, messages, options, screenReaderStatus]
    );
    var ariaGuidance = React.useMemo(
        function () {
            var guidanceMsg = "";

            if (messages.guidance) {
                var context = focusedValue ? "value" : menuIsOpen ? "menu" : "input";
                guidanceMsg = messages.guidance({
                    "aria-label": ariaLabel,
                    context: context,
                    isDisabled: focusedOption && isOptionDisabled(focusedOption, selectValue),
                    isMulti: isMulti,
                    isSearchable: isSearchable,
                    tabSelectsValue: tabSelectsValue,
                });
            }

            return guidanceMsg;
        },
        [
            ariaLabel,
            focusedOption,
            focusedValue,
            isMulti,
            isOptionDisabled,
            isSearchable,
            menuIsOpen,
            messages,
            selectValue,
            tabSelectsValue,
        ]
    );
    var ariaContext = "".concat(ariaFocused, " ").concat(ariaResults, " ").concat(ariaGuidance);
    var ScreenReaderText = jsx(
        React.Fragment,
        null,
        jsx(
            "span",
            {
                id: "aria-selection",
            },
            ariaSelected
        ),
        jsx(
            "span",
            {
                id: "aria-context",
            },
            ariaContext
        )
    );
    var isInitialFocus =
        (ariaSelection === null || ariaSelection === void 0 ? void 0 : ariaSelection.action) === "initial-input-focus";
    return jsx(
        React.Fragment,
        null,
        jsx(
            A11yText,
            {
                id: id,
            },
            isInitialFocus && ScreenReaderText
        ),
        jsx(
            A11yText,
            {
                "aria-live": ariaLive,
                "aria-atomic": "false",
                "aria-relevant": "additions text",
            },
            isFocused && !isInitialFocus && ScreenReaderText
        )
    );
};

var diacritics = [
    {
        base: "A",
        letters:
            "A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F",
    },
    {
        base: "AA",
        letters: "\uA732",
    },
    {
        base: "AE",
        letters: "\xC6\u01FC\u01E2",
    },
    {
        base: "AO",
        letters: "\uA734",
    },
    {
        base: "AU",
        letters: "\uA736",
    },
    {
        base: "AV",
        letters: "\uA738\uA73A",
    },
    {
        base: "AY",
        letters: "\uA73C",
    },
    {
        base: "B",
        letters: "B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181",
    },
    {
        base: "C",
        letters: "C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E",
    },
    {
        base: "D",
        letters: "D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779",
    },
    {
        base: "DZ",
        letters: "\u01F1\u01C4",
    },
    {
        base: "Dz",
        letters: "\u01F2\u01C5",
    },
    {
        base: "E",
        letters:
            "E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E",
    },
    {
        base: "F",
        letters: "F\u24BB\uFF26\u1E1E\u0191\uA77B",
    },
    {
        base: "G",
        letters: "G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E",
    },
    {
        base: "H",
        letters: "H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D",
    },
    {
        base: "I",
        letters:
            "I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197",
    },
    {
        base: "J",
        letters: "J\u24BF\uFF2A\u0134\u0248",
    },
    {
        base: "K",
        letters: "K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2",
    },
    {
        base: "L",
        letters:
            "L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780",
    },
    {
        base: "LJ",
        letters: "\u01C7",
    },
    {
        base: "Lj",
        letters: "\u01C8",
    },
    {
        base: "M",
        letters: "M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C",
    },
    {
        base: "N",
        letters: "N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4",
    },
    {
        base: "NJ",
        letters: "\u01CA",
    },
    {
        base: "Nj",
        letters: "\u01CB",
    },
    {
        base: "O",
        letters:
            "O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C",
    },
    {
        base: "OI",
        letters: "\u01A2",
    },
    {
        base: "OO",
        letters: "\uA74E",
    },
    {
        base: "OU",
        letters: "\u0222",
    },
    {
        base: "P",
        letters: "P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754",
    },
    {
        base: "Q",
        letters: "Q\u24C6\uFF31\uA756\uA758\u024A",
    },
    {
        base: "R",
        letters: "R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782",
    },
    {
        base: "S",
        letters: "S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784",
    },
    {
        base: "T",
        letters: "T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786",
    },
    {
        base: "TZ",
        letters: "\uA728",
    },
    {
        base: "U",
        letters:
            "U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244",
    },
    {
        base: "V",
        letters: "V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245",
    },
    {
        base: "VY",
        letters: "\uA760",
    },
    {
        base: "W",
        letters: "W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72",
    },
    {
        base: "X",
        letters: "X\u24CD\uFF38\u1E8A\u1E8C",
    },
    {
        base: "Y",
        letters: "Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE",
    },
    {
        base: "Z",
        letters: "Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762",
    },
    {
        base: "a",
        letters:
            "a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250",
    },
    {
        base: "aa",
        letters: "\uA733",
    },
    {
        base: "ae",
        letters: "\xE6\u01FD\u01E3",
    },
    {
        base: "ao",
        letters: "\uA735",
    },
    {
        base: "au",
        letters: "\uA737",
    },
    {
        base: "av",
        letters: "\uA739\uA73B",
    },
    {
        base: "ay",
        letters: "\uA73D",
    },
    {
        base: "b",
        letters: "b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253",
    },
    {
        base: "c",
        letters: "c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184",
    },
    {
        base: "d",
        letters: "d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A",
    },
    {
        base: "dz",
        letters: "\u01F3\u01C6",
    },
    {
        base: "e",
        letters:
            "e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD",
    },
    {
        base: "f",
        letters: "f\u24D5\uFF46\u1E1F\u0192\uA77C",
    },
    {
        base: "g",
        letters: "g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F",
    },
    {
        base: "h",
        letters: "h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265",
    },
    {
        base: "hv",
        letters: "\u0195",
    },
    {
        base: "i",
        letters:
            "i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131",
    },
    {
        base: "j",
        letters: "j\u24D9\uFF4A\u0135\u01F0\u0249",
    },
    {
        base: "k",
        letters: "k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3",
    },
    {
        base: "l",
        letters:
            "l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747",
    },
    {
        base: "lj",
        letters: "\u01C9",
    },
    {
        base: "m",
        letters: "m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F",
    },
    {
        base: "n",
        letters: "n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5",
    },
    {
        base: "nj",
        letters: "\u01CC",
    },
    {
        base: "o",
        letters:
            "o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275",
    },
    {
        base: "oi",
        letters: "\u01A3",
    },
    {
        base: "ou",
        letters: "\u0223",
    },
    {
        base: "oo",
        letters: "\uA74F",
    },
    {
        base: "p",
        letters: "p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755",
    },
    {
        base: "q",
        letters: "q\u24E0\uFF51\u024B\uA757\uA759",
    },
    {
        base: "r",
        letters: "r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783",
    },
    {
        base: "s",
        letters:
            "s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B",
    },
    {
        base: "t",
        letters: "t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787",
    },
    {
        base: "tz",
        letters: "\uA729",
    },
    {
        base: "u",
        letters:
            "u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289",
    },
    {
        base: "v",
        letters: "v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C",
    },
    {
        base: "vy",
        letters: "\uA761",
    },
    {
        base: "w",
        letters: "w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73",
    },
    {
        base: "x",
        letters: "x\u24E7\uFF58\u1E8B\u1E8D",
    },
    {
        base: "y",
        letters: "y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF",
    },
    {
        base: "z",
        letters: "z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763",
    },
];
var anyDiacritic = new RegExp(
    "[" +
        diacritics
            .map(function (d) {
                return d.letters;
            })
            .join("") +
        "]",
    "g"
);
var diacriticToBase = {};

for (var i = 0; i < diacritics.length; i++) {
    var diacritic = diacritics[i];

    for (var j = 0; j < diacritic.letters.length; j++) {
        diacriticToBase[diacritic.letters[j]] = diacritic.base;
    }
}

var stripDiacritics = function stripDiacritics(str) {
    return str.replace(anyDiacritic, function (match) {
        return diacriticToBase[match];
    });
};

var memoizedStripDiacriticsForInput = memoizeOne(stripDiacritics);

var trimString = function trimString(str) {
    return str.replace(/^\s+|\s+$/g, "");
};

var defaultStringify = function defaultStringify(option) {
    return "".concat(option.label, " ").concat(option.value);
};

var createFilter = function createFilter(config) {
    return function (option, rawInput) {
        // eslint-disable-next-line no-underscore-dangle
        if (option.data.__isNew__) return true;

        var _ignoreCase$ignoreAcc = _objectSpread2(
                {
                    ignoreCase: true,
                    ignoreAccents: true,
                    stringify: defaultStringify,
                    trim: true,
                    matchFrom: "any",
                },
                config
            ),
            ignoreCase = _ignoreCase$ignoreAcc.ignoreCase,
            ignoreAccents = _ignoreCase$ignoreAcc.ignoreAccents,
            stringify = _ignoreCase$ignoreAcc.stringify,
            trim = _ignoreCase$ignoreAcc.trim,
            matchFrom = _ignoreCase$ignoreAcc.matchFrom;

        var input = trim ? trimString(rawInput) : rawInput;
        var candidate = trim ? trimString(stringify(option)) : stringify(option);

        if (ignoreCase) {
            input = input.toLowerCase();
            candidate = candidate.toLowerCase();
        }

        if (ignoreAccents) {
            input = memoizedStripDiacriticsForInput(input);
            candidate = stripDiacritics(candidate);
        }

        return matchFrom === "start" ? candidate.substr(0, input.length) === input : candidate.indexOf(input) > -1;
    };
};

var _excluded = ["innerRef"];
function DummyInput(_ref) {
    var innerRef = _ref.innerRef,
        props = _objectWithoutProperties(_ref, _excluded);

    return jsx(
        "input",
        _extends(
            {
                ref: innerRef,
            },
            props,
            {
                css: /*#__PURE__*/ css$2(
                    {
                        label: "dummyInput",
                        // get rid of any default styles
                        background: 0,
                        border: 0,
                        // important! this hides the flashing cursor
                        caretColor: "transparent",
                        fontSize: "inherit",
                        gridArea: "1 / 1 / 2 / 3",
                        outline: 0,
                        padding: 0,
                        // important! without `width` browsers won't allow focus
                        width: 1,
                        // remove cursor on desktop
                        color: "transparent",
                        // remove cursor on mobile whilst maintaining "scroll into view" behaviour
                        left: -100,
                        opacity: 0,
                        position: "relative",
                        transform: "scale(.01)",
                    },
                    process.env.NODE_ENV === "production" ? "" : ";label:DummyInput;",
                    process.env.NODE_ENV === "production"
                        ? ""
                        : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkR1bW15SW5wdXQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNNIiwiZmlsZSI6IkR1bW15SW5wdXQudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIER1bW15SW5wdXQoe1xuICBpbm5lclJlZixcbiAgLi4ucHJvcHNcbn06IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snaW5wdXQnXSAmIHtcbiAgcmVhZG9ubHkgaW5uZXJSZWY6IFJlZjxIVE1MSW5wdXRFbGVtZW50Pjtcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8aW5wdXRcbiAgICAgIHJlZj17aW5uZXJSZWZ9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgICBjc3M9e3tcbiAgICAgICAgbGFiZWw6ICdkdW1teUlucHV0JyxcbiAgICAgICAgLy8gZ2V0IHJpZCBvZiBhbnkgZGVmYXVsdCBzdHlsZXNcbiAgICAgICAgYmFja2dyb3VuZDogMCxcbiAgICAgICAgYm9yZGVyOiAwLFxuICAgICAgICAvLyBpbXBvcnRhbnQhIHRoaXMgaGlkZXMgdGhlIGZsYXNoaW5nIGN1cnNvclxuICAgICAgICBjYXJldENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBmb250U2l6ZTogJ2luaGVyaXQnLFxuICAgICAgICBncmlkQXJlYTogJzEgLyAxIC8gMiAvIDMnLFxuICAgICAgICBvdXRsaW5lOiAwLFxuICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAvLyBpbXBvcnRhbnQhIHdpdGhvdXQgYHdpZHRoYCBicm93c2VycyB3b24ndCBhbGxvdyBmb2N1c1xuICAgICAgICB3aWR0aDogMSxcblxuICAgICAgICAvLyByZW1vdmUgY3Vyc29yIG9uIGRlc2t0b3BcbiAgICAgICAgY29sb3I6ICd0cmFuc3BhcmVudCcsXG5cbiAgICAgICAgLy8gcmVtb3ZlIGN1cnNvciBvbiBtb2JpbGUgd2hpbHN0IG1haW50YWluaW5nIFwic2Nyb2xsIGludG8gdmlld1wiIGJlaGF2aW91clxuICAgICAgICBsZWZ0OiAtMTAwLFxuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoLjAxKScsXG4gICAgICB9fVxuICAgIC8+XG4gICk7XG59XG4iXX0= */"
                ),
            }
        )
    );
}

var cancelScroll = function cancelScroll(event) {
    event.preventDefault();
    event.stopPropagation();
};

function useScrollCapture(_ref) {
    var isEnabled = _ref.isEnabled,
        onBottomArrive = _ref.onBottomArrive,
        onBottomLeave = _ref.onBottomLeave,
        onTopArrive = _ref.onTopArrive,
        onTopLeave = _ref.onTopLeave;
    var isBottom = React.useRef(false);
    var isTop = React.useRef(false);
    var touchStart = React.useRef(0);
    var scrollTarget = React.useRef(null);
    var handleEventDelta = React.useCallback(
        function (event, delta) {
            if (scrollTarget.current === null) return;
            var _scrollTarget$current = scrollTarget.current,
                scrollTop = _scrollTarget$current.scrollTop,
                scrollHeight = _scrollTarget$current.scrollHeight,
                clientHeight = _scrollTarget$current.clientHeight;
            var target = scrollTarget.current;
            var isDeltaPositive = delta > 0;
            var availableScroll = scrollHeight - clientHeight - scrollTop;
            var shouldCancelScroll = false; // reset bottom/top flags

            if (availableScroll > delta && isBottom.current) {
                if (onBottomLeave) onBottomLeave(event);
                isBottom.current = false;
            }

            if (isDeltaPositive && isTop.current) {
                if (onTopLeave) onTopLeave(event);
                isTop.current = false;
            } // bottom limit

            if (isDeltaPositive && delta > availableScroll) {
                if (onBottomArrive && !isBottom.current) {
                    onBottomArrive(event);
                }

                target.scrollTop = scrollHeight;
                shouldCancelScroll = true;
                isBottom.current = true; // top limit
            } else if (!isDeltaPositive && -delta > scrollTop) {
                if (onTopArrive && !isTop.current) {
                    onTopArrive(event);
                }

                target.scrollTop = 0;
                shouldCancelScroll = true;
                isTop.current = true;
            } // cancel scroll

            if (shouldCancelScroll) {
                cancelScroll(event);
            }
        },
        [onBottomArrive, onBottomLeave, onTopArrive, onTopLeave]
    );
    var onWheel = React.useCallback(
        function (event) {
            handleEventDelta(event, event.deltaY);
        },
        [handleEventDelta]
    );
    var onTouchStart = React.useCallback(function (event) {
        // set touch start so we can calculate touchmove delta
        touchStart.current = event.changedTouches[0].clientY;
    }, []);
    var onTouchMove = React.useCallback(
        function (event) {
            var deltaY = touchStart.current - event.changedTouches[0].clientY;
            handleEventDelta(event, deltaY);
        },
        [handleEventDelta]
    );
    var startListening = React.useCallback(
        function (el) {
            // bail early if no element is available to attach to
            if (!el) return;
            var notPassive = supportsPassiveEvents
                ? {
                      passive: false,
                  }
                : false;
            el.addEventListener("wheel", onWheel, notPassive);
            el.addEventListener("touchstart", onTouchStart, notPassive);
            el.addEventListener("touchmove", onTouchMove, notPassive);
        },
        [onTouchMove, onTouchStart, onWheel]
    );
    var stopListening = React.useCallback(
        function (el) {
            // bail early if no element is available to detach from
            if (!el) return;
            el.removeEventListener("wheel", onWheel, false);
            el.removeEventListener("touchstart", onTouchStart, false);
            el.removeEventListener("touchmove", onTouchMove, false);
        },
        [onTouchMove, onTouchStart, onWheel]
    );
    React.useEffect(
        function () {
            if (!isEnabled) return;
            var element = scrollTarget.current;
            startListening(element);
            return function () {
                stopListening(element);
            };
        },
        [isEnabled, startListening, stopListening]
    );
    return function (element) {
        scrollTarget.current = element;
    };
}

var STYLE_KEYS = ["boxSizing", "height", "overflow", "paddingRight", "position"];
var LOCK_STYLES = {
    boxSizing: "border-box",
    // account for possible declaration `width: 100%;` on body
    overflow: "hidden",
    position: "relative",
    height: "100%",
};

function preventTouchMove(e) {
    e.preventDefault();
}

function allowTouchMove(e) {
    e.stopPropagation();
}

function preventInertiaScroll() {
    var top = this.scrollTop;
    var totalScroll = this.scrollHeight;
    var currentScroll = top + this.offsetHeight;

    if (top === 0) {
        this.scrollTop = 1;
    } else if (currentScroll === totalScroll) {
        this.scrollTop = top - 1;
    }
} // `ontouchstart` check works on most browsers
// `maxTouchPoints` works on IE10/11 and Surface

function isTouchDevice() {
    return "ontouchstart" in window || navigator.maxTouchPoints;
}

var canUseDOM = !!(typeof window !== "undefined" && window.document && window.document.createElement);
var activeScrollLocks = 0;
var listenerOptions = {
    capture: false,
    passive: false,
};
function useScrollLock(_ref) {
    var isEnabled = _ref.isEnabled,
        _ref$accountForScroll = _ref.accountForScrollbars,
        accountForScrollbars = _ref$accountForScroll === void 0 ? true : _ref$accountForScroll;
    var originalStyles = React.useRef({});
    var scrollTarget = React.useRef(null);
    var addScrollLock = React.useCallback(
        function (touchScrollTarget) {
            if (!canUseDOM) return;
            var target = document.body;
            var targetStyle = target && target.style;

            if (accountForScrollbars) {
                // store any styles already applied to the body
                STYLE_KEYS.forEach(function (key) {
                    var val = targetStyle && targetStyle[key];
                    originalStyles.current[key] = val;
                });
            } // apply the lock styles and padding if this is the first scroll lock

            if (accountForScrollbars && activeScrollLocks < 1) {
                var currentPadding = parseInt(originalStyles.current.paddingRight, 10) || 0;
                var clientWidth = document.body ? document.body.clientWidth : 0;
                var adjustedPadding = window.innerWidth - clientWidth + currentPadding || 0;
                Object.keys(LOCK_STYLES).forEach(function (key) {
                    var val = LOCK_STYLES[key];

                    if (targetStyle) {
                        targetStyle[key] = val;
                    }
                });

                if (targetStyle) {
                    targetStyle.paddingRight = "".concat(adjustedPadding, "px");
                }
            } // account for touch devices

            if (target && isTouchDevice()) {
                // Mobile Safari ignores { overflow: hidden } declaration on the body.
                target.addEventListener("touchmove", preventTouchMove, listenerOptions); // Allow scroll on provided target

                if (touchScrollTarget) {
                    touchScrollTarget.addEventListener("touchstart", preventInertiaScroll, listenerOptions);
                    touchScrollTarget.addEventListener("touchmove", allowTouchMove, listenerOptions);
                }
            } // increment active scroll locks

            activeScrollLocks += 1;
        },
        [accountForScrollbars]
    );
    var removeScrollLock = React.useCallback(
        function (touchScrollTarget) {
            if (!canUseDOM) return;
            var target = document.body;
            var targetStyle = target && target.style; // safely decrement active scroll locks

            activeScrollLocks = Math.max(activeScrollLocks - 1, 0); // reapply original body styles, if any

            if (accountForScrollbars && activeScrollLocks < 1) {
                STYLE_KEYS.forEach(function (key) {
                    var val = originalStyles.current[key];

                    if (targetStyle) {
                        targetStyle[key] = val;
                    }
                });
            } // remove touch listeners

            if (target && isTouchDevice()) {
                target.removeEventListener("touchmove", preventTouchMove, listenerOptions);

                if (touchScrollTarget) {
                    touchScrollTarget.removeEventListener("touchstart", preventInertiaScroll, listenerOptions);
                    touchScrollTarget.removeEventListener("touchmove", allowTouchMove, listenerOptions);
                }
            }
        },
        [accountForScrollbars]
    );
    React.useEffect(
        function () {
            if (!isEnabled) return;
            var element = scrollTarget.current;
            addScrollLock(element);
            return function () {
                removeScrollLock(element);
            };
        },
        [isEnabled, addScrollLock, removeScrollLock]
    );
    return function (element) {
        scrollTarget.current = element;
    };
}

function _EMOTION_STRINGIFIED_CSS_ERROR__() {
    return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}

var blurSelectInput = function blurSelectInput() {
    return document.activeElement && document.activeElement.blur();
};

var _ref2 =
    process.env.NODE_ENV === "production"
        ? {
              name: "1kfdb0e",
              styles: "position:fixed;left:0;bottom:0;right:0;top:0",
          }
        : {
              name: "bp8cua-ScrollManager",
              styles: "position:fixed;left:0;bottom:0;right:0;top:0;label:ScrollManager;",
              map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjcm9sbE1hbmFnZXIudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStDVSIsImZpbGUiOiJTY3JvbGxNYW5hZ2VyLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsganN4IH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xuaW1wb3J0IFJlYWN0LCB7IFJlYWN0RWxlbWVudCwgUmVmQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlU2Nyb2xsQ2FwdHVyZSBmcm9tICcuL3VzZVNjcm9sbENhcHR1cmUnO1xuaW1wb3J0IHVzZVNjcm9sbExvY2sgZnJvbSAnLi91c2VTY3JvbGxMb2NrJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgcmVhZG9ubHkgY2hpbGRyZW46IChyZWY6IFJlZkNhbGxiYWNrPEhUTUxFbGVtZW50PikgPT4gUmVhY3RFbGVtZW50O1xuICByZWFkb25seSBsb2NrRW5hYmxlZDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgY2FwdHVyZUVuYWJsZWQ6IGJvb2xlYW47XG4gIHJlYWRvbmx5IG9uQm90dG9tQXJyaXZlPzogKGV2ZW50OiBXaGVlbEV2ZW50IHwgVG91Y2hFdmVudCkgPT4gdm9pZDtcbiAgcmVhZG9ubHkgb25Cb3R0b21MZWF2ZT86IChldmVudDogV2hlZWxFdmVudCB8IFRvdWNoRXZlbnQpID0+IHZvaWQ7XG4gIHJlYWRvbmx5IG9uVG9wQXJyaXZlPzogKGV2ZW50OiBXaGVlbEV2ZW50IHwgVG91Y2hFdmVudCkgPT4gdm9pZDtcbiAgcmVhZG9ubHkgb25Ub3BMZWF2ZT86IChldmVudDogV2hlZWxFdmVudCB8IFRvdWNoRXZlbnQpID0+IHZvaWQ7XG59XG5cbmNvbnN0IGJsdXJTZWxlY3RJbnB1dCA9ICgpID0+XG4gIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLmJsdXIoKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2Nyb2xsTWFuYWdlcih7XG4gIGNoaWxkcmVuLFxuICBsb2NrRW5hYmxlZCxcbiAgY2FwdHVyZUVuYWJsZWQgPSB0cnVlLFxuICBvbkJvdHRvbUFycml2ZSxcbiAgb25Cb3R0b21MZWF2ZSxcbiAgb25Ub3BBcnJpdmUsXG4gIG9uVG9wTGVhdmUsXG59OiBQcm9wcykge1xuICBjb25zdCBzZXRTY3JvbGxDYXB0dXJlVGFyZ2V0ID0gdXNlU2Nyb2xsQ2FwdHVyZSh7XG4gICAgaXNFbmFibGVkOiBjYXB0dXJlRW5hYmxlZCxcbiAgICBvbkJvdHRvbUFycml2ZSxcbiAgICBvbkJvdHRvbUxlYXZlLFxuICAgIG9uVG9wQXJyaXZlLFxuICAgIG9uVG9wTGVhdmUsXG4gIH0pO1xuICBjb25zdCBzZXRTY3JvbGxMb2NrVGFyZ2V0ID0gdXNlU2Nyb2xsTG9jayh7IGlzRW5hYmxlZDogbG9ja0VuYWJsZWQgfSk7XG5cbiAgY29uc3QgdGFyZ2V0UmVmOiBSZWZDYWxsYmFjazxIVE1MRWxlbWVudD4gPSAoZWxlbWVudCkgPT4ge1xuICAgIHNldFNjcm9sbENhcHR1cmVUYXJnZXQoZWxlbWVudCk7XG4gICAgc2V0U2Nyb2xsTG9ja1RhcmdldChlbGVtZW50KTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgIHtsb2NrRW5hYmxlZCAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBvbkNsaWNrPXtibHVyU2VsZWN0SW5wdXR9XG4gICAgICAgICAgY3NzPXt7IHBvc2l0aW9uOiAnZml4ZWQnLCBsZWZ0OiAwLCBib3R0b206IDAsIHJpZ2h0OiAwLCB0b3A6IDAgfX1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICB7Y2hpbGRyZW4odGFyZ2V0UmVmKX1cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xufVxuIl19 */",
              toString: _EMOTION_STRINGIFIED_CSS_ERROR__,
          };

function ScrollManager(_ref) {
    var children = _ref.children,
        lockEnabled = _ref.lockEnabled,
        _ref$captureEnabled = _ref.captureEnabled,
        captureEnabled = _ref$captureEnabled === void 0 ? true : _ref$captureEnabled,
        onBottomArrive = _ref.onBottomArrive,
        onBottomLeave = _ref.onBottomLeave,
        onTopArrive = _ref.onTopArrive,
        onTopLeave = _ref.onTopLeave;
    var setScrollCaptureTarget = useScrollCapture({
        isEnabled: captureEnabled,
        onBottomArrive: onBottomArrive,
        onBottomLeave: onBottomLeave,
        onTopArrive: onTopArrive,
        onTopLeave: onTopLeave,
    });
    var setScrollLockTarget = useScrollLock({
        isEnabled: lockEnabled,
    });

    var targetRef = function targetRef(element) {
        setScrollCaptureTarget(element);
        setScrollLockTarget(element);
    };

    return jsx(
        React.Fragment,
        null,
        lockEnabled &&
            jsx("div", {
                onClick: blurSelectInput,
                css: _ref2,
            }),
        children(targetRef)
    );
}

var formatGroupLabel = function formatGroupLabel(group) {
    return group.label;
};
var getOptionLabel$1 = function getOptionLabel(option) {
    return option.label;
};
var getOptionValue$1 = function getOptionValue(option) {
    return option.value;
};
var isOptionDisabled = function isOptionDisabled(option) {
    return !!option.isDisabled;
};

var defaultStyles = {
    clearIndicator: clearIndicatorCSS,
    container: containerCSS,
    control: css$1,
    dropdownIndicator: dropdownIndicatorCSS,
    group: groupCSS,
    groupHeading: groupHeadingCSS,
    indicatorsContainer: indicatorsContainerCSS,
    indicatorSeparator: indicatorSeparatorCSS,
    input: inputCSS,
    loadingIndicator: loadingIndicatorCSS,
    loadingMessage: loadingMessageCSS,
    menu: menuCSS,
    menuList: menuListCSS,
    menuPortal: menuPortalCSS,
    multiValue: multiValueCSS,
    multiValueLabel: multiValueLabelCSS,
    multiValueRemove: multiValueRemoveCSS,
    noOptionsMessage: noOptionsMessageCSS,
    option: optionCSS,
    placeholder: placeholderCSS,
    singleValue: css,
    valueContainer: valueContainerCSS,
}; // Merge Utility

var colors = {
    primary: "#2684FF",
    primary75: "#4C9AFF",
    primary50: "#B2D4FF",
    primary25: "#DEEBFF",
    danger: "#DE350B",
    dangerLight: "#FFBDAD",
    neutral0: "hsl(0, 0%, 100%)",
    neutral5: "hsl(0, 0%, 95%)",
    neutral10: "hsl(0, 0%, 90%)",
    neutral20: "hsl(0, 0%, 80%)",
    neutral30: "hsl(0, 0%, 70%)",
    neutral40: "hsl(0, 0%, 60%)",
    neutral50: "hsl(0, 0%, 50%)",
    neutral60: "hsl(0, 0%, 40%)",
    neutral70: "hsl(0, 0%, 30%)",
    neutral80: "hsl(0, 0%, 20%)",
    neutral90: "hsl(0, 0%, 10%)",
};
var borderRadius = 4; // Used to calculate consistent margin/padding on elements

var baseUnit = 4; // The minimum height of the control

var controlHeight = 38; // The amount of space between the control and menu */

var menuGutter = baseUnit * 2;
var spacing = {
    baseUnit: baseUnit,
    controlHeight: controlHeight,
    menuGutter: menuGutter,
};
var defaultTheme = {
    borderRadius: borderRadius,
    colors: colors,
    spacing: spacing,
};

var defaultProps = {
    "aria-live": "polite",
    backspaceRemovesValue: true,
    blurInputOnSelect: isTouchCapable(),
    captureMenuScroll: !isTouchCapable(),
    closeMenuOnSelect: true,
    closeMenuOnScroll: false,
    components: {},
    controlShouldRenderValue: true,
    escapeClearsValue: false,
    filterOption: createFilter(),
    formatGroupLabel: formatGroupLabel,
    getOptionLabel: getOptionLabel$1,
    getOptionValue: getOptionValue$1,
    isDisabled: false,
    isLoading: false,
    isMulti: false,
    isRtl: false,
    isSearchable: true,
    isOptionDisabled: isOptionDisabled,
    loadingMessage: function loadingMessage() {
        return "Loading...";
    },
    maxMenuHeight: 300,
    minMenuHeight: 140,
    menuIsOpen: false,
    menuPlacement: "bottom",
    menuPosition: "absolute",
    menuShouldBlockScroll: false,
    menuShouldScrollIntoView: !isMobileDevice(),
    noOptionsMessage: function noOptionsMessage() {
        return "No options";
    },
    openMenuOnFocus: false,
    openMenuOnClick: true,
    options: [],
    pageSize: 5,
    placeholder: "Select...",
    screenReaderStatus: function screenReaderStatus(_ref) {
        var count = _ref.count;
        return "".concat(count, " result").concat(count !== 1 ? "s" : "", " available");
    },
    styles: {},
    tabIndex: 0,
    tabSelectsValue: true,
};

function toCategorizedOption(props, option, selectValue, index) {
    var isDisabled = _isOptionDisabled(props, option, selectValue);

    var isSelected = _isOptionSelected(props, option, selectValue);

    var label = getOptionLabel(props, option);
    var value = getOptionValue(props, option);
    return {
        type: "option",
        data: option,
        isDisabled: isDisabled,
        isSelected: isSelected,
        label: label,
        value: value,
        index: index,
    };
}

function buildCategorizedOptions(props, selectValue) {
    return props.options
        .map(function (groupOrOption, groupOrOptionIndex) {
            if ("options" in groupOrOption) {
                var categorizedOptions = groupOrOption.options
                    .map(function (option, optionIndex) {
                        return toCategorizedOption(props, option, selectValue, optionIndex);
                    })
                    .filter(function (categorizedOption) {
                        return isFocusable(props, categorizedOption);
                    });
                return categorizedOptions.length > 0
                    ? {
                          type: "group",
                          data: groupOrOption,
                          options: categorizedOptions,
                          index: groupOrOptionIndex,
                      }
                    : undefined;
            }

            var categorizedOption = toCategorizedOption(props, groupOrOption, selectValue, groupOrOptionIndex);
            return isFocusable(props, categorizedOption) ? categorizedOption : undefined;
        })
        .filter(notNullish);
}

function buildFocusableOptionsFromCategorizedOptions(categorizedOptions) {
    return categorizedOptions.reduce(function (optionsAccumulator, categorizedOption) {
        if (categorizedOption.type === "group") {
            optionsAccumulator.push.apply(
                optionsAccumulator,
                _toConsumableArray(
                    categorizedOption.options.map(function (option) {
                        return option.data;
                    })
                )
            );
        } else {
            optionsAccumulator.push(categorizedOption.data);
        }

        return optionsAccumulator;
    }, []);
}

function buildFocusableOptions(props, selectValue) {
    return buildFocusableOptionsFromCategorizedOptions(buildCategorizedOptions(props, selectValue));
}

function isFocusable(props, categorizedOption) {
    var _props$inputValue = props.inputValue,
        inputValue = _props$inputValue === void 0 ? "" : _props$inputValue;
    var data = categorizedOption.data,
        isSelected = categorizedOption.isSelected,
        label = categorizedOption.label,
        value = categorizedOption.value;
    return (
        (!shouldHideSelectedOptions(props) || !isSelected) &&
        _filterOption(
            props,
            {
                label: label,
                value: value,
                data: data,
            },
            inputValue
        )
    );
}

function getNextFocusedValue(state, nextSelectValue) {
    var focusedValue = state.focusedValue,
        lastSelectValue = state.selectValue;
    var lastFocusedIndex = lastSelectValue.indexOf(focusedValue);

    if (lastFocusedIndex > -1) {
        var nextFocusedIndex = nextSelectValue.indexOf(focusedValue);

        if (nextFocusedIndex > -1) {
            // the focused value is still in the selectValue, return it
            return focusedValue;
        } else if (lastFocusedIndex < nextSelectValue.length) {
            // the focusedValue is not present in the next selectValue array by
            // reference, so return the new value at the same index
            return nextSelectValue[lastFocusedIndex];
        }
    }

    return null;
}

function getNextFocusedOption(state, options) {
    var lastFocusedOption = state.focusedOption;
    return lastFocusedOption && options.indexOf(lastFocusedOption) > -1 ? lastFocusedOption : options[0];
}

var getOptionLabel = function getOptionLabel(props, data) {
    return props.getOptionLabel(data);
};

var getOptionValue = function getOptionValue(props, data) {
    return props.getOptionValue(data);
};

function _isOptionDisabled(props, option, selectValue) {
    return typeof props.isOptionDisabled === "function" ? props.isOptionDisabled(option, selectValue) : false;
}

function _isOptionSelected(props, option, selectValue) {
    if (selectValue.indexOf(option) > -1) return true;

    if (typeof props.isOptionSelected === "function") {
        return props.isOptionSelected(option, selectValue);
    }

    var candidate = getOptionValue(props, option);
    return selectValue.some(function (i) {
        return getOptionValue(props, i) === candidate;
    });
}

function _filterOption(props, option, inputValue) {
    return props.filterOption ? props.filterOption(option, inputValue) : true;
}

var shouldHideSelectedOptions = function shouldHideSelectedOptions(props) {
    var hideSelectedOptions = props.hideSelectedOptions,
        isMulti = props.isMulti;
    if (hideSelectedOptions === undefined) return isMulti;
    return hideSelectedOptions;
};

var instanceId = 1;

var Select$1 = /*#__PURE__*/ (function (_Component) {
    _inherits(Select, _Component);

    var _super = _createSuper(Select);

    // Misc. Instance Properties
    // ------------------------------
    // TODO
    // Refs
    // ------------------------------
    // Lifecycle
    // ------------------------------
    function Select(_props) {
        var _this;

        _classCallCheck(this, Select);

        _this = _super.call(this, _props);
        _this.state = {
            ariaSelection: null,
            focusedOption: null,
            focusedValue: null,
            inputIsHidden: false,
            isFocused: false,
            selectValue: [],
            clearFocusValueOnUpdate: false,
            prevWasFocused: false,
            inputIsHiddenAfterUpdate: undefined,
            prevProps: undefined,
        };
        _this.blockOptionHover = false;
        _this.isComposing = false;
        _this.commonProps = void 0;
        _this.initialTouchX = 0;
        _this.initialTouchY = 0;
        _this.instancePrefix = "";
        _this.openAfterFocus = false;
        _this.scrollToFocusedOptionOnUpdate = false;
        _this.userIsDragging = void 0;
        _this.controlRef = null;

        _this.getControlRef = function (ref) {
            _this.controlRef = ref;
        };

        _this.focusedOptionRef = null;

        _this.getFocusedOptionRef = function (ref) {
            _this.focusedOptionRef = ref;
        };

        _this.menuListRef = null;

        _this.getMenuListRef = function (ref) {
            _this.menuListRef = ref;
        };

        _this.inputRef = null;

        _this.getInputRef = function (ref) {
            _this.inputRef = ref;
        };

        _this.focus = _this.focusInput;
        _this.blur = _this.blurInput;

        _this.onChange = function (newValue, actionMeta) {
            var _this$props = _this.props,
                onChange = _this$props.onChange,
                name = _this$props.name;
            actionMeta.name = name;

            _this.ariaOnChange(newValue, actionMeta);

            onChange(newValue, actionMeta);
        };

        _this.setValue = function (newValue, action, option) {
            var _this$props2 = _this.props,
                closeMenuOnSelect = _this$props2.closeMenuOnSelect,
                isMulti = _this$props2.isMulti,
                inputValue = _this$props2.inputValue;

            _this.onInputChange("", {
                action: "set-value",
                prevInputValue: inputValue,
            });

            if (closeMenuOnSelect) {
                _this.setState({
                    inputIsHiddenAfterUpdate: !isMulti,
                });

                _this.onMenuClose();
            } // when the select value should change, we should reset focusedValue

            _this.setState({
                clearFocusValueOnUpdate: true,
            });

            _this.onChange(newValue, {
                action: action,
                option: option,
            });
        };

        _this.selectOption = function (newValue) {
            var _this$props3 = _this.props,
                blurInputOnSelect = _this$props3.blurInputOnSelect,
                isMulti = _this$props3.isMulti,
                name = _this$props3.name;
            var selectValue = _this.state.selectValue;

            var deselected = isMulti && _this.isOptionSelected(newValue, selectValue);

            var isDisabled = _this.isOptionDisabled(newValue, selectValue);

            if (deselected) {
                var candidate = _this.getOptionValue(newValue);

                _this.setValue(
                    multiValueAsValue(
                        selectValue.filter(function (i) {
                            return _this.getOptionValue(i) !== candidate;
                        })
                    ),
                    "deselect-option",
                    newValue
                );
            } else if (!isDisabled) {
                // Select option if option is not disabled
                if (isMulti) {
                    _this.setValue(
                        multiValueAsValue([].concat(_toConsumableArray(selectValue), [newValue])),
                        "select-option",
                        newValue
                    );
                } else {
                    _this.setValue(singleValueAsValue(newValue), "select-option");
                }
            } else {
                _this.ariaOnChange(singleValueAsValue(newValue), {
                    action: "select-option",
                    option: newValue,
                    name: name,
                });

                return;
            }

            if (blurInputOnSelect) {
                _this.blurInput();
            }
        };

        _this.removeValue = function (removedValue) {
            var isMulti = _this.props.isMulti;
            var selectValue = _this.state.selectValue;

            var candidate = _this.getOptionValue(removedValue);

            var newValueArray = selectValue.filter(function (i) {
                return _this.getOptionValue(i) !== candidate;
            });
            var newValue = valueTernary(isMulti, newValueArray, newValueArray[0] || null);

            _this.onChange(newValue, {
                action: "remove-value",
                removedValue: removedValue,
            });

            _this.focusInput();
        };

        _this.clearValue = function () {
            var selectValue = _this.state.selectValue;

            _this.onChange(valueTernary(_this.props.isMulti, [], null), {
                action: "clear",
                removedValues: selectValue,
            });
        };

        _this.popValue = function () {
            var isMulti = _this.props.isMulti;
            var selectValue = _this.state.selectValue;
            var lastSelectedValue = selectValue[selectValue.length - 1];
            var newValueArray = selectValue.slice(0, selectValue.length - 1);
            var newValue = valueTernary(isMulti, newValueArray, newValueArray[0] || null);

            _this.onChange(newValue, {
                action: "pop-value",
                removedValue: lastSelectedValue,
            });
        };

        _this.getValue = function () {
            return _this.state.selectValue;
        };

        _this.cx = function () {
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
                args[_key] = arguments[_key];
            }

            return classNames.apply(void 0, [_this.props.classNamePrefix].concat(args));
        };

        _this.getOptionLabel = function (data) {
            return getOptionLabel(_this.props, data);
        };

        _this.getOptionValue = function (data) {
            return getOptionValue(_this.props, data);
        };

        _this.getStyles = function (key, props) {
            var base = defaultStyles[key](props);
            base.boxSizing = "border-box";
            var custom = _this.props.styles[key];
            return custom ? custom(base, props) : base;
        };

        _this.getElementId = function (element) {
            return "".concat(_this.instancePrefix, "-").concat(element);
        };

        _this.getComponents = function () {
            return defaultComponents(_this.props);
        };

        _this.buildCategorizedOptions = function () {
            return buildCategorizedOptions(_this.props, _this.state.selectValue);
        };

        _this.getCategorizedOptions = function () {
            return _this.props.menuIsOpen ? _this.buildCategorizedOptions() : [];
        };

        _this.buildFocusableOptions = function () {
            return buildFocusableOptionsFromCategorizedOptions(_this.buildCategorizedOptions());
        };

        _this.getFocusableOptions = function () {
            return _this.props.menuIsOpen ? _this.buildFocusableOptions() : [];
        };

        _this.ariaOnChange = function (value, actionMeta) {
            _this.setState({
                ariaSelection: _objectSpread2(
                    {
                        value: value,
                    },
                    actionMeta
                ),
            });
        };

        _this.onMenuMouseDown = function (event) {
            if (event.button !== 0) {
                return;
            }

            event.stopPropagation();
            event.preventDefault();

            _this.focusInput();
        };

        _this.onMenuMouseMove = function (event) {
            _this.blockOptionHover = false;
        };

        _this.onControlMouseDown = function (event) {
            var openMenuOnClick = _this.props.openMenuOnClick;

            if (!_this.state.isFocused) {
                if (openMenuOnClick) {
                    _this.openAfterFocus = true;
                }

                _this.focusInput();
            } else if (!_this.props.menuIsOpen) {
                if (openMenuOnClick) {
                    _this.openMenu("first");
                }
            } else {
                if (event.target.tagName !== "INPUT" && event.target.tagName !== "TEXTAREA") {
                    _this.onMenuClose();
                }
            }

            if (event.target.tagName !== "INPUT" && event.target.tagName !== "TEXTAREA") {
                event.preventDefault();
            }
        };

        _this.onDropdownIndicatorMouseDown = function (event) {
            // ignore mouse events that weren't triggered by the primary button
            if (event && event.type === "mousedown" && event.button !== 0) {
                return;
            }

            if (_this.props.isDisabled) return;
            var _this$props4 = _this.props,
                isMulti = _this$props4.isMulti,
                menuIsOpen = _this$props4.menuIsOpen;

            _this.focusInput();

            if (menuIsOpen) {
                _this.setState({
                    inputIsHiddenAfterUpdate: !isMulti,
                });

                _this.onMenuClose();
            } else {
                _this.openMenu("first");
            }

            event.preventDefault();
            event.stopPropagation();
        };

        _this.onClearIndicatorMouseDown = function (event) {
            // ignore mouse events that weren't triggered by the primary button
            if (event && event.type === "mousedown" && event.button !== 0) {
                return;
            }

            _this.clearValue();

            event.preventDefault();
            event.stopPropagation();
            _this.openAfterFocus = false;

            if (event.type === "touchend") {
                _this.focusInput();
            } else {
                setTimeout(function () {
                    return _this.focusInput();
                });
            }
        };

        _this.onScroll = function (event) {
            if (typeof _this.props.closeMenuOnScroll === "boolean") {
                if (event.target instanceof HTMLElement && isDocumentElement(event.target)) {
                    _this.props.onMenuClose();
                }
            } else if (typeof _this.props.closeMenuOnScroll === "function") {
                if (_this.props.closeMenuOnScroll(event)) {
                    _this.props.onMenuClose();
                }
            }
        };

        _this.onCompositionStart = function () {
            _this.isComposing = true;
        };

        _this.onCompositionEnd = function () {
            _this.isComposing = false;
        };

        _this.onTouchStart = function (_ref2) {
            var touches = _ref2.touches;
            var touch = touches && touches.item(0);

            if (!touch) {
                return;
            }

            _this.initialTouchX = touch.clientX;
            _this.initialTouchY = touch.clientY;
            _this.userIsDragging = false;
        };

        _this.onTouchMove = function (_ref3) {
            var touches = _ref3.touches;
            var touch = touches && touches.item(0);

            if (!touch) {
                return;
            }

            var deltaX = Math.abs(touch.clientX - _this.initialTouchX);
            var deltaY = Math.abs(touch.clientY - _this.initialTouchY);
            var moveThreshold = 5;
            _this.userIsDragging = deltaX > moveThreshold || deltaY > moveThreshold;
        };

        _this.onTouchEnd = function (event) {
            if (_this.userIsDragging) return; // close the menu if the user taps outside
            // we're checking on event.target here instead of event.currentTarget, because we want to assert information
            // on events on child elements, not the document (which we've attached this handler to).

            if (
                _this.controlRef &&
                !_this.controlRef.contains(event.target) &&
                _this.menuListRef &&
                !_this.menuListRef.contains(event.target)
            ) {
                _this.blurInput();
            } // reset move vars

            _this.initialTouchX = 0;
            _this.initialTouchY = 0;
        };

        _this.onControlTouchEnd = function (event) {
            if (_this.userIsDragging) return;

            _this.onControlMouseDown(event);
        };

        _this.onClearIndicatorTouchEnd = function (event) {
            if (_this.userIsDragging) return;

            _this.onClearIndicatorMouseDown(event);
        };

        _this.onDropdownIndicatorTouchEnd = function (event) {
            if (_this.userIsDragging) return;

            _this.onDropdownIndicatorMouseDown(event);
        };

        _this.handleInputChange = function (event) {
            var prevInputValue = _this.props.inputValue;
            var inputValue = event.currentTarget.value;

            _this.setState({
                inputIsHiddenAfterUpdate: false,
            });

            _this.onInputChange(inputValue, {
                action: "input-change",
                prevInputValue: prevInputValue,
            });

            if (!_this.props.menuIsOpen) {
                _this.onMenuOpen();
            }
        };

        _this.onInputFocus = function (event) {
            if (_this.props.onFocus) {
                _this.props.onFocus(event);
            }

            _this.setState({
                inputIsHiddenAfterUpdate: false,
                isFocused: true,
            });

            if (_this.openAfterFocus || _this.props.openMenuOnFocus) {
                _this.openMenu("first");
            }

            _this.openAfterFocus = false;
        };

        _this.onInputBlur = function (event) {
            var prevInputValue = _this.props.inputValue;

            if (_this.menuListRef && _this.menuListRef.contains(document.activeElement)) {
                _this.inputRef.focus();

                return;
            }

            if (_this.props.onBlur) {
                _this.props.onBlur(event);
            }

            _this.onInputChange("", {
                action: "input-blur",
                prevInputValue: prevInputValue,
            });

            _this.onMenuClose();

            _this.setState({
                focusedValue: null,
                isFocused: false,
            });
        };

        _this.onOptionHover = function (focusedOption) {
            if (_this.blockOptionHover || _this.state.focusedOption === focusedOption) {
                return;
            }

            _this.setState({
                focusedOption: focusedOption,
            });
        };

        _this.shouldHideSelectedOptions = function () {
            return shouldHideSelectedOptions(_this.props);
        };

        _this.onKeyDown = function (event) {
            var _this$props5 = _this.props,
                isMulti = _this$props5.isMulti,
                backspaceRemovesValue = _this$props5.backspaceRemovesValue,
                escapeClearsValue = _this$props5.escapeClearsValue,
                inputValue = _this$props5.inputValue,
                isClearable = _this$props5.isClearable,
                isDisabled = _this$props5.isDisabled,
                menuIsOpen = _this$props5.menuIsOpen,
                onKeyDown = _this$props5.onKeyDown,
                tabSelectsValue = _this$props5.tabSelectsValue,
                openMenuOnFocus = _this$props5.openMenuOnFocus;
            var _this$state = _this.state,
                focusedOption = _this$state.focusedOption,
                focusedValue = _this$state.focusedValue,
                selectValue = _this$state.selectValue;
            if (isDisabled) return;

            if (typeof onKeyDown === "function") {
                onKeyDown(event);

                if (event.defaultPrevented) {
                    return;
                }
            } // Block option hover events when the user has just pressed a key

            _this.blockOptionHover = true;

            switch (event.key) {
                case "ArrowLeft":
                    if (!isMulti || inputValue) return;

                    _this.focusValue("previous");

                    break;

                case "ArrowRight":
                    if (!isMulti || inputValue) return;

                    _this.focusValue("next");

                    break;

                case "Delete":
                case "Backspace":
                    if (inputValue) return;

                    if (focusedValue) {
                        _this.removeValue(focusedValue);
                    } else {
                        if (!backspaceRemovesValue) return;

                        if (isMulti) {
                            _this.popValue();
                        } else if (isClearable) {
                            _this.clearValue();
                        }
                    }

                    break;

                case "Tab":
                    if (_this.isComposing) return;

                    if (
                        event.shiftKey ||
                        !menuIsOpen ||
                        !tabSelectsValue ||
                        !focusedOption || // don't capture the event if the menu opens on focus and the focused
                        // option is already selected; it breaks the flow of navigation
                        (openMenuOnFocus && _this.isOptionSelected(focusedOption, selectValue))
                    ) {
                        return;
                    }

                    _this.selectOption(focusedOption);

                    break;

                case "Enter":
                    if (event.keyCode === 229) {
                        // ignore the keydown event from an Input Method Editor(IME)
                        // ref. https://www.w3.org/TR/uievents/#determine-keydown-keyup-keyCode
                        break;
                    }

                    if (menuIsOpen) {
                        if (!focusedOption) return;
                        if (_this.isComposing) return;

                        _this.selectOption(focusedOption);

                        break;
                    }

                    return;

                case "Escape":
                    if (menuIsOpen) {
                        _this.setState({
                            inputIsHiddenAfterUpdate: false,
                        });

                        _this.onInputChange("", {
                            action: "menu-close",
                            prevInputValue: inputValue,
                        });

                        _this.onMenuClose();
                    } else if (isClearable && escapeClearsValue) {
                        _this.clearValue();
                    }

                    break;

                case " ":
                    // space
                    if (inputValue) {
                        return;
                    }

                    if (!menuIsOpen) {
                        _this.openMenu("first");

                        break;
                    }

                    if (!focusedOption) return;

                    _this.selectOption(focusedOption);

                    break;

                case "ArrowUp":
                    if (menuIsOpen) {
                        _this.focusOption("up");
                    } else {
                        _this.openMenu("last");
                    }

                    break;

                case "ArrowDown":
                    if (menuIsOpen) {
                        _this.focusOption("down");
                    } else {
                        _this.openMenu("first");
                    }

                    break;

                case "PageUp":
                    if (!menuIsOpen) return;

                    _this.focusOption("pageup");

                    break;

                case "PageDown":
                    if (!menuIsOpen) return;

                    _this.focusOption("pagedown");

                    break;

                case "Home":
                    if (!menuIsOpen) return;

                    _this.focusOption("first");

                    break;

                case "End":
                    if (!menuIsOpen) return;

                    _this.focusOption("last");

                    break;

                default:
                    return;
            }

            event.preventDefault();
        };

        _this.instancePrefix = "react-select-" + (_this.props.instanceId || ++instanceId);
        _this.state.selectValue = cleanValue(_props.value);
        return _this;
    }

    _createClass(
        Select,
        [
            {
                key: "componentDidMount",
                value: function componentDidMount() {
                    this.startListeningComposition();
                    this.startListeningToTouch();

                    if (this.props.closeMenuOnScroll && document && document.addEventListener) {
                        // Listen to all scroll events, and filter them out inside of 'onScroll'
                        document.addEventListener("scroll", this.onScroll, true);
                    }

                    if (this.props.autoFocus) {
                        this.focusInput();
                    }
                },
            },
            {
                key: "componentDidUpdate",
                value: function componentDidUpdate(prevProps) {
                    var _this$props6 = this.props,
                        isDisabled = _this$props6.isDisabled,
                        menuIsOpen = _this$props6.menuIsOpen;
                    var isFocused = this.state.isFocused;

                    if (
                        // ensure focus is restored correctly when the control becomes enabled
                        (isFocused && !isDisabled && prevProps.isDisabled) || // ensure focus is on the Input when the menu opens
                        (isFocused && menuIsOpen && !prevProps.menuIsOpen)
                    ) {
                        this.focusInput();
                    }

                    if (isFocused && isDisabled && !prevProps.isDisabled) {
                        // ensure select state gets blurred in case Select is programatically disabled while focused
                        // eslint-disable-next-line react/no-did-update-set-state
                        this.setState(
                            {
                                isFocused: false,
                            },
                            this.onMenuClose
                        );
                    } // scroll the focused option into view if necessary

                    if (this.menuListRef && this.focusedOptionRef && this.scrollToFocusedOptionOnUpdate) {
                        scrollIntoView(this.menuListRef, this.focusedOptionRef);
                        this.scrollToFocusedOptionOnUpdate = false;
                    }
                },
            },
            {
                key: "componentWillUnmount",
                value: function componentWillUnmount() {
                    this.stopListeningComposition();
                    this.stopListeningToTouch();
                    document.removeEventListener("scroll", this.onScroll, true);
                }, // ==============================
                // Consumer Handlers
                // ==============================
            },
            {
                key: "onMenuOpen",
                value: function onMenuOpen() {
                    this.props.onMenuOpen();
                },
            },
            {
                key: "onMenuClose",
                value: function onMenuClose() {
                    this.onInputChange("", {
                        action: "menu-close",
                        prevInputValue: this.props.inputValue,
                    });
                    this.props.onMenuClose();
                },
            },
            {
                key: "onInputChange",
                value: function onInputChange(newValue, actionMeta) {
                    this.props.onInputChange(newValue, actionMeta);
                }, // ==============================
                // Methods
                // ==============================
            },
            {
                key: "focusInput",
                value: function focusInput() {
                    if (!this.inputRef) return;
                    this.inputRef.focus();
                },
            },
            {
                key: "blurInput",
                value: function blurInput() {
                    if (!this.inputRef) return;
                    this.inputRef.blur();
                }, // aliased for consumers
            },
            {
                key: "openMenu",
                value: function openMenu(focusOption) {
                    var _this2 = this;

                    var _this$state2 = this.state,
                        selectValue = _this$state2.selectValue,
                        isFocused = _this$state2.isFocused;
                    var focusableOptions = this.buildFocusableOptions();
                    var openAtIndex = focusOption === "first" ? 0 : focusableOptions.length - 1;

                    if (!this.props.isMulti) {
                        var selectedIndex = focusableOptions.indexOf(selectValue[0]);

                        if (selectedIndex > -1) {
                            openAtIndex = selectedIndex;
                        }
                    } // only scroll if the menu isn't already open

                    this.scrollToFocusedOptionOnUpdate = !(isFocused && this.menuListRef);
                    this.setState(
                        {
                            inputIsHiddenAfterUpdate: false,
                            focusedValue: null,
                            focusedOption: focusableOptions[openAtIndex],
                        },
                        function () {
                            return _this2.onMenuOpen();
                        }
                    );
                },
            },
            {
                key: "focusValue",
                value: function focusValue(direction) {
                    var _this$state3 = this.state,
                        selectValue = _this$state3.selectValue,
                        focusedValue = _this$state3.focusedValue; // Only multiselects support value focusing

                    if (!this.props.isMulti) return;
                    this.setState({
                        focusedOption: null,
                    });
                    var focusedIndex = selectValue.indexOf(focusedValue);

                    if (!focusedValue) {
                        focusedIndex = -1;
                    }

                    var lastIndex = selectValue.length - 1;
                    var nextFocus = -1;
                    if (!selectValue.length) return;

                    switch (direction) {
                        case "previous":
                            if (focusedIndex === 0) {
                                // don't cycle from the start to the end
                                nextFocus = 0;
                            } else if (focusedIndex === -1) {
                                // if nothing is focused, focus the last value first
                                nextFocus = lastIndex;
                            } else {
                                nextFocus = focusedIndex - 1;
                            }

                            break;

                        case "next":
                            if (focusedIndex > -1 && focusedIndex < lastIndex) {
                                nextFocus = focusedIndex + 1;
                            }

                            break;
                    }

                    this.setState({
                        inputIsHidden: nextFocus !== -1,
                        focusedValue: selectValue[nextFocus],
                    });
                },
            },
            {
                key: "focusOption",
                value: function focusOption() {
                    var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "first";
                    var pageSize = this.props.pageSize;
                    var focusedOption = this.state.focusedOption;
                    var options = this.getFocusableOptions();
                    if (!options.length) return;
                    var nextFocus = 0; // handles 'first'

                    var focusedIndex = options.indexOf(focusedOption);

                    if (!focusedOption) {
                        focusedIndex = -1;
                    }

                    if (direction === "up") {
                        nextFocus = focusedIndex > 0 ? focusedIndex - 1 : options.length - 1;
                    } else if (direction === "down") {
                        nextFocus = (focusedIndex + 1) % options.length;
                    } else if (direction === "pageup") {
                        nextFocus = focusedIndex - pageSize;
                        if (nextFocus < 0) nextFocus = 0;
                    } else if (direction === "pagedown") {
                        nextFocus = focusedIndex + pageSize;
                        if (nextFocus > options.length - 1) nextFocus = options.length - 1;
                    } else if (direction === "last") {
                        nextFocus = options.length - 1;
                    }

                    this.scrollToFocusedOptionOnUpdate = true;
                    this.setState({
                        focusedOption: options[nextFocus],
                        focusedValue: null,
                    });
                },
            },
            {
                key: "getTheme",
                // ==============================
                value:
                    // Getters
                    // ==============================
                    function getTheme() {
                        // Use the default theme if there are no customizations.
                        if (!this.props.theme) {
                            return defaultTheme;
                        } // If the theme prop is a function, assume the function
                        // knows how to merge the passed-in default theme with
                        // its own modifications.

                        if (typeof this.props.theme === "function") {
                            return this.props.theme(defaultTheme);
                        } // Otherwise, if a plain theme object was passed in,
                        // overlay it with the default theme.

                        return _objectSpread2(_objectSpread2({}, defaultTheme), this.props.theme);
                    },
            },
            {
                key: "getCommonProps",
                value: function getCommonProps() {
                    var clearValue = this.clearValue,
                        cx = this.cx,
                        getStyles = this.getStyles,
                        getValue = this.getValue,
                        selectOption = this.selectOption,
                        setValue = this.setValue,
                        props = this.props;
                    var isMulti = props.isMulti,
                        isRtl = props.isRtl,
                        options = props.options;
                    var hasValue = this.hasValue();
                    return {
                        clearValue: clearValue,
                        cx: cx,
                        getStyles: getStyles,
                        getValue: getValue,
                        hasValue: hasValue,
                        isMulti: isMulti,
                        isRtl: isRtl,
                        options: options,
                        selectOption: selectOption,
                        selectProps: props,
                        setValue: setValue,
                        theme: this.getTheme(),
                    };
                },
            },
            {
                key: "hasValue",
                value: function hasValue() {
                    var selectValue = this.state.selectValue;
                    return selectValue.length > 0;
                },
            },
            {
                key: "hasOptions",
                value: function hasOptions() {
                    return !!this.getFocusableOptions().length;
                },
            },
            {
                key: "isClearable",
                value: function isClearable() {
                    var _this$props7 = this.props,
                        isClearable = _this$props7.isClearable,
                        isMulti = _this$props7.isMulti; // single select, by default, IS NOT clearable
                    // multi select, by default, IS clearable

                    if (isClearable === undefined) return isMulti;
                    return isClearable;
                },
            },
            {
                key: "isOptionDisabled",
                value: function isOptionDisabled(option, selectValue) {
                    return _isOptionDisabled(this.props, option, selectValue);
                },
            },
            {
                key: "isOptionSelected",
                value: function isOptionSelected(option, selectValue) {
                    return _isOptionSelected(this.props, option, selectValue);
                },
            },
            {
                key: "filterOption",
                value: function filterOption(option, inputValue) {
                    return _filterOption(this.props, option, inputValue);
                },
            },
            {
                key: "formatOptionLabel",
                value: function formatOptionLabel(data, context) {
                    if (typeof this.props.formatOptionLabel === "function") {
                        var _inputValue = this.props.inputValue;
                        var _selectValue = this.state.selectValue;
                        return this.props.formatOptionLabel(data, {
                            context: context,
                            inputValue: _inputValue,
                            selectValue: _selectValue,
                        });
                    } else {
                        return this.getOptionLabel(data);
                    }
                },
            },
            {
                key: "formatGroupLabel",
                value: function formatGroupLabel(data) {
                    return this.props.formatGroupLabel(data);
                }, // ==============================
                // Mouse Handlers
                // ==============================
            },
            {
                key: "startListeningComposition",
                // ==============================
                value:
                    // Composition Handlers
                    // ==============================
                    function startListeningComposition() {
                        if (document && document.addEventListener) {
                            document.addEventListener("compositionstart", this.onCompositionStart, false);
                            document.addEventListener("compositionend", this.onCompositionEnd, false);
                        }
                    },
            },
            {
                key: "stopListeningComposition",
                value: function stopListeningComposition() {
                    if (document && document.removeEventListener) {
                        document.removeEventListener("compositionstart", this.onCompositionStart);
                        document.removeEventListener("compositionend", this.onCompositionEnd);
                    }
                },
            },
            {
                key: "startListeningToTouch",
                // ==============================
                value:
                    // Touch Handlers
                    // ==============================
                    function startListeningToTouch() {
                        if (document && document.addEventListener) {
                            document.addEventListener("touchstart", this.onTouchStart, false);
                            document.addEventListener("touchmove", this.onTouchMove, false);
                            document.addEventListener("touchend", this.onTouchEnd, false);
                        }
                    },
            },
            {
                key: "stopListeningToTouch",
                value: function stopListeningToTouch() {
                    if (document && document.removeEventListener) {
                        document.removeEventListener("touchstart", this.onTouchStart);
                        document.removeEventListener("touchmove", this.onTouchMove);
                        document.removeEventListener("touchend", this.onTouchEnd);
                    }
                },
            },
            {
                key: "renderInput",
                // ==============================
                value:
                    // Renderers
                    // ==============================
                    function renderInput() {
                        var _this$props8 = this.props,
                            isDisabled = _this$props8.isDisabled,
                            isSearchable = _this$props8.isSearchable,
                            inputId = _this$props8.inputId,
                            inputValue = _this$props8.inputValue,
                            tabIndex = _this$props8.tabIndex,
                            form = _this$props8.form,
                            menuIsOpen = _this$props8.menuIsOpen;

                        var _this$getComponents = this.getComponents(),
                            Input = _this$getComponents.Input;

                        var _this$state4 = this.state,
                            inputIsHidden = _this$state4.inputIsHidden,
                            ariaSelection = _this$state4.ariaSelection;
                        var commonProps = this.commonProps;
                        var id = inputId || this.getElementId("input"); // aria attributes makes the JSX "noisy", separated for clarity

                        var ariaAttributes = _objectSpread2(
                            _objectSpread2(
                                {
                                    "aria-autocomplete": "list",
                                    "aria-expanded": menuIsOpen,
                                    "aria-haspopup": true,
                                    "aria-controls": this.getElementId("listbox"),
                                    "aria-owns": this.getElementId("listbox"),
                                    "aria-errormessage": this.props["aria-errormessage"],
                                    "aria-invalid": this.props["aria-invalid"],
                                    "aria-label": this.props["aria-label"],
                                    "aria-labelledby": this.props["aria-labelledby"],
                                    role: "combobox",
                                },
                                !isSearchable && {
                                    "aria-readonly": true,
                                }
                            ),
                            this.hasValue()
                                ? (ariaSelection === null || ariaSelection === void 0
                                      ? void 0
                                      : ariaSelection.action) === "initial-input-focus" && {
                                      "aria-describedby": this.getElementId("live-region"),
                                  }
                                : {
                                      "aria-describedby": this.getElementId("placeholder"),
                                  }
                        );

                        if (!isSearchable) {
                            // use a dummy input to maintain focus/blur functionality
                            return /*#__PURE__*/ React.createElement(
                                DummyInput,
                                _extends(
                                    {
                                        id: id,
                                        innerRef: this.getInputRef,
                                        onBlur: this.onInputBlur,
                                        onChange: noop,
                                        onFocus: this.onInputFocus,
                                        disabled: isDisabled,
                                        tabIndex: tabIndex,
                                        inputMode: "none",
                                        form: form,
                                        value: "",
                                    },
                                    ariaAttributes
                                )
                            );
                        }

                        return /*#__PURE__*/ React.createElement(
                            Input,
                            _extends(
                                {},
                                commonProps,
                                {
                                    autoCapitalize: "none",
                                    autoComplete: "off",
                                    autoCorrect: "off",
                                    id: id,
                                    innerRef: this.getInputRef,
                                    isDisabled: isDisabled,
                                    isHidden: inputIsHidden,
                                    onBlur: this.onInputBlur,
                                    onChange: this.handleInputChange,
                                    onFocus: this.onInputFocus,
                                    spellCheck: "false",
                                    tabIndex: tabIndex,
                                    form: form,
                                    type: "text",
                                    value: inputValue,
                                },
                                ariaAttributes
                            )
                        );
                    },
            },
            {
                key: "renderPlaceholderOrValue",
                value: function renderPlaceholderOrValue() {
                    var _this3 = this;

                    var _this$getComponents2 = this.getComponents(),
                        MultiValue = _this$getComponents2.MultiValue,
                        MultiValueContainer = _this$getComponents2.MultiValueContainer,
                        MultiValueLabel = _this$getComponents2.MultiValueLabel,
                        MultiValueRemove = _this$getComponents2.MultiValueRemove,
                        SingleValue = _this$getComponents2.SingleValue,
                        Placeholder = _this$getComponents2.Placeholder;

                    var commonProps = this.commonProps;
                    var _this$props9 = this.props,
                        controlShouldRenderValue = _this$props9.controlShouldRenderValue,
                        isDisabled = _this$props9.isDisabled,
                        isMulti = _this$props9.isMulti,
                        inputValue = _this$props9.inputValue,
                        placeholder = _this$props9.placeholder;
                    var _this$state5 = this.state,
                        selectValue = _this$state5.selectValue,
                        focusedValue = _this$state5.focusedValue,
                        isFocused = _this$state5.isFocused;

                    if (!this.hasValue() || !controlShouldRenderValue) {
                        return inputValue
                            ? null
                            : /*#__PURE__*/ React.createElement(
                                  Placeholder,
                                  _extends({}, commonProps, {
                                      key: "placeholder",
                                      isDisabled: isDisabled,
                                      isFocused: isFocused,
                                      innerProps: {
                                          id: this.getElementId("placeholder"),
                                      },
                                  }),
                                  placeholder
                              );
                    }

                    if (isMulti) {
                        return selectValue.map(function (opt, index) {
                            var isOptionFocused = opt === focusedValue;
                            var key = "".concat(_this3.getOptionLabel(opt), "-").concat(_this3.getOptionValue(opt));
                            return /*#__PURE__*/ React.createElement(
                                MultiValue,
                                _extends({}, commonProps, {
                                    components: {
                                        Container: MultiValueContainer,
                                        Label: MultiValueLabel,
                                        Remove: MultiValueRemove,
                                    },
                                    isFocused: isOptionFocused,
                                    isDisabled: isDisabled,
                                    key: key,
                                    index: index,
                                    removeProps: {
                                        onClick: function onClick() {
                                            return _this3.removeValue(opt);
                                        },
                                        onTouchEnd: function onTouchEnd() {
                                            return _this3.removeValue(opt);
                                        },
                                        onMouseDown: function onMouseDown(e) {
                                            e.preventDefault();
                                            e.stopPropagation();
                                        },
                                    },
                                    data: opt,
                                }),
                                _this3.formatOptionLabel(opt, "value")
                            );
                        });
                    }

                    if (inputValue) {
                        return null;
                    }

                    var singleValue = selectValue[0];
                    return /*#__PURE__*/ React.createElement(
                        SingleValue,
                        _extends({}, commonProps, {
                            data: singleValue,
                            isDisabled: isDisabled,
                        }),
                        this.formatOptionLabel(singleValue, "value")
                    );
                },
            },
            {
                key: "renderClearIndicator",
                value: function renderClearIndicator() {
                    var _this$getComponents3 = this.getComponents(),
                        ClearIndicator = _this$getComponents3.ClearIndicator;

                    var commonProps = this.commonProps;
                    var _this$props10 = this.props,
                        isDisabled = _this$props10.isDisabled,
                        isLoading = _this$props10.isLoading;
                    var isFocused = this.state.isFocused;

                    if (!this.isClearable() || !ClearIndicator || isDisabled || !this.hasValue() || isLoading) {
                        return null;
                    }

                    var innerProps = {
                        onMouseDown: this.onClearIndicatorMouseDown,
                        onTouchEnd: this.onClearIndicatorTouchEnd,
                        "aria-hidden": "true",
                    };
                    return /*#__PURE__*/ React.createElement(
                        ClearIndicator,
                        _extends({}, commonProps, {
                            innerProps: innerProps,
                            isFocused: isFocused,
                        })
                    );
                },
            },
            {
                key: "renderLoadingIndicator",
                value: function renderLoadingIndicator() {
                    var _this$getComponents4 = this.getComponents(),
                        LoadingIndicator = _this$getComponents4.LoadingIndicator;

                    var commonProps = this.commonProps;
                    var _this$props11 = this.props,
                        isDisabled = _this$props11.isDisabled,
                        isLoading = _this$props11.isLoading;
                    var isFocused = this.state.isFocused;
                    if (!LoadingIndicator || !isLoading) return null;
                    var innerProps = {
                        "aria-hidden": "true",
                    };
                    return /*#__PURE__*/ React.createElement(
                        LoadingIndicator,
                        _extends({}, commonProps, {
                            innerProps: innerProps,
                            isDisabled: isDisabled,
                            isFocused: isFocused,
                        })
                    );
                },
            },
            {
                key: "renderIndicatorSeparator",
                value: function renderIndicatorSeparator() {
                    var _this$getComponents5 = this.getComponents(),
                        DropdownIndicator = _this$getComponents5.DropdownIndicator,
                        IndicatorSeparator = _this$getComponents5.IndicatorSeparator; // separator doesn't make sense without the dropdown indicator

                    if (!DropdownIndicator || !IndicatorSeparator) return null;
                    var commonProps = this.commonProps;
                    var isDisabled = this.props.isDisabled;
                    var isFocused = this.state.isFocused;
                    return /*#__PURE__*/ React.createElement(
                        IndicatorSeparator,
                        _extends({}, commonProps, {
                            isDisabled: isDisabled,
                            isFocused: isFocused,
                        })
                    );
                },
            },
            {
                key: "renderDropdownIndicator",
                value: function renderDropdownIndicator() {
                    var _this$getComponents6 = this.getComponents(),
                        DropdownIndicator = _this$getComponents6.DropdownIndicator;

                    if (!DropdownIndicator) return null;
                    var commonProps = this.commonProps;
                    var isDisabled = this.props.isDisabled;
                    var isFocused = this.state.isFocused;
                    var innerProps = {
                        onMouseDown: this.onDropdownIndicatorMouseDown,
                        onTouchEnd: this.onDropdownIndicatorTouchEnd,
                        "aria-hidden": "true",
                    };
                    return /*#__PURE__*/ React.createElement(
                        DropdownIndicator,
                        _extends({}, commonProps, {
                            innerProps: innerProps,
                            isDisabled: isDisabled,
                            isFocused: isFocused,
                        })
                    );
                },
            },
            {
                key: "renderMenu",
                value: function renderMenu() {
                    var _this4 = this;

                    var _this$getComponents7 = this.getComponents(),
                        Group = _this$getComponents7.Group,
                        GroupHeading = _this$getComponents7.GroupHeading,
                        Menu = _this$getComponents7.Menu,
                        MenuList = _this$getComponents7.MenuList,
                        MenuPortal = _this$getComponents7.MenuPortal,
                        LoadingMessage = _this$getComponents7.LoadingMessage,
                        NoOptionsMessage = _this$getComponents7.NoOptionsMessage,
                        Option = _this$getComponents7.Option;

                    var commonProps = this.commonProps;
                    var focusedOption = this.state.focusedOption;
                    var _this$props12 = this.props,
                        captureMenuScroll = _this$props12.captureMenuScroll,
                        inputValue = _this$props12.inputValue,
                        isLoading = _this$props12.isLoading,
                        loadingMessage = _this$props12.loadingMessage,
                        minMenuHeight = _this$props12.minMenuHeight,
                        maxMenuHeight = _this$props12.maxMenuHeight,
                        menuIsOpen = _this$props12.menuIsOpen,
                        menuPlacement = _this$props12.menuPlacement,
                        menuPosition = _this$props12.menuPosition,
                        menuPortalTarget = _this$props12.menuPortalTarget,
                        menuShouldBlockScroll = _this$props12.menuShouldBlockScroll,
                        menuShouldScrollIntoView = _this$props12.menuShouldScrollIntoView,
                        noOptionsMessage = _this$props12.noOptionsMessage,
                        onMenuScrollToTop = _this$props12.onMenuScrollToTop,
                        onMenuScrollToBottom = _this$props12.onMenuScrollToBottom;
                    if (!menuIsOpen) return null; // TODO: Internal Option Type here

                    var render = function render(props, id) {
                        var type = props.type,
                            data = props.data,
                            isDisabled = props.isDisabled,
                            isSelected = props.isSelected,
                            label = props.label,
                            value = props.value;
                        var isFocused = focusedOption === data;
                        var onHover = isDisabled
                            ? undefined
                            : function () {
                                  return _this4.onOptionHover(data);
                              };
                        var onSelect = isDisabled
                            ? undefined
                            : function () {
                                  return _this4.selectOption(data);
                              };
                        var optionId = "".concat(_this4.getElementId("option"), "-").concat(id);
                        var innerProps = {
                            id: optionId,
                            onClick: onSelect,
                            onMouseMove: onHover,
                            onMouseOver: onHover,
                            tabIndex: -1,
                        };
                        return /*#__PURE__*/ React.createElement(
                            Option,
                            _extends({}, commonProps, {
                                innerProps: innerProps,
                                data: data,
                                isDisabled: isDisabled,
                                isSelected: isSelected,
                                key: optionId,
                                label: label,
                                type: type,
                                value: value,
                                isFocused: isFocused,
                                innerRef: isFocused ? _this4.getFocusedOptionRef : undefined,
                            }),
                            _this4.formatOptionLabel(props.data, "menu")
                        );
                    };

                    var menuUI;

                    if (this.hasOptions()) {
                        menuUI = this.getCategorizedOptions().map(function (item) {
                            if (item.type === "group") {
                                var _data = item.data,
                                    options = item.options,
                                    groupIndex = item.index;
                                var groupId = "".concat(_this4.getElementId("group"), "-").concat(groupIndex);
                                var headingId = "".concat(groupId, "-heading");
                                return /*#__PURE__*/ React.createElement(
                                    Group,
                                    _extends({}, commonProps, {
                                        key: groupId,
                                        data: _data,
                                        options: options,
                                        Heading: GroupHeading,
                                        headingProps: {
                                            id: headingId,
                                            data: item.data,
                                        },
                                        label: _this4.formatGroupLabel(item.data),
                                    }),
                                    item.options.map(function (option) {
                                        return render(option, "".concat(groupIndex, "-").concat(option.index));
                                    })
                                );
                            } else if (item.type === "option") {
                                return render(item, "".concat(item.index));
                            }
                        });
                    } else if (isLoading) {
                        var message = loadingMessage({
                            inputValue: inputValue,
                        });
                        if (message === null) return null;
                        menuUI = /*#__PURE__*/ React.createElement(LoadingMessage, commonProps, message);
                    } else {
                        var _message = noOptionsMessage({
                            inputValue: inputValue,
                        });

                        if (_message === null) return null;
                        menuUI = /*#__PURE__*/ React.createElement(NoOptionsMessage, commonProps, _message);
                    }

                    var menuPlacementProps = {
                        minMenuHeight: minMenuHeight,
                        maxMenuHeight: maxMenuHeight,
                        menuPlacement: menuPlacement,
                        menuPosition: menuPosition,
                        menuShouldScrollIntoView: menuShouldScrollIntoView,
                    };
                    var menuElement = /*#__PURE__*/ React.createElement(
                        MenuPlacer,
                        _extends({}, commonProps, menuPlacementProps),
                        function (_ref4) {
                            var ref = _ref4.ref,
                                _ref4$placerProps = _ref4.placerProps,
                                placement = _ref4$placerProps.placement,
                                maxHeight = _ref4$placerProps.maxHeight;
                            return /*#__PURE__*/ React.createElement(
                                Menu,
                                _extends({}, commonProps, menuPlacementProps, {
                                    innerRef: ref,
                                    innerProps: {
                                        onMouseDown: _this4.onMenuMouseDown,
                                        onMouseMove: _this4.onMenuMouseMove,
                                        id: _this4.getElementId("listbox"),
                                    },
                                    isLoading: isLoading,
                                    placement: placement,
                                }),
                                /*#__PURE__*/ React.createElement(
                                    ScrollManager,
                                    {
                                        captureEnabled: captureMenuScroll,
                                        onTopArrive: onMenuScrollToTop,
                                        onBottomArrive: onMenuScrollToBottom,
                                        lockEnabled: menuShouldBlockScroll,
                                    },
                                    function (scrollTargetRef) {
                                        return /*#__PURE__*/ React.createElement(
                                            MenuList,
                                            _extends({}, commonProps, {
                                                innerRef: function innerRef(instance) {
                                                    _this4.getMenuListRef(instance);

                                                    scrollTargetRef(instance);
                                                },
                                                isLoading: isLoading,
                                                maxHeight: maxHeight,
                                                focusedOption: focusedOption,
                                            }),
                                            menuUI
                                        );
                                    }
                                )
                            );
                        }
                    ); // positioning behaviour is almost identical for portalled and fixed,
                    // so we use the same component. the actual portalling logic is forked
                    // within the component based on `menuPosition`

                    return menuPortalTarget || menuPosition === "fixed"
                        ? /*#__PURE__*/ React.createElement(
                              MenuPortal,
                              _extends({}, commonProps, {
                                  appendTo: menuPortalTarget,
                                  controlElement: this.controlRef,
                                  menuPlacement: menuPlacement,
                                  menuPosition: menuPosition,
                              }),
                              menuElement
                          )
                        : menuElement;
                },
            },
            {
                key: "renderFormField",
                value: function renderFormField() {
                    var _this5 = this;

                    var _this$props13 = this.props,
                        delimiter = _this$props13.delimiter,
                        isDisabled = _this$props13.isDisabled,
                        isMulti = _this$props13.isMulti,
                        name = _this$props13.name;
                    var selectValue = this.state.selectValue;
                    if (!name || isDisabled) return;

                    if (isMulti) {
                        if (delimiter) {
                            var value = selectValue
                                .map(function (opt) {
                                    return _this5.getOptionValue(opt);
                                })
                                .join(delimiter);
                            return /*#__PURE__*/ React.createElement("input", {
                                name: name,
                                type: "hidden",
                                value: value,
                            });
                        } else {
                            var input =
                                selectValue.length > 0
                                    ? selectValue.map(function (opt, i) {
                                          return /*#__PURE__*/ React.createElement("input", {
                                              key: "i-".concat(i),
                                              name: name,
                                              type: "hidden",
                                              value: _this5.getOptionValue(opt),
                                          });
                                      })
                                    : /*#__PURE__*/ React.createElement("input", {
                                          name: name,
                                          type: "hidden",
                                      });
                            return /*#__PURE__*/ React.createElement("div", null, input);
                        }
                    } else {
                        var _value = selectValue[0] ? this.getOptionValue(selectValue[0]) : "";

                        return /*#__PURE__*/ React.createElement("input", {
                            name: name,
                            type: "hidden",
                            value: _value,
                        });
                    }
                },
            },
            {
                key: "renderLiveRegion",
                value: function renderLiveRegion() {
                    var commonProps = this.commonProps;
                    var _this$state6 = this.state,
                        ariaSelection = _this$state6.ariaSelection,
                        focusedOption = _this$state6.focusedOption,
                        focusedValue = _this$state6.focusedValue,
                        isFocused = _this$state6.isFocused,
                        selectValue = _this$state6.selectValue;
                    var focusableOptions = this.getFocusableOptions();
                    return /*#__PURE__*/ React.createElement(
                        LiveRegion,
                        _extends({}, commonProps, {
                            id: this.getElementId("live-region"),
                            ariaSelection: ariaSelection,
                            focusedOption: focusedOption,
                            focusedValue: focusedValue,
                            isFocused: isFocused,
                            selectValue: selectValue,
                            focusableOptions: focusableOptions,
                        })
                    );
                },
            },
            {
                key: "render",
                value: function render() {
                    var _this$getComponents8 = this.getComponents(),
                        Control = _this$getComponents8.Control,
                        IndicatorsContainer = _this$getComponents8.IndicatorsContainer,
                        SelectContainer = _this$getComponents8.SelectContainer,
                        ValueContainer = _this$getComponents8.ValueContainer;

                    var _this$props14 = this.props,
                        className = _this$props14.className,
                        id = _this$props14.id,
                        isDisabled = _this$props14.isDisabled,
                        menuIsOpen = _this$props14.menuIsOpen;
                    var isFocused = this.state.isFocused;
                    var commonProps = (this.commonProps = this.getCommonProps());
                    return /*#__PURE__*/ React.createElement(
                        SelectContainer,
                        _extends({}, commonProps, {
                            className: className,
                            innerProps: {
                                id: id,
                                onKeyDown: this.onKeyDown,
                            },
                            isDisabled: isDisabled,
                            isFocused: isFocused,
                        }),
                        this.renderLiveRegion(),
                        /*#__PURE__*/ React.createElement(
                            Control,
                            _extends({}, commonProps, {
                                innerRef: this.getControlRef,
                                innerProps: {
                                    onMouseDown: this.onControlMouseDown,
                                    onTouchEnd: this.onControlTouchEnd,
                                },
                                isDisabled: isDisabled,
                                isFocused: isFocused,
                                menuIsOpen: menuIsOpen,
                            }),
                            /*#__PURE__*/ React.createElement(
                                ValueContainer,
                                _extends({}, commonProps, {
                                    isDisabled: isDisabled,
                                }),
                                this.renderPlaceholderOrValue(),
                                this.renderInput()
                            ),
                            /*#__PURE__*/ React.createElement(
                                IndicatorsContainer,
                                _extends({}, commonProps, {
                                    isDisabled: isDisabled,
                                }),
                                this.renderClearIndicator(),
                                this.renderLoadingIndicator(),
                                this.renderIndicatorSeparator(),
                                this.renderDropdownIndicator()
                            )
                        ),
                        this.renderMenu(),
                        this.renderFormField()
                    );
                },
            },
        ],
        [
            {
                key: "getDerivedStateFromProps",
                value: function getDerivedStateFromProps(props, state) {
                    var prevProps = state.prevProps,
                        clearFocusValueOnUpdate = state.clearFocusValueOnUpdate,
                        inputIsHiddenAfterUpdate = state.inputIsHiddenAfterUpdate,
                        ariaSelection = state.ariaSelection,
                        isFocused = state.isFocused,
                        prevWasFocused = state.prevWasFocused;
                    var options = props.options,
                        value = props.value,
                        menuIsOpen = props.menuIsOpen,
                        inputValue = props.inputValue,
                        isMulti = props.isMulti;
                    var selectValue = cleanValue(value);
                    var newMenuOptionsState = {};

                    if (
                        prevProps &&
                        (value !== prevProps.value ||
                            options !== prevProps.options ||
                            menuIsOpen !== prevProps.menuIsOpen ||
                            inputValue !== prevProps.inputValue)
                    ) {
                        var focusableOptions = menuIsOpen ? buildFocusableOptions(props, selectValue) : [];
                        var focusedValue = clearFocusValueOnUpdate ? getNextFocusedValue(state, selectValue) : null;
                        var focusedOption = getNextFocusedOption(state, focusableOptions);
                        newMenuOptionsState = {
                            selectValue: selectValue,
                            focusedOption: focusedOption,
                            focusedValue: focusedValue,
                            clearFocusValueOnUpdate: false,
                        };
                    } // some updates should toggle the state of the input visibility

                    var newInputIsHiddenState =
                        inputIsHiddenAfterUpdate != null && props !== prevProps
                            ? {
                                  inputIsHidden: inputIsHiddenAfterUpdate,
                                  inputIsHiddenAfterUpdate: undefined,
                              }
                            : {};
                    var newAriaSelection = ariaSelection;
                    var hasKeptFocus = isFocused && prevWasFocused;

                    if (isFocused && !hasKeptFocus) {
                        // If `value` or `defaultValue` props are not empty then announce them
                        // when the Select is initially focused
                        newAriaSelection = {
                            value: valueTernary(isMulti, selectValue, selectValue[0] || null),
                            options: selectValue,
                            action: "initial-input-focus",
                        };
                        hasKeptFocus = !prevWasFocused;
                    } // If the 'initial-input-focus' action has been set already
                    // then reset the ariaSelection to null

                    if (
                        (ariaSelection === null || ariaSelection === void 0 ? void 0 : ariaSelection.action) ===
                        "initial-input-focus"
                    ) {
                        newAriaSelection = null;
                    }

                    return _objectSpread2(
                        _objectSpread2(_objectSpread2({}, newMenuOptionsState), newInputIsHiddenState),
                        {},
                        {
                            prevProps: props,
                            ariaSelection: newAriaSelection,
                            prevWasFocused: hasKeptFocus,
                        }
                    );
                },
            },
        ]
    );

    return Select;
})(React.Component);

Select$1.defaultProps = defaultProps;

var arrayWithHoles = authRecipe.createCommonjsModule(function (module) {
    function _arrayWithHoles(arr) {
        if (Array.isArray(arr)) return arr;
    }

    (module.exports = _arrayWithHoles),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(arrayWithHoles);

var iterableToArrayLimit = authRecipe.createCommonjsModule(function (module) {
    function _iterableToArrayLimit(arr, i) {
        var _i = arr == null ? null : (typeof Symbol !== "undefined" && arr[Symbol.iterator]) || arr["@@iterator"];

        if (_i == null) return;
        var _arr = [];
        var _n = true;
        var _d = false;

        var _s, _e;

        try {
            for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {
                _arr.push(_s.value);

                if (i && _arr.length === i) break;
            }
        } catch (err) {
            _d = true;
            _e = err;
        } finally {
            try {
                if (!_n && _i["return"] != null) _i["return"]();
            } finally {
                if (_d) throw _e;
            }
        }

        return _arr;
    }

    (module.exports = _iterableToArrayLimit),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(iterableToArrayLimit);

var arrayLikeToArray = authRecipe.createCommonjsModule(function (module) {
    function _arrayLikeToArray(arr, len) {
        if (len == null || len > arr.length) len = arr.length;

        for (var i = 0, arr2 = new Array(len); i < len; i++) {
            arr2[i] = arr[i];
        }

        return arr2;
    }

    (module.exports = _arrayLikeToArray),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(arrayLikeToArray);

var unsupportedIterableToArray = authRecipe.createCommonjsModule(function (module) {
    function _unsupportedIterableToArray(o, minLen) {
        if (!o) return;
        if (typeof o === "string") return arrayLikeToArray(o, minLen);
        var n = Object.prototype.toString.call(o).slice(8, -1);
        if (n === "Object" && o.constructor) n = o.constructor.name;
        if (n === "Map" || n === "Set") return Array.from(o);
        if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);
    }

    (module.exports = _unsupportedIterableToArray),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(unsupportedIterableToArray);

var nonIterableRest = authRecipe.createCommonjsModule(function (module) {
    function _nonIterableRest() {
        throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
        );
    }

    (module.exports = _nonIterableRest),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(nonIterableRest);

var slicedToArray = authRecipe.createCommonjsModule(function (module) {
    function _slicedToArray(arr, i) {
        return (
            arrayWithHoles(arr) ||
            iterableToArrayLimit(arr, i) ||
            unsupportedIterableToArray(arr, i) ||
            nonIterableRest()
        );
    }

    (module.exports = _slicedToArray), (module.exports.__esModule = true), (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(slicedToArray);

var objectWithoutPropertiesLoose = authRecipe.createCommonjsModule(function (module) {
    function _objectWithoutPropertiesLoose(source, excluded) {
        if (source == null) return {};
        var target = {};
        var sourceKeys = Object.keys(source);
        var key, i;

        for (i = 0; i < sourceKeys.length; i++) {
            key = sourceKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            target[key] = source[key];
        }

        return target;
    }

    (module.exports = _objectWithoutPropertiesLoose),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(objectWithoutPropertiesLoose);

var objectWithoutProperties = authRecipe.createCommonjsModule(function (module) {
    function _objectWithoutProperties(source, excluded) {
        if (source == null) return {};
        var target = objectWithoutPropertiesLoose(source, excluded);
        var key, i;

        if (Object.getOwnPropertySymbols) {
            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

            for (i = 0; i < sourceSymbolKeys.length; i++) {
                key = sourceSymbolKeys[i];
                if (excluded.indexOf(key) >= 0) continue;
                if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
                target[key] = source[key];
            }
        }

        return target;
    }

    (module.exports = _objectWithoutProperties),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(objectWithoutProperties);

var arrayWithoutHoles = authRecipe.createCommonjsModule(function (module) {
    function _arrayWithoutHoles(arr) {
        if (Array.isArray(arr)) return arrayLikeToArray(arr);
    }

    (module.exports = _arrayWithoutHoles),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(arrayWithoutHoles);

var iterableToArray = authRecipe.createCommonjsModule(function (module) {
    function _iterableToArray(iter) {
        if ((typeof Symbol !== "undefined" && iter[Symbol.iterator] != null) || iter["@@iterator"] != null)
            return Array.from(iter);
    }

    (module.exports = _iterableToArray),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(iterableToArray);

var nonIterableSpread = authRecipe.createCommonjsModule(function (module) {
    function _nonIterableSpread() {
        throw new TypeError(
            "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
        );
    }

    (module.exports = _nonIterableSpread),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(nonIterableSpread);

var toConsumableArray = authRecipe.createCommonjsModule(function (module) {
    function _toConsumableArray(arr) {
        return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();
    }

    (module.exports = _toConsumableArray),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(toConsumableArray);

var taggedTemplateLiteral = authRecipe.createCommonjsModule(function (module) {
    function _taggedTemplateLiteral(strings, raw) {
        if (!raw) {
            raw = strings.slice(0);
        }

        return Object.freeze(
            Object.defineProperties(strings, {
                raw: {
                    value: Object.freeze(raw),
                },
            })
        );
    }

    (module.exports = _taggedTemplateLiteral),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(taggedTemplateLiteral);

var _typeof_1 = authRecipe.createCommonjsModule(function (module) {
    function _typeof(obj) {
        "@babel/helpers - typeof";

        return (
            ((module.exports = _typeof =
                "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                    ? function (obj) {
                          return typeof obj;
                      }
                    : function (obj) {
                          return obj &&
                              "function" == typeof Symbol &&
                              obj.constructor === Symbol &&
                              obj !== Symbol.prototype
                              ? "symbol"
                              : typeof obj;
                      }),
            (module.exports.__esModule = true),
            (module.exports["default"] = module.exports)),
            _typeof(obj)
        );
    }

    (module.exports = _typeof), (module.exports.__esModule = true), (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(_typeof_1);

var defineProperty = authRecipe.createCommonjsModule(function (module) {
    function _defineProperty(obj, key, value) {
        if (key in obj) {
            Object.defineProperty(obj, key, {
                value: value,
                enumerable: true,
                configurable: true,
                writable: true,
            });
        } else {
            obj[key] = value;
        }

        return obj;
    }

    (module.exports = _defineProperty),
        (module.exports.__esModule = true),
        (module.exports["default"] = module.exports);
});

authRecipe.unwrapExports(defineProperty);

var StateManagedSelect = /*#__PURE__*/ React.forwardRef(function (props, ref) {
    var baseSelectProps = useStateManager(props);
    return /*#__PURE__*/ React.createElement(
        Select$1,
        _extends(
            {
                ref: ref,
            },
            baseSelectProps
        )
    );
});

var Select = StateManagedSelect;

/*
 * Component.
 */
function PhoneNumberInput(_a) {
    var defaultCountry = _a.defaultCountry,
        autoComplete = _a.autoComplete,
        autofocus = _a.autofocus,
        name = _a.name,
        onInputBlur = _a.onInputBlur,
        onInputFocus = _a.onInputFocus,
        onChange = _a.onChange,
        hasError = _a.hasError,
        placeholder = _a.placeholder,
        value = _a.value;
    function handleFocus() {
        if (onInputFocus !== undefined) {
            onInputFocus({
                id: name,
                value: value,
            });
        }
    }
    function handleBlur() {
        if (onInputBlur !== undefined) {
            onInputBlur({
                id: name,
                value: value,
            });
        }
    }
    function handleChange(newValue) {
        if (onChange !== undefined) {
            onChange({
                id: name,
                value: newValue,
            });
        }
    }
    React.useEffect(function () {
        var countries = getCountries();
        for (var _i = 0, countries_1 = countries; _i < countries_1.length; _i++) {
            var code = countries_1[_i];
            new Image().src = "http://purecatamphetamine.github.io/country-flag-icons/3x2/".concat(code, ".svg");
        }
    }, []);
    /*
     * Render.
     */
    return jsxRuntime.jsx(
        "div",
        assets.__assign(
            { "data-supertokens": "inputContainer" },
            {
                children: jsxRuntime.jsxs(
                    "div",
                    assets.__assign(
                        { "data-supertokens": "inputWrapper ".concat(hasError ? "inputError" : "") },
                        {
                            children: [
                                jsxRuntime.jsx(PhoneInputWithCountrySelect, {
                                    "data-supertokens": "input phoneInputLibRoot",
                                    countrySelectComponent: CountrySelectWithIcon,
                                    name: name + "_text",
                                    autoFocus: autofocus,
                                    autoComplete: autoComplete,
                                    value: value,
                                    onChange: handleChange,
                                    countryCallingCodeEditable: true,
                                    onFocus: handleFocus,
                                    onBlur: handleBlur,
                                    international: true,
                                    placeholder: placeholder,
                                    defaultCountry: defaultCountry,
                                    smartCaret: false,
                                }),
                                hasError === true &&
                                    jsxRuntime.jsx(
                                        "div",
                                        assets.__assign(
                                            { "data-supertokens": "inputAdornment inputAdornmentError" },
                                            { children: jsxRuntime.jsx(assets.ErrorIcon, {}) }
                                        )
                                    ),
                            ],
                        }
                    )
                ),
            }
        )
    );
}
function CountrySelectWithIcon(_a) {
    var value = _a.value,
        options = _a.options,
        Icon = _a.iconComponent,
        onChange = _a.onChange;
    var style = {};
    var selectedOption = options.find(function (o) {
        return o.value === value;
    });
    var selectStyles = React.useMemo(
        function () {
            return {
                menu: function (provided) {
                    return assets.__assign(
                        assets.__assign(assets.__assign({}, provided), style.phoneInputCountryDropdown),
                        {
                            // These elements are added inside CustomOption below
                            // We are styling them here, to avoid emotion processing on each element (200+ countries)
                            "& [data-supertokens=phoneInputCountryOptionLabel]": assets.__assign(
                                {},
                                style.phoneInputCountryOptionLabel
                            ),
                            "& [data-supertokens=phoneInputCountryOption]": assets.__assign(
                                {},
                                style.phoneInputCountryOption
                            ),
                            "& [data-supertokens=phoneInputCountryOptionCallingCode]": assets.__assign(
                                {},
                                style.phoneInputCountryOptionCallingCode
                            ),
                        }
                    );
                },
                control: function (provided) {
                    return assets.__assign(assets.__assign({}, provided), style.phoneInputCountryControl);
                },
                valueContainer: function (provided) {
                    return assets.__assign(assets.__assign({}, provided), style.phoneInputCountryValueContainer);
                },
                dropdownIndicator: function (provided) {
                    return assets.__assign(assets.__assign({}, provided), style.phoneInputCountryDropdownIndicator);
                },
            };
        },
        [style]
    );
    var selectOnChange = React.useCallback(
        function (selected) {
            onChange(selected === null ? undefined : selected.value);
        },
        [onChange]
    );
    var components$1 = React.useMemo(function () {
        var CustomOption = function (_a) {
            var innerProps = _a.innerProps,
                data = _a.data,
                isSelected = _a.isSelected,
                isDisabled = _a.isDisabled;
            return !isDisabled
                ? jsxRuntime.jsxs(
                      "div",
                      assets.__assign(
                          {},
                          innerProps,
                          {
                              "data-supertokens": "phoneInputCountryOption",
                              onTouchEnd: function (ev) {
                                  // We need to stop propagation here, to prevent the menu closing before the click is fired
                                  ev.stopPropagation();
                              },
                              "aria-selected": isSelected,
                          },
                          {
                              children: [
                                  jsxRuntime.jsx(Icon, { country: data.value, label: data.label }),
                                  jsxRuntime.jsx(
                                      "span",
                                      assets.__assign(
                                          { "data-supertokens": "phoneInputCountryOptionLabel" },
                                          { children: data.label }
                                      )
                                  ),
                                  data.value &&
                                      jsxRuntime.jsxs(
                                          "span",
                                          assets.__assign(
                                              { "data-supertokens": "phoneInputCountryOptionCallingCode" },
                                              { children: ["+", getCountryCallingCode(data.value)] }
                                          )
                                      ),
                              ],
                          }
                      )
                  )
                : null;
        };
        var Control = function (_a) {
            var _b;
            var children = _a.children,
                rest = assets.__rest(_a, ["children"]);
            return jsxRuntime.jsx(
                components.SingleValue,
                assets.__assign({ "data-supertokens": "phoneInputCountrySelect" }, rest, {
                    children: jsxRuntime.jsx(Icon, {
                        country: (_b = rest.getValue()[0]) === null || _b === void 0 ? void 0 : _b.value,
                        label: children,
                    }),
                })
            );
        };
        return { Option: CustomOption, SingleValue: Control, IndicatorSeparator: undefined };
    }, []);
    return jsxRuntime.jsx(Select, {
        options: options,
        styles: selectStyles,
        value: selectedOption,
        onChange: selectOnChange,
        components: components$1,
    });
}
// TODO: type props
var phoneNumberInputWithInjectedProps = function (injectedProps) {
    return function (props) {
        return jsxRuntime.jsx(PhoneNumberInput, assets.__assign({}, injectedProps, props));
    };
};

var EmailOrPhoneForm = querier.withOverride(
    "PasswordlessEmailOrPhoneForm",
    function PasswordlessEmailOrPhoneForm(props) {
        var _this = this;
        var _a = React.useState(false),
            isPhoneNumber = _a[0],
            setIsPhoneNumber = _a[1];
        var userContext = authRecipe.useUserContext();
        var emailOrPhoneInput = React.useMemo(
            function () {
                return isPhoneNumber
                    ? phoneNumberInputWithInjectedProps({
                          defaultCountry: props.config.signInUpFeature.defaultCountry,
                      })
                    : undefined;
            },
            [props.config.signInUpFeature.defaultCountry, isPhoneNumber]
        );
        return jsxRuntime.jsx(formBase.FormBase, {
            clearError: props.clearError,
            onError: props.onError,
            formFields: [
                {
                    id: "emailOrPhone",
                    label: "PWLESS_SIGN_IN_UP_EMAIL_OR_PHONE_LABEL",
                    inputComponent: emailOrPhoneInput,
                    optional: false,
                    autofocus: true,
                    placeholder: "",
                    validate: defaultValidate,
                },
            ],
            buttonLabel: "PWLESS_SIGN_IN_UP_CONTINUE_BUTTON",
            onSuccess: props.onSuccess,
            callAPI: function (formFields, setValue) {
                return assets.__awaiter(_this, void 0, void 0, function () {
                    var emailOrPhone,
                        emailValidationRes,
                        response,
                        phoneValidationRes,
                        response,
                        intPhoneNumber,
                        phoneValidationResAfterGuess,
                        ex_1;
                    var _a;
                    return assets.__generator(this, function (_b) {
                        switch (_b.label) {
                            case 0:
                                emailOrPhone =
                                    (_a = formFields.find(function (field) {
                                        return field.id === "emailOrPhone";
                                    })) === null || _a === void 0
                                        ? void 0
                                        : _a.value;
                                if (emailOrPhone === undefined) {
                                    throw new querier.STGeneralError("GENERAL_ERROR_EMAIL_OR_PHONE_UNDEFINED");
                                }
                                return [4 /*yield*/, defaultEmailValidator(emailOrPhone)];
                            case 1:
                                if (!(_b.sent() === undefined)) return [3 /*break*/, 6];
                                return [4 /*yield*/, props.config.validateEmailAddress(emailOrPhone)];
                            case 2:
                                emailValidationRes = _b.sent();
                                if (!(emailValidationRes === undefined)) return [3 /*break*/, 4];
                                return [
                                    4 /*yield*/,
                                    props.recipeImplementation.createCode({
                                        email: emailOrPhone,
                                        userContext: userContext,
                                    }),
                                ];
                            case 3:
                                response = _b.sent();
                                return [2 /*return*/, response];
                            case 4:
                                throw new querier.STGeneralError(emailValidationRes);
                            case 5:
                                return [3 /*break*/, 19];
                            case 6:
                                return [4 /*yield*/, props.config.validatePhoneNumber(emailOrPhone)];
                            case 7:
                                phoneValidationRes = _b.sent();
                                if (!(phoneValidationRes === undefined)) return [3 /*break*/, 9];
                                return [
                                    4 /*yield*/,
                                    props.recipeImplementation.createCode({
                                        phoneNumber: emailOrPhone,
                                        userContext: userContext,
                                    }),
                                ];
                            case 8:
                                response = _b.sent();
                                return [2 /*return*/, response];
                            case 9:
                                return [
                                    4 /*yield*/,
                                    props.config.signInUpFeature.guessInternationPhoneNumberFromInputPhoneNumber(
                                        emailOrPhone,
                                        props.config.signInUpFeature.defaultCountry
                                    ),
                                ];
                            case 10:
                                intPhoneNumber = _b.sent();
                                if (!(intPhoneNumber && isPhoneNumber !== true)) return [3 /*break*/, 18];
                                return [4 /*yield*/, props.config.validatePhoneNumber(intPhoneNumber)];
                            case 11:
                                phoneValidationResAfterGuess = _b.sent();
                                if (!(phoneValidationResAfterGuess === undefined)) return [3 /*break*/, 16];
                                _b.label = 12;
                            case 12:
                                _b.trys.push([12, 14, , 15]);
                                return [
                                    4 /*yield*/,
                                    props.recipeImplementation.createCode({
                                        phoneNumber: intPhoneNumber,
                                        userContext: userContext,
                                    }),
                                ];
                            case 13:
                                return [2 /*return*/, _b.sent()];
                            case 14:
                                ex_1 = _b.sent();
                                // General errors from the API can make createCode throw but we want to switch to the phone UI anyway
                                setValue("emailOrPhone", intPhoneNumber);
                                setIsPhoneNumber(true);
                                throw ex_1;
                            case 15:
                                return [3 /*break*/, 17];
                            case 16:
                                // In this case we could get a phonenumber but not a completely valid one
                                // We want to switch to the phone UI and pre-fill the number
                                setValue("emailOrPhone", intPhoneNumber);
                                setIsPhoneNumber(true);
                                throw new querier.STGeneralError("PWLESS_EMAIL_OR_PHONE_INVALID_INPUT_GUESS_PHONE_ERR");
                            case 17:
                                return [3 /*break*/, 19];
                            case 18:
                                throw new querier.STGeneralError(phoneValidationRes);
                            case 19:
                                return [2 /*return*/];
                        }
                    });
                });
            },
            validateOnBlur: false,
            showLabels: true,
            footer: jsxRuntime.jsx(SignInUpFooter, {
                privacyPolicyLink: props.config.signInUpFeature.privacyPolicyLink,
                termsOfServiceLink: props.config.signInUpFeature.termsOfServiceLink,
            }),
        });
    }
);

var ResendButton = querier.withOverride("PasswordlessResendButton", function PasswordlessResendButton(_a) {
    var loginAttemptInfo = _a.loginAttemptInfo,
        resendEmailOrSMSGapInSeconds = _a.resendEmailOrSMSGapInSeconds,
        onClick = _a.onClick;
    var t = translationContext.useTranslation();
    var getTimeLeft = React.useCallback(
        function () {
            var timeLeft = loginAttemptInfo.lastResend + resendEmailOrSMSGapInSeconds * 1000 - Date.now();
            return timeLeft < 0 ? undefined : Math.ceil(timeLeft / 1000);
        },
        [loginAttemptInfo, resendEmailOrSMSGapInSeconds]
    );
    var _b = React.useState(getTimeLeft()),
        secsUntilResend = _b[0],
        setSecsUntilResend = _b[1];
    React.useEffect(
        function () {
            // This runs every time the loginAttemptInfo updates, so after every resend
            var interval = setInterval(function () {
                var timeLeft = getTimeLeft();
                if (timeLeft === undefined) {
                    clearInterval(interval);
                }
                setSecsUntilResend(timeLeft);
            }, 500);
            return function () {
                // This can safely run twice
                clearInterval(interval);
            };
        },
        [getTimeLeft, setSecsUntilResend]
    );
    return jsxRuntime.jsx(
        "button",
        assets.__assign(
            {
                type: "button",
                disabled: secsUntilResend !== undefined,
                onClick: onClick,
                "data-supertokens": "link linkButton resendCodeBtn",
            },
            {
                children:
                    secsUntilResend !== undefined
                        ? jsxRuntime.jsxs(React.Fragment, {
                              children: [
                                  t("PWLESS_RESEND_BTN_DISABLED_START"),
                                  jsxRuntime.jsxs("strong", {
                                      children: [
                                          Math.floor(secsUntilResend / 60)
                                              .toString()
                                              .padStart(2, "0"),
                                          ":",
                                          (secsUntilResend % 60).toString().padStart(2, "0"),
                                      ],
                                  }),
                                  t("PWLESS_RESEND_BTN_DISABLED_END"),
                              ],
                          })
                        : loginAttemptInfo.contactMethod === "EMAIL"
                        ? t("PWLESS_RESEND_BTN_EMAIL")
                        : t("PWLESS_RESEND_BTN_PHONE"),
            }
        )
    );
});

var PasswordlessLinkSent = function (props) {
    var t = translationContext.useTranslation();
    var userContext = authRecipe.useUserContext();
    var _a = React.useState(props.error !== undefined ? "ERROR" : "READY"),
        status = _a[0],
        setStatus = _a[1];
    // Any because node types are included here, messing with return type of setTimeout
    var resendNotifTimeout = React.useRef();
    React.useEffect(function () {
        return function () {
            // This can safely run even if it was cleared before
            if (resendNotifTimeout.current) {
                clearTimeout(resendNotifTimeout.current);
            }
        };
    }, []);
    var resendEmail = React.useCallback(
        function () {
            return assets.__awaiter(void 0, void 0, void 0, function () {
                var response, generalError, e_1;
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            _a.trys.push([0, 5, , 6]);
                            props.clearError();
                            response = void 0;
                            generalError = void 0;
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 3, , 4]);
                            return [
                                4 /*yield*/,
                                props.recipeImplementation.resendCode({
                                    deviceId: props.loginAttemptInfo.deviceId,
                                    preAuthSessionId: props.loginAttemptInfo.preAuthSessionId,
                                    userContext: userContext,
                                }),
                            ];
                        case 2:
                            response = _a.sent();
                            return [3 /*break*/, 4];
                        case 3:
                            e_1 = _a.sent();
                            if (querier.STGeneralError.isThisError(e_1)) {
                                generalError = e_1;
                            } else {
                                throw e_1;
                            }
                            return [3 /*break*/, 4];
                        case 4:
                            if (response !== undefined && response.status === "OK") {
                                setStatus("LINK_RESENT");
                                resendNotifTimeout.current = setTimeout(function () {
                                    setStatus(function (status) {
                                        return status === "LINK_RESENT" ? "READY" : status;
                                    });
                                    resendNotifTimeout.current = undefined;
                                }, 2000);
                            } else {
                                setStatus("ERROR");
                                if (generalError !== undefined) {
                                    props.onError(generalError.message);
                                }
                            }
                            return [3 /*break*/, 6];
                        case 5:
                            _a.sent();
                            setStatus("ERROR");
                            return [3 /*break*/, 6];
                        case 6:
                            return [2 /*return*/];
                    }
                });
            });
        },
        [props.recipeImplementation, props.loginAttemptInfo, props.config, setStatus]
    );
    var resendActive = status === "LINK_RESENT";
    return jsxRuntime.jsx(
        "div",
        assets.__assign(
            { "data-supertokens": "container" },
            {
                children: jsxRuntime.jsxs(
                    "div",
                    assets.__assign(
                        { "data-supertokens": "row" },
                        {
                            children: [
                                status === "ERROR" &&
                                    jsxRuntime.jsx(querier.GeneralError, {
                                        error: props.error === undefined ? "SOMETHING_WENT_WRONG_ERROR" : props.error,
                                    }),
                                resendActive &&
                                    jsxRuntime.jsx(
                                        "div",
                                        assets.__assign(
                                            { "data-supertokens": "generalSuccess" },
                                            { children: t("PWLESS_LINK_SENT_RESEND_SUCCESS") }
                                        )
                                    ),
                                jsxRuntime.jsx(
                                    "div",
                                    assets.__assign(
                                        { "data-supertokens": "sendCodeIcon" },
                                        {
                                            children:
                                                props.loginAttemptInfo.contactMethod === "EMAIL"
                                                    ? jsxRuntime.jsx(assets.EmailLargeIcon, {})
                                                    : jsxRuntime.jsx(assets.SMSLargeIcon, {}),
                                        }
                                    )
                                ),
                                jsxRuntime.jsx(
                                    "div",
                                    assets.__assign(
                                        { "data-supertokens": "headerTitle headerTinyTitle" },
                                        { children: t("PWLESS_LINK_SENT_RESEND_TITLE") }
                                    )
                                ),
                                jsxRuntime.jsxs(
                                    "div",
                                    assets.__assign(
                                        { "data-supertokens": "primaryText sendCodeText" },
                                        {
                                            children: [
                                                props.loginAttemptInfo.contactMethod === "EMAIL"
                                                    ? t("PWLESS_LINK_SENT_RESEND_DESC_START_EMAIL")
                                                    : t("PWLESS_LINK_SENT_RESEND_DESC_START_PHONE"),
                                                jsxRuntime.jsx("strong", {
                                                    children: props.loginAttemptInfo.contactInfo,
                                                }),
                                                props.loginAttemptInfo.contactMethod === "EMAIL"
                                                    ? t("PWLESS_LINK_SENT_RESEND_DESC_END_EMAIL")
                                                    : t("PWLESS_LINK_SENT_RESEND_DESC_END_PHONE"),
                                            ],
                                        }
                                    )
                                ),
                                jsxRuntime.jsx(ResendButton, {
                                    loginAttemptInfo: props.loginAttemptInfo,
                                    resendEmailOrSMSGapInSeconds:
                                        props.config.signInUpFeature.resendEmailOrSMSGapInSeconds,
                                    onClick: resendEmail,
                                }),
                                jsxRuntime.jsxs(
                                    "div",
                                    assets.__assign(
                                        {
                                            "data-supertokens": "secondaryText secondaryLinkWithLeftArrow",
                                            onClick: function () {
                                                return props.recipeImplementation.clearLoginAttemptInfo({
                                                    userContext: userContext,
                                                });
                                            },
                                        },
                                        {
                                            children: [
                                                jsxRuntime.jsx(assets.ArrowLeftIcon, {}),
                                                props.loginAttemptInfo.contactMethod === "EMAIL"
                                                    ? t("PWLESS_SIGN_IN_UP_CHANGE_CONTACT_INFO_EMAIL")
                                                    : t("PWLESS_SIGN_IN_UP_CHANGE_CONTACT_INFO_PHONE"),
                                            ],
                                        }
                                    )
                                ),
                            ],
                        }
                    )
                ),
            }
        )
    );
};
var LinkSent = querier.withOverride("PasswordlessLinkSent", PasswordlessLinkSent);

var PhoneForm = querier.withOverride("PasswordlessPhoneForm", function PasswordlessPhoneForm(props) {
    var _this = this;
    var userContext = authRecipe.useUserContext();
    var phoneInput = React.useMemo(
        function () {
            return phoneNumberInputWithInjectedProps({
                defaultCountry: props.config.signInUpFeature.defaultCountry,
            });
        },
        [props.config.signInUpFeature.defaultCountry]
    );
    return jsxRuntime.jsx(formBase.FormBase, {
        clearError: props.clearError,
        onError: props.onError,
        formFields: [
            {
                id: "phoneNumber",
                label: "PWLESS_SIGN_IN_UP_PHONE_LABEL",
                inputComponent: phoneInput,
                optional: false,
                autofocus: true,
                placeholder: "",
                validate: formBase.defaultValidate,
            },
        ],
        buttonLabel: "PWLESS_SIGN_IN_UP_CONTINUE_BUTTON",
        onSuccess: props.onSuccess,
        callAPI: function (formFields) {
            return assets.__awaiter(_this, void 0, void 0, function () {
                var phoneNumber, validationRes, response;
                var _a;
                return assets.__generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            phoneNumber =
                                (_a = formFields.find(function (field) {
                                    return field.id === "phoneNumber";
                                })) === null || _a === void 0
                                    ? void 0
                                    : _a.value;
                            if (phoneNumber === undefined) {
                                throw new querier.STGeneralError("GENERAL_ERROR_PHONE_UNDEFINED");
                            }
                            return [4 /*yield*/, props.config.validatePhoneNumber(phoneNumber)];
                        case 1:
                            validationRes = _b.sent();
                            if (validationRes !== undefined) {
                                throw new querier.STGeneralError(validationRes);
                            }
                            return [
                                4 /*yield*/,
                                props.recipeImplementation.createCode({
                                    phoneNumber: phoneNumber,
                                    userContext: userContext,
                                }),
                            ];
                        case 2:
                            response = _b.sent();
                            return [2 /*return*/, response];
                    }
                });
            });
        },
        validateOnBlur: false,
        showLabels: true,
        footer: jsxRuntime.jsx(SignInUpFooter, {
            privacyPolicyLink: props.config.signInUpFeature.privacyPolicyLink,
            termsOfServiceLink: props.config.signInUpFeature.termsOfServiceLink,
        }),
    });
});

var SignInUpHeader = querier.withOverride("PasswordlessSignInUpHeader", function PasswordlessSignInUpHeader() {
    var t = translationContext.useTranslation();
    return jsxRuntime.jsxs(React.Fragment, {
        children: [
            jsxRuntime.jsx(
                "div",
                assets.__assign(
                    { "data-supertokens": "headerTitle" },
                    { children: t("PWLESS_SIGN_IN_UP_HEADER_TITLE") }
                )
            ),
            jsxRuntime.jsx("div", { "data-supertokens": "divider" }),
        ],
    });
});

var UserInputCodeFormFooter = querier.withOverride(
    "PasswordlessUserInputCodeFormFooter",
    function PasswordlessUserInputCodeFormFooter(_a) {
        var loginAttemptInfo = _a.loginAttemptInfo,
            recipeImplementation = _a.recipeImplementation;
        var t = translationContext.useTranslation();
        var userContext = authRecipe.useUserContext();
        return jsxRuntime.jsx(React.Fragment, {
            children: jsxRuntime.jsxs(
                "div",
                assets.__assign(
                    {
                        "data-supertokens": "secondaryText secondaryLinkWithLeftArrow",
                        onClick: function () {
                            return recipeImplementation.clearLoginAttemptInfo({
                                userContext: userContext,
                            });
                        },
                    },
                    {
                        children: [
                            jsxRuntime.jsx(assets.ArrowLeftIcon, {}),
                            loginAttemptInfo.contactMethod === "EMAIL"
                                ? t("PWLESS_SIGN_IN_UP_CHANGE_CONTACT_INFO_EMAIL")
                                : t("PWLESS_SIGN_IN_UP_CHANGE_CONTACT_INFO_PHONE"),
                        ],
                    }
                )
            ),
        });
    }
);

var UserInputCodeForm = querier.withOverride(
    "PasswordlessUserInputCodeForm",
    function PasswordlessUserInputCodeForm(props) {
        var _this = this;
        var t = translationContext.useTranslation();
        var userContext = authRecipe.useUserContext();
        // We need this any because the node types are also loaded
        var _a = React.useState(),
            clearResendNotifTimeout = _a[0],
            setClearResendNotifTimeout = _a[1];
        React.useEffect(
            function () {
                // This is just to clean up on unmount and if the clear timeout changes
                return function () {
                    clearTimeout(clearResendNotifTimeout);
                };
            },
            [clearResendNotifTimeout]
        );
        function resend() {
            return assets.__awaiter(this, void 0, void 0, function () {
                var response, generalError, e_1;
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            _a.trys.push([0, 5, , 6]);
                            response = void 0;
                            generalError = void 0;
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 3, , 4]);
                            return [
                                4 /*yield*/,
                                props.recipeImplementation.resendCode({
                                    deviceId: props.loginAttemptInfo.deviceId,
                                    preAuthSessionId: props.loginAttemptInfo.preAuthSessionId,
                                    userContext: userContext,
                                }),
                            ];
                        case 2:
                            response = _a.sent();
                            return [3 /*break*/, 4];
                        case 3:
                            e_1 = _a.sent();
                            if (querier.STGeneralError.isThisError(e_1)) {
                                generalError = e_1;
                            } else {
                                throw e_1;
                            }
                            return [3 /*break*/, 4];
                        case 4:
                            if (generalError !== undefined) {
                                props.onError(generalError.message);
                            } else {
                                if (response === undefined) {
                                    throw new Error("Should not come here");
                                }
                                if (response.status === "OK") {
                                    setClearResendNotifTimeout(
                                        setTimeout(function () {
                                            setClearResendNotifTimeout(undefined);
                                        }, 2000)
                                    );
                                }
                            }
                            return [3 /*break*/, 6];
                        case 5:
                            _a.sent();
                            props.onError("SOMETHING_WENT_WRONG_ERROR");
                            return [3 /*break*/, 6];
                        case 6:
                            return [2 /*return*/];
                    }
                });
            });
        }
        return jsxRuntime.jsxs(React.Fragment, {
            children: [
                clearResendNotifTimeout !== undefined &&
                    jsxRuntime.jsx(
                        "div",
                        assets.__assign(
                            { "data-supertokens": "generalSuccess" },
                            {
                                children:
                                    props.loginAttemptInfo.contactMethod === "EMAIL"
                                        ? t("PWLESS_RESEND_SUCCESS_EMAIL")
                                        : t("PWLESS_RESEND_SUCCESS_PHONE"),
                            }
                        )
                    ),
                jsxRuntime.jsx(formBase.FormBase, {
                    clearError: props.clearError,
                    onError: props.onError,
                    formFields: [
                        {
                            id: "userInputCode",
                            label: "",
                            labelComponent: jsxRuntime.jsxs(
                                "div",
                                assets.__assign(
                                    { "data-supertokens": "codeInputLabelWrapper" },
                                    {
                                        children: [
                                            jsxRuntime.jsx(formBase.Label, {
                                                value: "PWLESS_USER_INPUT_CODE_INPUT_LABEL",
                                                "data-supertokens": "codeInputLabel",
                                            }),
                                            jsxRuntime.jsx(ResendButton, {
                                                loginAttemptInfo: props.loginAttemptInfo,
                                                resendEmailOrSMSGapInSeconds:
                                                    props.config.signInUpFeature.resendEmailOrSMSGapInSeconds,
                                                onClick: resend,
                                            }),
                                        ],
                                    }
                                )
                            ),
                            autofocus: true,
                            optional: false,
                            clearOnSubmit: true,
                            placeholder: "",
                            validate: userInputCodeValidate,
                        },
                    ],
                    onSuccess: props.onSuccess,
                    buttonLabel: "PWLESS_SIGN_IN_UP_CONTINUE_BUTTON",
                    callAPI: function (formFields) {
                        return assets.__awaiter(_this, void 0, void 0, function () {
                            var userInputCode, response;
                            var _a;
                            return assets.__generator(this, function (_b) {
                                switch (_b.label) {
                                    case 0:
                                        userInputCode =
                                            (_a = formFields.find(function (field) {
                                                return field.id === "userInputCode";
                                            })) === null || _a === void 0
                                                ? void 0
                                                : _a.value;
                                        if (userInputCode === undefined || userInputCode.length === 0) {
                                            throw new querier.STGeneralError("GENERAL_ERROR_OTP_UNDEFINED");
                                        }
                                        return [
                                            4 /*yield*/,
                                            props.recipeImplementation.consumeCode({
                                                deviceId: props.loginAttemptInfo.deviceId,
                                                preAuthSessionId: props.loginAttemptInfo.preAuthSessionId,
                                                userInputCode: userInputCode,
                                                userContext: userContext,
                                            }),
                                        ];
                                    case 1:
                                        response = _b.sent();
                                        if (response.status === "OK" || response.status === "RESTART_FLOW_ERROR") {
                                            return [2 /*return*/, response];
                                        }
                                        if (response.status === "INCORRECT_USER_INPUT_CODE_ERROR") {
                                            throw new querier.STGeneralError("GENERAL_ERROR_OTP_INVALID");
                                        }
                                        if (response.status === "EXPIRED_USER_INPUT_CODE_ERROR") {
                                            throw new querier.STGeneralError("GENERAL_ERROR_OTP_EXPIRED");
                                        }
                                        throw new querier.STGeneralError("SOMETHING_WENT_WRONG_ERROR");
                                }
                            });
                        });
                    },
                    validateOnBlur: false,
                    showLabels: true,
                    footer: jsxRuntime.jsx(
                        UserInputCodeFormFooter,
                        assets.__assign({}, props, { loginAttemptInfo: props.loginAttemptInfo })
                    ),
                }),
            ],
        });
    }
);

var UserInputCodeFormHeader = querier.withOverride(
    "PasswordlessUserInputCodeFormHeader",
    function PasswordlessUserInputCodeFormHeader(_a) {
        var loginAttemptInfo = _a.loginAttemptInfo;
        var t = translationContext.useTranslation();
        return jsxRuntime.jsxs(React.Fragment, {
            children: [
                jsxRuntime.jsx(
                    "div",
                    assets.__assign(
                        { "data-supertokens": "headerTitle" },
                        { children: t("PWLESS_USER_INPUT_CODE_HEADER_TITLE") }
                    )
                ),
                jsxRuntime.jsxs(
                    "div",
                    assets.__assign(
                        { "data-supertokens": "headerSubtitle secondaryText" },
                        {
                            children: [
                                loginAttemptInfo.flowType === "USER_INPUT_CODE"
                                    ? t("PWLESS_USER_INPUT_CODE_HEADER_SUBTITLE")
                                    : t("PWLESS_USER_INPUT_CODE_HEADER_SUBTITLE_LINK"),
                                jsxRuntime.jsx("br", {}),
                                jsxRuntime.jsx("strong", { children: loginAttemptInfo.contactInfo }),
                            ],
                        }
                    )
                ),
                jsxRuntime.jsx("div", { "data-supertokens": "divider" }),
            ],
        });
    }
);

exports.SignInUpScreens = void 0;
(function (SignInUpScreens) {
    SignInUpScreens[(SignInUpScreens["CloseTab"] = 0)] = "CloseTab";
    SignInUpScreens[(SignInUpScreens["LinkSent"] = 1)] = "LinkSent";
    SignInUpScreens[(SignInUpScreens["EmailForm"] = 2)] = "EmailForm";
    SignInUpScreens[(SignInUpScreens["PhoneForm"] = 3)] = "PhoneForm";
    SignInUpScreens[(SignInUpScreens["EmailOrPhoneForm"] = 4)] = "EmailOrPhoneForm";
    SignInUpScreens[(SignInUpScreens["UserInputCodeForm"] = 5)] = "UserInputCodeForm";
})(exports.SignInUpScreens || (exports.SignInUpScreens = {}));
/*
 * Component.
 */
var SignInUpTheme = function (_a) {
    var activeScreen = _a.activeScreen,
        featureState = _a.featureState,
        props = assets.__rest(_a, ["activeScreen", "featureState"]);
    var commonProps = {
        recipeImplementation: props.recipeImplementation,
        config: props.config,
        clearError: function () {
            return props.dispatch({ type: "setError", error: undefined });
        },
        onError: function (error) {
            return props.dispatch({ type: "setError", error: error });
        },
        error: featureState.error,
    };
    return activeScreen === exports.SignInUpScreens.CloseTab
        ? jsxRuntime.jsx(CloseTabScreen, assets.__assign({}, commonProps))
        : activeScreen === exports.SignInUpScreens.LinkSent
        ? jsxRuntime.jsx(
              LinkSent,
              assets.__assign({}, commonProps, { loginAttemptInfo: featureState.loginAttemptInfo })
          )
        : jsxRuntime.jsxs(
              "div",
              assets.__assign(
                  { "data-supertokens": "container" },
                  {
                      children: [
                          jsxRuntime.jsx(
                              "div",
                              assets.__assign(
                                  { "data-supertokens": "row" },
                                  {
                                      children:
                                          featureState.loaded &&
                                          jsxRuntime.jsxs(React.Fragment, {
                                              children: [
                                                  activeScreen === exports.SignInUpScreens.UserInputCodeForm
                                                      ? jsxRuntime.jsx(
                                                            UserInputCodeFormHeader,
                                                            assets.__assign({}, commonProps, {
                                                                loginAttemptInfo: featureState.loginAttemptInfo,
                                                            })
                                                        )
                                                      : jsxRuntime.jsx(SignInUpHeader, {}),
                                                  featureState.error !== undefined &&
                                                      jsxRuntime.jsx(querier.GeneralError, {
                                                          error: featureState.error,
                                                      }),
                                                  activeScreen === exports.SignInUpScreens.EmailForm
                                                      ? jsxRuntime.jsx(EmailForm, assets.__assign({}, commonProps))
                                                      : activeScreen === exports.SignInUpScreens.PhoneForm
                                                      ? jsxRuntime.jsx(PhoneForm, assets.__assign({}, commonProps))
                                                      : activeScreen === exports.SignInUpScreens.EmailOrPhoneForm
                                                      ? jsxRuntime.jsx(
                                                            EmailOrPhoneForm,
                                                            assets.__assign({}, commonProps)
                                                        )
                                                      : activeScreen === exports.SignInUpScreens.UserInputCodeForm
                                                      ? jsxRuntime.jsx(
                                                            UserInputCodeForm,
                                                            assets.__assign({}, commonProps, {
                                                                loginAttemptInfo: featureState.loginAttemptInfo,
                                                                onSuccess: props.onSuccess,
                                                            })
                                                        )
                                                      : null,
                                              ],
                                          }),
                                  }
                              )
                          ),
                          jsxRuntime.jsx(SuperTokensBranding.SuperTokensBranding, {}),
                      ],
                  }
              )
          );
};
function SignInUpThemeWrapper(props) {
    var hasFont = querier.hasFontDefined(props.config.rootStyle);
    var activeScreen = getActiveScreen(props);
    var activeStyle;
    if (activeScreen === exports.SignInUpScreens.CloseTab) {
        activeStyle = props.config.signInUpFeature.closeTabScreenStyle;
    } else if (activeScreen === exports.SignInUpScreens.LinkSent) {
        activeStyle = props.config.signInUpFeature.linkSentScreenStyle;
    } else if (activeScreen === exports.SignInUpScreens.UserInputCodeForm) {
        activeStyle = props.config.signInUpFeature.userInputCodeFormStyle;
    } else if (activeScreen === exports.SignInUpScreens.EmailForm) {
        activeStyle = props.config.signInUpFeature.emailOrPhoneFormStyle;
    } else if (activeScreen === exports.SignInUpScreens.PhoneForm) {
        activeStyle = props.config.signInUpFeature.emailOrPhoneFormStyle;
    } else if (activeScreen === exports.SignInUpScreens.EmailOrPhoneForm) {
        activeStyle = props.config.signInUpFeature.emailOrPhoneFormStyle;
    }
    return jsxRuntime.jsx(
        authRecipe.UserContextWrapper,
        assets.__assign(
            { userContext: props.userContext },
            {
                children: jsxRuntime.jsx(
                    ThemeBase,
                    assets.__assign(
                        { loadDefaultFont: !hasFont, userStyles: [props.config.rootStyle, activeStyle] },
                        {
                            children: jsxRuntime.jsx(
                                SignInUpTheme,
                                assets.__assign({}, props, { activeScreen: activeScreen })
                            ),
                        }
                    )
                ),
            }
        )
    );
}
function getActiveScreen(props) {
    if (props.featureState.successInAnotherTab) {
        return exports.SignInUpScreens.CloseTab;
    } else if (props.featureState.loginAttemptInfo && props.featureState.loginAttemptInfo.flowType === "MAGIC_LINK") {
        return exports.SignInUpScreens.LinkSent;
    } else if (props.featureState.loginAttemptInfo) {
        return exports.SignInUpScreens.UserInputCodeForm;
    } else if (props.config.contactMethod === "EMAIL") {
        return exports.SignInUpScreens.EmailForm;
    } else if (props.config.contactMethod === "PHONE") {
        return exports.SignInUpScreens.PhoneForm;
    } else if (props.config.contactMethod === "EMAIL_OR_PHONE") {
        return exports.SignInUpScreens.EmailOrPhoneForm;
    }
    throw new Error("Couldn't choose active screen; Should never happen");
}

var defaultTranslationsPasswordless = {
    en: assets.__assign(assets.__assign({}, querier.defaultTranslationsCommon.en), {
        GENERAL_ERROR_EMAIL_UNDEFINED: "Please set your email",
        GENERAL_ERROR_EMAIL_NON_STRING: "Email must be of type string",
        GENERAL_ERROR_EMAIL_INVALID: "Email is invalid",
        GENERAL_ERROR_PHONE_UNDEFINED: "Please set your phone number",
        GENERAL_ERROR_PHONE_NON_STRING: "Phone number must be of type string",
        GENERAL_ERROR_PHONE_INVALID: "Phone number is invalid",
        GENERAL_ERROR_EMAIL_OR_PHONE_UNDEFINED: "Please set your email or phone number",
        GENERAL_ERROR_EMAIL_OR_PHONE_NON_STRING: "Email or Phone number must be of type string",
        GENERAL_ERROR_EMAIL_OR_PHONE_INVALID: "Email or Phone number is invalid",
        GENERAL_ERROR_OTP_UNDEFINED: "Please fill your OTP",
        GENERAL_ERROR_OTP_INVALID: "Invalid OTP",
        GENERAL_ERROR_OTP_EXPIRED: "Expired OTP.",
        GENERAL_ERROR_OTP_NON_STRING: "OTP must be of type string",
        GENERAL_ERROR_OTP_EMPTY: "OTP cannot be empty",
        ERROR_SIGN_IN_UP_LINK: "Invalid magic link. Please try again.",
        ERROR_SIGN_IN_UP_RESEND_RESTART_FLOW: "Login timed out. Please try again.",
        ERROR_SIGN_IN_UP_CODE_CONSUME_RESTART_FLOW: "Login unsuccessful. Please try again.",
        PWLESS_CLOSE_TAB_TITLE: "Success!",
        PWLESS_CLOSE_TAB_SUBTITLE_LINE1: "You have been successfully signed in.",
        PWLESS_CLOSE_TAB_SUBTITLE_LINE2: "Please close this tab",
        PWLESS_SIGN_IN_UP_HEADER_TITLE: "Sign Up or Log In",
        PWLESS_SIGN_IN_UP_FOOTER_START: "By continuing, you agree to our ",
        PWLESS_SIGN_IN_UP_FOOTER_TOS: "Terms of Service",
        PWLESS_SIGN_IN_UP_FOOTER_AND: " and ",
        PWLESS_SIGN_IN_UP_FOOTER_PP: "Privacy Policy",
        PWLESS_SIGN_IN_UP_FOOTER_END: "",
        PWLESS_SIGN_IN_UP_EMAIL_LABEL: "Email",
        PWLESS_SIGN_IN_UP_PHONE_LABEL: "Phone Number",
        PWLESS_SIGN_IN_UP_EMAIL_OR_PHONE_LABEL: "Email or Phone number",
        PWLESS_SIGN_IN_UP_CONTINUE_BUTTON: "CONTINUE",
        PWLESS_EMAIL_OR_PHONE_INVALID_INPUT_GUESS_PHONE_ERR: "Please enter a valid phone number with its country code.",
        PWLESS_LINK_SENT_RESEND_SUCCESS: "Link resent",
        PWLESS_LINK_SENT_RESEND_TITLE: "Link sent!",
        PWLESS_LINK_SENT_RESEND_DESC_START_EMAIL: "We sent a link to ",
        PWLESS_LINK_SENT_RESEND_DESC_START_PHONE: "We sent a link to your phone number ",
        PWLESS_LINK_SENT_RESEND_DESC_END_EMAIL: " Click the link to login or sign up",
        PWLESS_LINK_SENT_RESEND_DESC_END_PHONE: "",
        PWLESS_SIGN_IN_UP_CHANGE_CONTACT_INFO_EMAIL: "Change email",
        PWLESS_SIGN_IN_UP_CHANGE_CONTACT_INFO_PHONE: "Change phone number",
        PWLESS_LINK_CLICKED_CONTINUE_HEADER: "Sign Up or Log In",
        PWLESS_LINK_CLICKED_CONTINUE_DESC: "Click the button below to log in on this device",
        PWLESS_LINK_CLICKED_CONTINUE_BUTTON: "CONTINUE",
        PWLESS_RESEND_SUCCESS_EMAIL: "Email resent",
        PWLESS_RESEND_SUCCESS_PHONE: "SMS resent",
        PWLESS_RESEND_BTN_DISABLED_START: "Resend in ",
        PWLESS_RESEND_BTN_DISABLED_END: "",
        PWLESS_RESEND_BTN_EMAIL: "Resend Email",
        PWLESS_RESEND_BTN_PHONE: "Resend SMS",
        PWLESS_USER_INPUT_CODE_HEADER_TITLE: "Enter OTP",
        PWLESS_USER_INPUT_CODE_HEADER_SUBTITLE: "An OTP was sent to you at",
        PWLESS_USER_INPUT_CODE_HEADER_SUBTITLE_LINK: "An OTP and a magic link was sent to you at",
        PWLESS_USER_INPUT_CODE_INPUT_LABEL: "OTP",
        /*
         * The following are error messages from our backend SDK.
         * These are returned as full messages to preserver compatibilty, but they work just like the keys above.
         * They are shown as is by default (setting the value to undefined will display the raw translation key)
         */
        "Failed to generate a one time code. Please try again": undefined,
        "Phone number is invalid": undefined,
        "Email is invalid": undefined,
    }),
};

var useSuccessInAnotherTabChecker = function (state, dispatch, userContext) {
    var callingConsumeCodeRef = React.useRef(false);
    React.useEffect(
        function () {
            // We only need to start checking this if we have an active login attempt
            if (state.loginAttemptInfo && !state.successInAnotherTab) {
                var checkSessionIntervalHandle_1 = setInterval(function () {
                    return assets.__awaiter(void 0, void 0, void 0, function () {
                        var hasSession;
                        return assets.__generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    if (!(callingConsumeCodeRef.current === false)) return [3 /*break*/, 2];
                                    return [
                                        4 /*yield*/,
                                        authRecipe.SessionAPIWrapper.doesSessionExist({
                                            userContext: userContext,
                                        }),
                                    ];
                                case 1:
                                    hasSession = _a.sent();
                                    if (hasSession) {
                                        dispatch({ type: "successInAnotherTab" });
                                    }
                                    _a.label = 2;
                                case 2:
                                    return [2 /*return*/];
                            }
                        });
                    });
                }, 2000);
                return function () {
                    clearInterval(checkSessionIntervalHandle_1);
                };
            }
            // Nothing to clean up
            return;
        },
        [state.loginAttemptInfo, state.successInAnotherTab]
    );
    return callingConsumeCodeRef;
};
var useFeatureReducer = function (recipeImpl, userContext) {
    var _a = React__namespace.useReducer(
            function (oldState, action) {
                switch (action.type) {
                    case "load":
                        return {
                            loaded: true,
                            error: action.error,
                            loginAttemptInfo: action.loginAttemptInfo,
                            successInAnotherTab: false,
                        };
                    case "resendCode":
                        if (!oldState.loginAttemptInfo) {
                            return oldState;
                        }
                        return assets.__assign(assets.__assign({}, oldState), {
                            error: undefined,
                            loginAttemptInfo: assets.__assign(assets.__assign({}, oldState.loginAttemptInfo), {
                                lastResend: action.timestamp,
                            }),
                        });
                    case "restartFlow":
                        return assets.__assign(assets.__assign({}, oldState), {
                            error: action.error,
                            loginAttemptInfo: undefined,
                        });
                    case "setError":
                        return assets.__assign(assets.__assign({}, oldState), { error: action.error });
                    case "startLogin":
                        return assets.__assign(assets.__assign({}, oldState), {
                            loginAttemptInfo: action.loginAttemptInfo,
                            error: undefined,
                        });
                    case "successInAnotherTab":
                        return assets.__assign(assets.__assign({}, oldState), { successInAnotherTab: true });
                    default:
                        return oldState;
                }
            },
            {
                error: undefined,
                loaded: false,
                loginAttemptInfo: undefined,
                successInAnotherTab: false,
            },
            function (initArg) {
                var error = undefined;
                var errorQueryParam = authRecipe.getQueryParams("error");
                var messageQueryParam = authRecipe.getQueryParams("message");
                if (errorQueryParam !== null) {
                    if (errorQueryParam === "signin") {
                        error = "SOMETHING_WENT_WRONG_ERROR";
                    } else if (errorQueryParam === "restart_link") {
                        error = "ERROR_SIGN_IN_UP_LINK";
                    } else if (errorQueryParam === "custom" && messageQueryParam !== null) {
                        error = messageQueryParam;
                    }
                }
                return assets.__assign(assets.__assign({}, initArg), { error: error });
            }
        ),
        state = _a[0],
        dispatch = _a[1];
    React.useEffect(
        function () {
            if (recipeImpl === undefined) {
                return;
            }
            function load() {
                return assets.__awaiter(this, void 0, void 0, function () {
                    var error, errorQueryParam, messageQueryParam, loginAttemptInfo;
                    return assets.__generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                error = undefined;
                                errorQueryParam = authRecipe.getQueryParams("error");
                                messageQueryParam = authRecipe.getQueryParams("message");
                                if (errorQueryParam !== null) {
                                    if (errorQueryParam === "signin") {
                                        error = "SOMETHING_WENT_WRONG_ERROR";
                                    } else if (errorQueryParam === "restart_link") {
                                        error = "ERROR_SIGN_IN_UP_LINK";
                                    } else if (errorQueryParam === "custom" && messageQueryParam !== null) {
                                        error = messageQueryParam;
                                    }
                                }
                                return [
                                    4 /*yield*/,
                                    getLoginAttemptInfo({
                                        recipeImplementation: recipeImpl,
                                        userContext: userContext,
                                    }),
                                ];
                            case 1:
                                loginAttemptInfo = _a.sent();
                                // No need to check if the component is unmounting, since this has no effect then.
                                dispatch({ type: "load", loginAttemptInfo: loginAttemptInfo, error: error });
                                return [2 /*return*/];
                        }
                    });
                });
            }
            if (state.loaded === false) {
                void load();
            }
        },
        [state.loaded, recipeImpl, userContext]
    );
    return [state, dispatch];
};
function useChildProps(recipe, dispatch, state, callingConsumeCodeRef, userContext, history) {
    var recipeImplementation = React__namespace.useMemo(
        function () {
            return recipe && getModifiedRecipeImplementation(recipe.recipeImpl, dispatch, callingConsumeCodeRef);
        },
        [recipe]
    );
    return React.useMemo(
        function () {
            if (!recipe || !recipeImplementation) {
                return undefined;
            }
            return {
                onSuccess: function (result) {
                    return authRecipe.Session.getInstanceOrThrow().validateGlobalClaimsAndHandleSuccessRedirection(
                        {
                            rid: recipe.config.recipeId,
                            successRedirectContext: {
                                action: "SUCCESS",
                                isNewUser: result.createdNewUser,
                                redirectToPath: authRecipe.getRedirectToPathFromURL(),
                            },
                        },
                        userContext,
                        history
                    );
                },
                recipeImplementation: recipeImplementation,
                config: recipe.config,
            };
        },
        [state, recipeImplementation]
    );
}
var SignInUpFeature = function (props) {
    var componentOverrides = props.recipe.config.override.components;
    var userContext = authRecipe.useUserContext();
    var _a = useFeatureReducer(props.recipe.recipeImpl, userContext),
        state = _a[0],
        dispatch = _a[1];
    var callingConsumeCodeRef = useSuccessInAnotherTabChecker(state, dispatch, userContext);
    var childProps = useChildProps(props.recipe, dispatch, state, callingConsumeCodeRef, userContext, props.history);
    return jsxRuntime.jsx(
        querier.ComponentOverrideContext.Provider,
        assets.__assign(
            { value: componentOverrides },
            {
                children: jsxRuntime.jsx(
                    querier.FeatureWrapper,
                    assets.__assign(
                        {
                            useShadowDom: props.recipe.config.useShadowDom,
                            defaultStore: defaultTranslationsPasswordless,
                        },
                        {
                            children: jsxRuntime.jsxs(React.Fragment, {
                                children: [
                                    props.children === undefined &&
                                        jsxRuntime.jsx(
                                            SignInUpThemeWrapper,
                                            assets.__assign({}, childProps, { featureState: state, dispatch: dispatch })
                                        ),
                                    props.children &&
                                        React__namespace.Children.map(props.children, function (child) {
                                            if (React__namespace.isValidElement(child)) {
                                                return React__namespace.cloneElement(
                                                    child,
                                                    assets.__assign(assets.__assign({}, childProps), {
                                                        featureState: state,
                                                        dispatch: dispatch,
                                                    })
                                                );
                                            }
                                            return child;
                                        }),
                                ],
                            }),
                        }
                    )
                ),
            }
        )
    );
};
function getModifiedRecipeImplementation(originalImpl, dispatch, callingConsumeCodeRef) {
    var _this = this;
    return assets.__assign(assets.__assign({}, originalImpl), {
        createCode: function (input) {
            return assets.__awaiter(_this, void 0, void 0, function () {
                var contactInfo, res, contactMethod, loginAttemptInfo;
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            if ("email" in input) {
                                contactInfo = input.email;
                            } else {
                                contactInfo = formatPhoneNumberIntl(input.phoneNumber);
                            }
                            return [4 /*yield*/, originalImpl.createCode(input)];
                        case 1:
                            res = _a.sent();
                            if (!(res.status === "OK")) return [3 /*break*/, 3];
                            contactMethod = "email" in input ? "EMAIL" : "PHONE";
                            loginAttemptInfo = {
                                deviceId: res.deviceId,
                                preAuthSessionId: res.preAuthSessionId,
                                flowType: res.flowType,
                                lastResend: Date.now(),
                                contactMethod: contactMethod,
                                contactInfo: contactInfo,
                                redirectToPath: authRecipe.getRedirectToPathFromURL(),
                            };
                            return [
                                4 /*yield*/,
                                setLoginAttemptInfo({
                                    recipeImplementation: originalImpl,
                                    userContext: input.userContext,
                                    attemptInfo: loginAttemptInfo,
                                }),
                            ];
                        case 2:
                            _a.sent();
                            dispatch({ type: "startLogin", loginAttemptInfo: loginAttemptInfo });
                            _a.label = 3;
                        case 3:
                            return [2 /*return*/, res];
                    }
                });
            });
        },
        resendCode: function (input) {
            return assets.__awaiter(_this, void 0, void 0, function () {
                var res, loginAttemptInfo, timestamp;
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            return [4 /*yield*/, originalImpl.resendCode(input)];
                        case 1:
                            res = _a.sent();
                            if (!(res.status === "OK")) return [3 /*break*/, 5];
                            return [
                                4 /*yield*/,
                                getLoginAttemptInfo({
                                    recipeImplementation: originalImpl,
                                    userContext: input.userContext,
                                }),
                            ];
                        case 2:
                            loginAttemptInfo = _a.sent();
                            if (!(loginAttemptInfo !== undefined && loginAttemptInfo.deviceId === input.deviceId))
                                return [3 /*break*/, 4];
                            timestamp = Date.now();
                            return [
                                4 /*yield*/,
                                setLoginAttemptInfo({
                                    recipeImplementation: originalImpl,
                                    userContext: input.userContext,
                                    attemptInfo: assets.__assign(assets.__assign({}, loginAttemptInfo), {
                                        lastResend: timestamp,
                                    }),
                                }),
                            ];
                        case 3:
                            _a.sent();
                            dispatch({ type: "resendCode", timestamp: timestamp });
                            _a.label = 4;
                        case 4:
                            return [3 /*break*/, 7];
                        case 5:
                            if (!(res.status === "RESTART_FLOW_ERROR")) return [3 /*break*/, 7];
                            return [
                                4 /*yield*/,
                                originalImpl.clearLoginAttemptInfo({
                                    userContext: input.userContext,
                                }),
                            ];
                        case 6:
                            _a.sent();
                            dispatch({ type: "restartFlow", error: "ERROR_SIGN_IN_UP_RESEND_RESTART_FLOW" });
                            _a.label = 7;
                        case 7:
                            return [2 /*return*/, res];
                    }
                });
            });
        },
        consumeCode: function (input) {
            return assets.__awaiter(_this, void 0, void 0, function () {
                var res;
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            // We need to call consume code while callingConsume, so we don't detect
                            // the session creation too early and go to successInAnotherTab too early
                            callingConsumeCodeRef.current = true;
                            return [4 /*yield*/, originalImpl.consumeCode(input)];
                        case 1:
                            res = _a.sent();
                            if (!(res.status === "RESTART_FLOW_ERROR")) return [3 /*break*/, 3];
                            return [
                                4 /*yield*/,
                                originalImpl.clearLoginAttemptInfo({
                                    userContext: input.userContext,
                                }),
                            ];
                        case 2:
                            _a.sent();
                            dispatch({ type: "restartFlow", error: "ERROR_SIGN_IN_UP_CODE_CONSUME_RESTART_FLOW" });
                            return [3 /*break*/, 5];
                        case 3:
                            if (!(res.status === "OK")) return [3 /*break*/, 5];
                            return [
                                4 /*yield*/,
                                originalImpl.clearLoginAttemptInfo({
                                    userContext: input.userContext,
                                }),
                            ];
                        case 4:
                            _a.sent();
                            _a.label = 5;
                        case 5:
                            callingConsumeCodeRef.current = false;
                            return [2 /*return*/, res];
                    }
                });
            });
        },
        clearLoginAttemptInfo: function (input) {
            return assets.__awaiter(_this, void 0, void 0, function () {
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            return [
                                4 /*yield*/,
                                originalImpl.clearLoginAttemptInfo({
                                    userContext: input.userContext,
                                }),
                            ];
                        case 1:
                            _a.sent();
                            authRecipe.clearErrorQueryParam();
                            dispatch({ type: "restartFlow", error: undefined });
                            return [2 /*return*/];
                    }
                });
            });
        },
    });
}

var PasswordlessLinkClickedScreen = function (props) {
    var t = translationContext.useTranslation();
    var _a = React.useState(false),
        loading = _a[0],
        setLoading = _a[1];
    return jsxRuntime.jsx(
        "div",
        assets.__assign(
            { "data-supertokens": "container" },
            {
                children: jsxRuntime.jsx(
                    "div",
                    assets.__assign(
                        { "data-supertokens": "row" },
                        {
                            children:
                                props.requireUserInteraction === true
                                    ? jsxRuntime.jsxs(React.Fragment, {
                                          children: [
                                              jsxRuntime.jsx(
                                                  "div",
                                                  assets.__assign(
                                                      { "data-supertokens": "headerTitle" },
                                                      { children: t("PWLESS_LINK_CLICKED_CONTINUE_HEADER") }
                                                  )
                                              ),
                                              jsxRuntime.jsx(
                                                  "div",
                                                  assets.__assign(
                                                      { "data-supertokens": "headerSubtitle secondaryText" },
                                                      { children: t("PWLESS_LINK_CLICKED_CONTINUE_DESC") }
                                                  )
                                              ),
                                              jsxRuntime.jsx(
                                                  "div",
                                                  assets.__assign(
                                                      { "data-supertokens": "continueButtonWrapper" },
                                                      {
                                                          children: jsxRuntime.jsx(button.Button, {
                                                              isLoading: loading,
                                                              onClick: function () {
                                                                  setLoading(true);
                                                                  props.consumeCode();
                                                              },
                                                              type: "button",
                                                              label: "PWLESS_LINK_CLICKED_CONTINUE_BUTTON",
                                                          }),
                                                      }
                                                  )
                                              ),
                                          ],
                                      })
                                    : jsxRuntime.jsx(
                                          "div",
                                          assets.__assign(
                                              { "data-supertokens": "spinner" },
                                              { children: jsxRuntime.jsx(assets.SpinnerIcon, {}) }
                                          )
                                      ),
                        }
                    )
                ),
            }
        )
    );
};
var LinkClickedScreen$1 = querier.withOverride("PasswordlessLinkClickedScreen", PasswordlessLinkClickedScreen);

var LinkClickedScreen = function (props) {
    var userContext = authRecipe.useUserContext();
    var _a = React.useState(false),
        requireUserInteraction = _a[0],
        setRequireUserInteraction = _a[1];
    var consumeCodeAtMount = React.useCallback(
        function () {
            return assets.__awaiter(void 0, void 0, void 0, function () {
                var preAuthSessionId, linkCode, loginAttemptInfo;
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            preAuthSessionId = authRecipe.getQueryParams("preAuthSessionId");
                            linkCode = authRecipe.getURLHash();
                            if (!(preAuthSessionId === null || preAuthSessionId.length === 0 || linkCode.length === 0))
                                return [3 /*break*/, 2];
                            return [
                                4 /*yield*/,
                                authRecipe.SuperTokens.getInstanceOrThrow().redirectToAuth({
                                    history: props.history,
                                    queryParams: {
                                        error: "signin",
                                    },
                                    redirectBack: false,
                                }),
                            ];
                        case 1:
                            _a.sent();
                            return [2 /*return*/, "REDIRECTING"];
                        case 2:
                            return [
                                4 /*yield*/,
                                props.recipe.recipeImpl.getLoginAttemptInfo({ userContext: userContext }),
                            ];
                        case 3:
                            loginAttemptInfo = _a.sent();
                            if (
                                (loginAttemptInfo === null || loginAttemptInfo === void 0
                                    ? void 0
                                    : loginAttemptInfo.preAuthSessionId) !== preAuthSessionId
                            ) {
                                return [2 /*return*/, "REQUIRES_INTERACTION"];
                            }
                            return [
                                2 /*return*/,
                                props.recipe.recipeImpl.consumeCode({
                                    preAuthSessionId: preAuthSessionId,
                                    linkCode: linkCode,
                                    userContext: userContext,
                                }),
                            ];
                    }
                });
            });
        },
        [props.recipe, props.history]
    );
    var handleConsumeResp = React.useCallback(
        function (response) {
            return assets.__awaiter(void 0, void 0, void 0, function () {
                var loginAttemptInfo;
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            if (response === "REQUIRES_INTERACTION") {
                                // We set this here, to make sure it's set after a possible remount
                                setRequireUserInteraction(true);
                            }
                            if (typeof response === "string") {
                                // In this case we are already redirecting or showing the continue button
                                return [2 /*return*/];
                            }
                            if (response.status === "RESTART_FLOW_ERROR") {
                                return [
                                    2 /*return*/,
                                    authRecipe.SuperTokens.getInstanceOrThrow().redirectToAuth({
                                        history: props.history,
                                        queryParams: {
                                            error: "restart_link",
                                        },
                                        redirectBack: false,
                                    }),
                                ];
                            }
                            if (!(response.status === "OK")) return [3 /*break*/, 3];
                            return [
                                4 /*yield*/,
                                getLoginAttemptInfo({
                                    recipeImplementation: props.recipe.recipeImpl,
                                    userContext: userContext,
                                }),
                            ];
                        case 1:
                            loginAttemptInfo = _a.sent();
                            return [
                                4 /*yield*/,
                                props.recipe.recipeImpl.clearLoginAttemptInfo({
                                    userContext: userContext,
                                }),
                            ];
                        case 2:
                            _a.sent();
                            return [
                                2 /*return*/,
                                authRecipe.Session.getInstanceOrThrow().validateGlobalClaimsAndHandleSuccessRedirection(
                                    {
                                        rid: props.recipe.config.recipeId,
                                        successRedirectContext: {
                                            action: "SUCCESS",
                                            isNewUser: response.createdNewUser,
                                            redirectToPath:
                                                loginAttemptInfo === null || loginAttemptInfo === void 0
                                                    ? void 0
                                                    : loginAttemptInfo.redirectToPath,
                                        },
                                    },
                                    userContext,
                                    props.history
                                ),
                            ];
                        case 3:
                            return [2 /*return*/];
                    }
                });
            });
        },
        [props.history, props.recipe]
    );
    var handleConsumeError = React.useCallback(
        function (err) {
            if (querier.STGeneralError.isThisError(err)) {
                return authRecipe.SuperTokens.getInstanceOrThrow().redirectToAuth({
                    history: props.history,
                    queryParams: {
                        error: "custom",
                        message: err.message,
                    },
                    redirectBack: false,
                });
            } else {
                return authRecipe.SuperTokens.getInstanceOrThrow().redirectToAuth({
                    history: props.history,
                    queryParams: {
                        error: "signin",
                    },
                    redirectBack: false,
                });
            }
        },
        [props.recipe, props.history]
    );
    authRecipe.useOnMountAPICall(consumeCodeAtMount, handleConsumeResp, handleConsumeError);
    var componentOverrides = props.recipe.config.override.components;
    var childProps = {
        recipeImplementation: props.recipe.recipeImpl,
        config: props.recipe.config,
        requireUserInteraction: requireUserInteraction,
        consumeCode: function () {
            return assets.__awaiter(void 0, void 0, void 0, function () {
                var preAuthSessionId, linkCode, consumeResp, err_1;
                return assets.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            preAuthSessionId = authRecipe.getQueryParams("preAuthSessionId");
                            linkCode = authRecipe.getURLHash();
                            if (preAuthSessionId === null || preAuthSessionId.length === 0 || linkCode.length === 0) {
                                // This should never happen, and even if it does the we should be already redirecting
                                throw new Error("Called consumeCode withouth link info");
                            }
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 4, , 5]);
                            return [
                                4 /*yield*/,
                                props.recipe.recipeImpl.consumeCode({
                                    preAuthSessionId: preAuthSessionId,
                                    linkCode: linkCode,
                                    userContext: userContext,
                                }),
                            ];
                        case 2:
                            consumeResp = _a.sent();
                            return [4 /*yield*/, handleConsumeResp(consumeResp)];
                        case 3:
                            _a.sent();
                            return [3 /*break*/, 5];
                        case 4:
                            err_1 = _a.sent();
                            void handleConsumeError(err_1);
                            return [3 /*break*/, 5];
                        case 5:
                            return [2 /*return*/];
                    }
                });
            });
        },
    };
    return jsxRuntime.jsx(
        querier.ComponentOverrideContext.Provider,
        assets.__assign(
            { value: componentOverrides },
            {
                children: jsxRuntime.jsx(
                    querier.FeatureWrapper,
                    assets.__assign(
                        {
                            useShadowDom: props.recipe.config.useShadowDom,
                            defaultStore: defaultTranslationsPasswordless,
                        },
                        {
                            children: jsxRuntime.jsxs(React.Fragment, {
                                children: [
                                    props.children === undefined &&
                                        jsxRuntime.jsx(LinkClickedScreen$1, assets.__assign({}, childProps)),
                                    props.children &&
                                        React.Children.map(props.children, function (child) {
                                            if (React.isValidElement(child)) {
                                                return React.cloneElement(child, childProps);
                                            }
                                            return child;
                                        }),
                                ],
                            }),
                        }
                    )
                ),
            }
        )
    );
};

/*
 * Class.
 */
var Passwordless = /** @class */ (function (_super) {
    assets.__extends(Passwordless, _super);
    function Passwordless(config) {
        var _this = _super.call(this, normalisePasswordlessConfig(config)) || this;
        _this.getFeatures = function () {
            var features = {};
            if (_this.config.signInUpFeature.disableDefaultUI !== true) {
                var normalisedFullPath = _this.config.appInfo.websiteBasePath.appendPath(
                    new authRecipe.NormalisedURLPath("/")
                );
                features[normalisedFullPath.getAsStringDangerous()] = {
                    matches: authRecipe.matchRecipeIdUsingQueryParams(_this.config.recipeId),
                    component: function (props) {
                        return _this.getFeatureComponent("signInUp", props);
                    },
                };
            }
            if (_this.config.linkClickedScreenFeature.disableDefaultUI !== true) {
                var normalisedFullPath = _this.config.appInfo.websiteBasePath.appendPath(
                    new authRecipe.NormalisedURLPath("/verify")
                );
                features[normalisedFullPath.getAsStringDangerous()] = {
                    matches: authRecipe.matchRecipeIdUsingQueryParams(_this.config.recipeId),
                    component: function (props) {
                        return _this.getFeatureComponent("linkClickedScreen", props);
                    },
                };
            }
            return features;
        };
        _this.getDefaultRedirectionURL = function (context) {
            return assets.__awaiter(_this, void 0, void 0, function () {
                return assets.__generator(this, function (_a) {
                    return [2 /*return*/, this.getAuthRecipeDefaultRedirectionURL(context)];
                });
            });
        };
        _this.getFeatureComponent = function (componentName, props) {
            if (componentName === "signInUp") {
                if (props.redirectOnSessionExists !== false) {
                    return jsxRuntime.jsx(
                        authRecipe.UserContextWrapper,
                        assets.__assign(
                            { userContext: props.userContext },
                            {
                                children: jsxRuntime.jsx(
                                    authRecipe.AuthWidgetWrapper,
                                    assets.__assign(
                                        { authRecipe: _this, history: props.history },
                                        {
                                            children: jsxRuntime.jsx(
                                                SignInUpFeature,
                                                assets.__assign({ recipe: _this }, props)
                                            ),
                                        }
                                    )
                                ),
                            }
                        )
                    );
                } else {
                    return jsxRuntime.jsx(
                        authRecipe.UserContextWrapper,
                        assets.__assign(
                            { userContext: props.userContext },
                            { children: jsxRuntime.jsx(SignInUpFeature, assets.__assign({ recipe: _this }, props)) }
                        )
                    );
                }
            }
            if (componentName === "linkClickedScreen") {
                return jsxRuntime.jsx(
                    authRecipe.UserContextWrapper,
                    assets.__assign(
                        { userContext: props.userContext },
                        { children: jsxRuntime.jsx(LinkClickedScreen, assets.__assign({ recipe: _this }, props)) }
                    )
                );
            } else {
                throw new Error("Should never come here.");
            }
        };
        var builder = new authRecipe.OverrideableBuilder(
            getRecipeImplementation({
                appInfo: _this.config.appInfo,
                recipeId: _this.config.recipeId,
                onHandleEvent: _this.config.onHandleEvent,
                preAPIHook: _this.config.preAPIHook,
                postAPIHook: _this.config.postAPIHook,
            })
        );
        _this.recipeImpl = builder.override(_this.config.override.functions).build();
        return _this;
    }
    Passwordless.init = function (config) {
        return function (appInfo) {
            Passwordless.instance = new Passwordless(
                assets.__assign(assets.__assign({}, config), { appInfo: appInfo, recipeId: Passwordless.RECIPE_ID })
            );
            return Passwordless.instance;
        };
    };
    Passwordless.getInstanceOrThrow = function () {
        if (Passwordless.instance === undefined) {
            var error =
                "No instance of Passwordless found. Make sure to call the Passwordless.init method." +
                "See https://supertokens.io/docs/passwordless/quick-setup/frontend";
            // eslint-disable-next-line supertokens-auth-react/no-direct-window-object
            if (typeof window === "undefined") {
                error = error + authRecipe.SSR_ERROR;
            }
            throw Error(error);
        }
        return Passwordless.instance;
    };
    /*
     * Tests methods.
     */
    Passwordless.reset = function () {
        if (!authRecipe.isTest()) {
            return;
        }
        Passwordless.instance = undefined;
        return;
    };
    Passwordless.RECIPE_ID = "passwordless";
    return Passwordless;
})(authRecipe.AuthRecipe);

exports.CloseTabScreen = CloseTabScreen;
exports.EmailForm = EmailForm;
exports.EmailOrPhoneForm = EmailOrPhoneForm;
exports.LinkClickedScreen = LinkClickedScreen$1;
exports.LinkSent = LinkSent;
exports.Passwordless = Passwordless;
exports.PhoneForm = PhoneForm;
exports.SignInUpThemeWrapper = SignInUpThemeWrapper;
exports.UserInputCodeForm = UserInputCodeForm;
exports.UserInputCodeFormHeader = UserInputCodeFormHeader;
exports.consumeCode = consumeCode;
exports.createCode = createCode;
exports.defaultTranslationsPasswordless = defaultTranslationsPasswordless;
exports.getActiveScreen = getActiveScreen;
exports.getRecipeImplementation = getRecipeImplementation;
exports.resendCode = resendCode;
exports.useChildProps = useChildProps;
exports.useFeatureReducer = useFeatureReducer;
exports.useSuccessInAnotherTabChecker = useSuccessInAnotherTabChecker;
//# sourceMappingURL=passwordless-shared.js.map
